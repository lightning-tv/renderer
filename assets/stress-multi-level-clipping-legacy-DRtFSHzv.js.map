{"version":3,"file":"stress-multi-level-clipping-legacy-DRtFSHzv.js","sources":["../../tests/stress-multi-level-clipping.ts"],"sourcesContent":["/*\n * If not stated otherwise in this file or this component's LICENSE file the\n * following copyright and licenses apply:\n *\n * Copyright 2023 Comcast Cable Communications Management, LLC.\n *\n * Licensed under the Apache License, Version 2.0 (the License);\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { type INode } from '@lightningjs/renderer';\nimport type { ExampleSettings } from '../common/ExampleSettings.js';\nimport robotImg from '../assets/robot/robot.png';\n\nconst randomIntBetween = (from: number, to: number) =>\n  Math.floor(Math.random() * (to - from + 1) + from);\n\nexport default async function ({\n  renderer,\n  testRoot,\n  perfMultiplier,\n}: ExampleSettings) {\n  // create nodes\n  const numOuterNodes = 100 * perfMultiplier;\n  const nodes: INode[] = [];\n  let totalNodes = 0;\n\n  const bg = renderer.createNode({\n    width: 1920,\n    height: 1080,\n    color: 0xff1e293b,\n    parent: testRoot,\n  });\n\n  for (let i = 0; i < numOuterNodes; i++) {\n    const container = renderer.createNode({\n      x: Math.random() * 1920,\n      y: Math.random() * 1080,\n      width: 100,\n      height: 100,\n      clipping: true,\n      parent: bg,\n    });\n    const node = renderer.createNode({\n      mount: 0.5,\n      x: 50,\n      y: 50,\n      width: 200,\n      height: 200,\n      src: robotImg,\n      parent: container,\n    });\n\n    nodes.push(container);\n    totalNodes += 2;\n  }\n\n  console.log(\n    `Created ${numOuterNodes} clipping outer nodes with an image node nested inside. Total nodes: ${totalNodes}`,\n  );\n\n  // create animations\n  const animate = () => {\n    nodes.forEach((node) => {\n      node\n        .animate(\n          {\n            x: randomIntBetween(20, 1740),\n            y: randomIntBetween(20, 900),\n          },\n          {\n            duration: 3000,\n            easing: 'ease-out',\n            loop: true,\n            stopMethod: 'reverse',\n          },\n        )\n        .start();\n    });\n  };\n\n  animate();\n}\n"],"names":["randomIntBetween","from","to","Math","floor","random","stressMultiLevelClipping","_0","__async","arguments","_ref","renderer","testRoot","perfMultiplier","_regeneratorRuntime","mark","_callee","numOuterNodes","nodes","totalNodes","bg","i","container","animate","wrap","_callee$","_context","prev","next","createNode","width","height","color","parent","x","y","clipping","mount","src","robotImg","push","console","log","concat","forEach","node","duration","easing","loop","stopMethod","start","stop"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;QAuBA,IAAMA,gBAAmB,GAAA,SAAnBA,gBAAmBA,CAACC,IAAc,EAAAC,EAAA;UAAA,OACtCC,IAAK,CAAAC,KAAA,CAAMD,IAAK,CAAAE,MAAA,CAAA,CAAY,IAAAH,EAAA,GAAKD,IAAO,GAAA,CAAA,CAAA,GAAKA,IAAI,CAAA;QAAA;QAEnD,SAAAK,wBAAAA,CAA+BC,EAIX,EAAA;UAJW,OAAAC,OAAA,CAAA,IAAA,EAAAC,SAAA,EAAA,UAAAC,IAAA;YAAA,IAC7BC,QAAA,GAAAD,IAAA,CAAAC,QAAA;cACAC,QAAA,GAAAF,IAAA,CAAAE,QAAA;cACAC,cAAA,GAAAH,IAAA,CAAAG,cAAA;YAAA,oBAAAC,mBAAA,GAAAC,IAAA,UAAAC,QAAA;cAAA,IAAAC,aAAA,EAAAC,KAAA,EAAAC,UAAA,EAAAC,EAAA,EAAAC,CAAA,EAAAC,SAAA,EAAAC,OAAA;cAAA,OAAAT,mBAAA,GAAAU,IAAA,UAAAC,SAAAC,QAAA;gBAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;kBAAA;oBAGMX,gBAAgB,GAAM,GAAAJ,cAAA;oBACtBK,QAAiB,EAAC;oBACpBC,UAAa,GAAA,CAAA;oBAEXC,EAAA,GAAKT,SAASkB,UAAW,CAAA;sBAC7BC,KAAO,EAAA,IAAA;sBACPC,MAAQ,EAAA,IAAA;sBACRC,KAAO,EAAA,UAAA;sBACPC,MAAQ,EAAArB;oBAAA,CACT,CAAA;oBAED,KAASS,CAAI,GAAA,CAAA,EAAGA,CAAI,GAAAJ,aAAA,EAAeI,CAAK,EAAA,EAAA;sBAChCC,SAAA,GAAYX,SAASkB,UAAW,CAAA;wBACpCK,CAAA,EAAG/B,IAAK,CAAAE,MAAA,CAAA,CAAW,GAAA,IAAA;wBACnB8B,CAAA,EAAGhC,IAAK,CAAAE,MAAA,CAAA,CAAW,GAAA,IAAA;wBACnByB,KAAO,EAAA,GAAA;wBACPC,MAAQ,EAAA,GAAA;wBACRK,QAAU,EAAA,IAAA;wBACVH,MAAQ,EAAAb;sBAAA,CACT,CAAA;sBACYT,SAASkB,UAAW,CAAA;wBAC/BQ,KAAO,EAAA,GAAA;wBACPH,CAAG,EAAA,EAAA;wBACHC,CAAG,EAAA,EAAA;wBACHL,KAAO,EAAA,GAAA;wBACPC,MAAQ,EAAA,GAAA;wBACRO,GAAK,EAAAC,QAAA;wBACLN,MAAQ,EAAAX;sBAAA,CACT,CAAA;sBAEDJ,KAAA,CAAMsB,KAAKlB,SAAS,CAAA;sBACNH,UAAA,IAAA,CAAA;oBAChB;oBAEQsB,OAAA,CAAAC,GAAA,YAAAC,MAAA,CACK1B,aAAa,2EAAA0B,MAAA,CAAwExB,UAAU,CAAA,CAC5G;oBAGMI,UAAU,SAAVA,UAAgB;sBACdL,KAAA,CAAA0B,OAAA,CAAQ,UAACC,IAAS,EAAA;wBAEnBA,IAAA,CAAAtB,OAAA,CACC;0BACEW,CAAA,EAAGlC,gBAAiB,CAAA,EAAA,EAAI,IAAI,CAAA;0BAC5BmC,CAAA,EAAGnC,gBAAiB,CAAA,EAAA,EAAI,GAAG;wBAC7B,CAAA,EACA;0BACE8C,QAAU,EAAA,GAAA;0BACVC,MAAQ,EAAA,UAAA;0BACRC,IAAM,EAAA,IAAA;0BACNC,UAAY,EAAA;wBACd,GAEDC,KAAM,CAAA,CAAA;sBAAA,CACV,CAAA;oBAAA,CACH;oBAEQ3B,OAAA,EAAA;kBAAA;kBAAA;oBAAA,OAAAG,QAAA,CAAAyB,IAAA;gBAAA;cAAA,GAAAnC,OAAA;YAAA;UAAA,CACV,CAAA;QAAA;;;;"}
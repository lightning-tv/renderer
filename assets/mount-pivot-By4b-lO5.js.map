{"version":3,"file":"mount-pivot-By4b-lO5.js","sources":["../../tests/mount-pivot.ts"],"sourcesContent":["/*\n * If not stated otherwise in this file or this component's LICENSE file the\n * following copyright and licenses apply:\n *\n * Copyright 2023 Comcast Cable Communications Management, LLC.\n *\n * Licensed under the Apache License, Version 2.0 (the License);\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport type { ExampleSettings } from '../common/ExampleSettings.js';\n\nexport default async function ({ renderer, testRoot }: ExampleSettings) {\n  const randomColor = () => {\n    const randomInt = Math.floor(Math.random() * Math.pow(2, 32));\n    const hexString = randomInt.toString(16).padStart(8, '0');\n\n    return parseInt(hexString, 16);\n  };\n\n  const rnd = (min: number, max: number) => {\n    return Math.floor(Math.random() * (max - min + 1) + min);\n  };\n\n  const bg = renderer.createNode({\n    x: 0,\n    y: 0,\n    width: 1920,\n    height: 1080,\n    color: 0x000000ff,\n    parent: testRoot,\n  });\n\n  const x = renderer.createNode({\n    x: 0,\n    y: 1080 / 2,\n    width: 1920,\n    height: 4,\n    color: 0xffffffff,\n    parent: testRoot,\n    mountY: 0.5,\n  });\n\n  const y = renderer.createNode({\n    x: 1920 / 2,\n    y: 0,\n    width: 4,\n    height: 1080,\n    color: 0xffffffff,\n    parent: testRoot,\n    mountX: 0.5,\n  });\n\n  const pivotX = 0.5;\n  const pivotY = 0.5;\n\n  const mountX = 0.5;\n  const mountY = 0.5;\n\n  const node = renderer.createNode({\n    x: 1920 / 2,\n    y: 1080 / 2,\n    width: 500,\n    height: 500,\n    colorBottom: randomColor() * 0xffffffaa,\n    colorTop: randomColor() * 0xffffffaa,\n    parent: testRoot,\n    shader: renderer.createShader('RoundedRectangle', {\n      radius: rnd(10, 50),\n    }),\n    mountX,\n    mountY,\n    pivotX,\n    pivotY,\n  });\n\n  const pivotPoint = renderer.createNode({\n    x: pivotX * 500,\n    y: pivotY * 500,\n    width: 20,\n    height: 20,\n    color: 0xffffffff,\n    parent: node,\n    shader: renderer.createShader('RoundedRectangle', {\n      radius: 10,\n    }),\n    scale: 1,\n    mount: 0.5,\n  });\n\n  // eslint-disable-next-line @typescript-eslint/no-misused-promises\n  setTimeout(async () => {\n    const dimension = node\n      .animate(\n        {\n          width: 1920,\n        },\n        {\n          duration: 450,\n          loop: false,\n          stopMethod: 'reverse',\n          easing: 'ease-in-out',\n        },\n      )\n      .start();\n\n    await dimension.waitUntilStopped();\n\n    const rotate = node\n      .animate(\n        {\n          rotation: Math.PI,\n        },\n        {\n          duration: rnd(1500, 1700),\n          loop: false,\n          stopMethod: 'reverse',\n          easing: 'ease-in-out',\n        },\n      )\n      .start();\n    await rotate.waitUntilStopped();\n  }, 2300);\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;AAqBA,SAAA,WAA+B,IAAyC;AAAzC,SAAA,QAAA,MAAA,WAAA,WAAA,EAAE,UAAU,YAA6B;AACtE,UAAM,cAAc,MAAM;AAClB,YAAA,YAAY,KAAK,MAAM,KAAK,WAAW,KAAK,IAAI,GAAG,EAAE,CAAC;AAC5D,YAAM,YAAY,UAAU,SAAS,EAAE,EAAE,SAAS,GAAG,GAAG;AAEjD,aAAA,SAAS,WAAW,EAAE;AAAA,IAAA;AAGzB,UAAA,MAAM,CAAC,KAAa,QAAgB;AACjC,aAAA,KAAK,MAAM,KAAK,OAAA,KAAY,MAAM,MAAM,KAAK,GAAG;AAAA,IAAA;AAG9C,aAAS,WAAW;AAAA,MAC7B,GAAG;AAAA,MACH,GAAG;AAAA,MACH,OAAO;AAAA,MACP,QAAQ;AAAA,MACR,OAAO;AAAA,MACP,QAAQ;AAAA,IAAA,CACT;AAES,aAAS,WAAW;AAAA,MAC5B,GAAG;AAAA,MACH,GAAG,OAAO;AAAA,MACV,OAAO;AAAA,MACP,QAAQ;AAAA,MACR,OAAO;AAAA,MACP,QAAQ;AAAA,MACR,QAAQ;AAAA,IAAA,CACT;AAES,aAAS,WAAW;AAAA,MAC5B,GAAG,OAAO;AAAA,MACV,GAAG;AAAA,MACH,OAAO;AAAA,MACP,QAAQ;AAAA,MACR,OAAO;AAAA,MACP,QAAQ;AAAA,MACR,QAAQ;AAAA,IAAA,CACT;AAED,UAAM,SAAS;AACf,UAAM,SAAS;AAEf,UAAM,SAAS;AACf,UAAM,SAAS;AAET,UAAA,OAAO,SAAS,WAAW;AAAA,MAC/B,GAAG,OAAO;AAAA,MACV,GAAG,OAAO;AAAA,MACV,OAAO;AAAA,MACP,QAAQ;AAAA,MACR,aAAa,gBAAgB;AAAA,MAC7B,UAAU,gBAAgB;AAAA,MAC1B,QAAQ;AAAA,MACR,QAAQ,SAAS,aAAa,oBAAoB;AAAA,QAChD,QAAQ,IAAI,IAAI,EAAE;AAAA,MAAA,CACnB;AAAA,MACD;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,IAAA,CACD;AAEkB,aAAS,WAAW;AAAA,MACrC,GAAG,SAAS;AAAA,MACZ,GAAG,SAAS;AAAA,MACZ,OAAO;AAAA,MACP,QAAQ;AAAA,MACR,OAAO;AAAA,MACP,QAAQ;AAAA,MACR,QAAQ,SAAS,aAAa,oBAAoB;AAAA,QAChD,QAAQ;AAAA,MAAA,CACT;AAAA,MACD,OAAO;AAAA,MACP,OAAO;AAAA,IAAA,CACR;AAGD,eAAW,MAAY,QAAA,MAAA,MAAA,aAAA;AACrB,YAAM,YAAY,KACf;AAAA,QACC;AAAA,UACE,OAAO;AAAA,QACT;AAAA,QACA;AAAA,UACE,UAAU;AAAA,UACV,MAAM;AAAA,UACN,YAAY;AAAA,UACZ,QAAQ;AAAA,QACV;AAAA,QAED,MAAM;AAET,YAAM,UAAU;AAEhB,YAAM,SAAS,KACZ;AAAA,QACC;AAAA,UACE,UAAU,KAAK;AAAA,QACjB;AAAA,QACA;AAAA,UACE,UAAU,IAAI,MAAM,IAAI;AAAA,UACxB,MAAM;AAAA,UACN,YAAY;AAAA,UACZ,QAAQ;AAAA,QACV;AAAA,QAED,MAAM;AACT,YAAM,OAAO;IAAiB,IAC7B,IAAI;AAAA,EAAA,CACT;AAAA;"}
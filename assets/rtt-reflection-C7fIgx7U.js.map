{"version":3,"file":"rtt-reflection-C7fIgx7U.js","sources":["../../tests/rtt-reflection.ts"],"sourcesContent":["import type { ExampleSettings } from '../common/ExampleSettings.js';\n\nconst randomColor = () => {\n  const randomInt = Math.floor(Math.random() * Math.pow(2, 32));\n  const hexString = randomInt.toString(16).padStart(8, '0');\n  return parseInt(hexString, 16);\n};\n\nexport default async function ({ renderer, testRoot }: ExampleSettings) {\n  const node = renderer.createNode({\n    x: 0,\n    y: 0,\n    width: 1920,\n    height: 1080,\n    color: 0x000000ff,\n    parent: testRoot,\n  });\n\n  const rootRenderToTextureNode = renderer.createNode({\n    x: 0,\n    y: 0,\n    width: 1920,\n    height: 540,\n    parent: node,\n    rtt: true,\n    zIndex: 5,\n    color: 0xffffffff,\n  });\n\n  const reflectionNode = renderer.createNode({\n    x: 0,\n    y: 540,\n    width: 1920,\n    height: 540,\n    colorTop: 0xc0ffee00,\n    colorBottom: 0x97abffff,\n    parent: node,\n    scaleY: -1,\n    alpha: 0.8,\n    // Copy source texture from rootRenderToTextureNode\n    texture: rootRenderToTextureNode.texture,\n  });\n\n  new Array(105).fill(0).forEach((_, i) => {\n    const a = renderer.createNode({\n      parent: rootRenderToTextureNode,\n      x: (i % 15) * 120 + 50,\n      y: Math.floor(i / 15) * 140 + 1920,\n      width: 120,\n      height: 120,\n      scale: 0.5,\n      src: `https://picsum.photos/id/${i + 30}/120/120`,\n    });\n\n    const animation = a.animate(\n      {\n        rotation: Math.random() * Math.PI * 2,\n        scale: 1.5,\n        y: Math.floor(i / 15) * 140 + 250,\n      },\n      {\n        duration: Math.random() * 4000 + 3000,\n        loop: true,\n        stopMethod: 'reverse',\n        easing: 'ease-in-out',\n      },\n    );\n    animation.start();\n  });\n\n  const rttLabel = renderer.createTextNode({\n    parent: rootRenderToTextureNode,\n    x: 80,\n    y: 540,\n    fontFamily: 'Ubuntu',\n    fontSize: 40,\n    text: 'RTT reflection demo',\n  });\n\n  const animation = rttLabel.animate(\n    {\n      y: 420,\n    },\n    {\n      duration: 6000,\n      delay: 400,\n      loop: true,\n      stopMethod: 'reverse',\n      easing: 'ease-in-out',\n    },\n  );\n  animation.start();\n\n  setInterval(() => {\n    const a = reflectionNode.animate(\n      {\n        colorTop: randomColor(),\n        colorBottom: randomColor(),\n      },\n      {\n        duration: 4000,\n        easing: 'ease-in-out',\n      },\n    );\n    a.start();\n  }, 4400);\n}\n"],"names":["animation"],"mappings":"AAEA,MAAM,cAAc,MAAM;AAClB,QAAA,YAAY,KAAK,MAAM,KAAK,WAAW,KAAK,IAAI,GAAG,EAAE,CAAC;AAC5D,QAAM,YAAY,UAAU,SAAS,EAAE,EAAE,SAAS,GAAG,GAAG;AACjD,SAAA,SAAS,WAAW,EAAE;AAC/B;AAE+B,eAAA,cAAA,EAAE,UAAU,YAA6B;AAChE,QAAA,OAAO,SAAS,WAAW;AAAA,IAC/B,GAAG;AAAA,IACH,GAAG;AAAA,IACH,OAAO;AAAA,IACP,QAAQ;AAAA,IACR,OAAO;AAAA,IACP,QAAQ;AAAA,EAAA,CACT;AAEK,QAAA,0BAA0B,SAAS,WAAW;AAAA,IAClD,GAAG;AAAA,IACH,GAAG;AAAA,IACH,OAAO;AAAA,IACP,QAAQ;AAAA,IACR,QAAQ;AAAA,IACR,KAAK;AAAA,IACL,QAAQ;AAAA,IACR,OAAO;AAAA,EAAA,CACR;AAEK,QAAA,iBAAiB,SAAS,WAAW;AAAA,IACzC,GAAG;AAAA,IACH,GAAG;AAAA,IACH,OAAO;AAAA,IACP,QAAQ;AAAA,IACR,UAAU;AAAA,IACV,aAAa;AAAA,IACb,QAAQ;AAAA,IACR,QAAQ;AAAA,IACR,OAAO;AAAA;AAAA,IAEP,SAAS,wBAAwB;AAAA,EAAA,CAClC;AAEG,MAAA,MAAM,GAAG,EAAE,KAAK,CAAC,EAAE,QAAQ,CAAC,GAAG,MAAM;AACjC,UAAA,IAAI,SAAS,WAAW;AAAA,MAC5B,QAAQ;AAAA,MACR,GAAI,IAAI,KAAM,MAAM;AAAA,MACpB,GAAG,KAAK,MAAM,IAAI,EAAE,IAAI,MAAM;AAAA,MAC9B,OAAO;AAAA,MACP,QAAQ;AAAA,MACR,OAAO;AAAA,MACP,KAAK,4BAA4B,IAAI,EAAE;AAAA,IAAA,CACxC;AAED,UAAMA,aAAY,EAAE;AAAA,MAClB;AAAA,QACE,UAAU,KAAK,OAAO,IAAI,KAAK,KAAK;AAAA,QACpC,OAAO;AAAA,QACP,GAAG,KAAK,MAAM,IAAI,EAAE,IAAI,MAAM;AAAA,MAChC;AAAA,MACA;AAAA,QACE,UAAU,KAAK,OAAO,IAAI,MAAO;AAAA,QACjC,MAAM;AAAA,QACN,YAAY;AAAA,QACZ,QAAQ;AAAA,MACV;AAAA,IAAA;AAEFA,eAAU,MAAM;AAAA,EAAA,CACjB;AAEK,QAAA,WAAW,SAAS,eAAe;AAAA,IACvC,QAAQ;AAAA,IACR,GAAG;AAAA,IACH,GAAG;AAAA,IACH,YAAY;AAAA,IACZ,UAAU;AAAA,IACV,MAAM;AAAA,EAAA,CACP;AAED,QAAM,YAAY,SAAS;AAAA,IACzB;AAAA,MACE,GAAG;AAAA,IACL;AAAA,IACA;AAAA,MACE,UAAU;AAAA,MACV,OAAO;AAAA,MACP,MAAM;AAAA,MACN,YAAY;AAAA,MACZ,QAAQ;AAAA,IACV;AAAA,EAAA;AAEF,YAAU,MAAM;AAEhB,cAAY,MAAM;AAChB,UAAM,IAAI,eAAe;AAAA,MACvB;AAAA,QACE,UAAU,YAAY;AAAA,QACtB,aAAa,YAAY;AAAA,MAC3B;AAAA,MACA;AAAA,QACE,UAAU;AAAA,QACV,QAAQ;AAAA,MACV;AAAA,IAAA;AAEF,MAAE,MAAM;AAAA,KACP,IAAI;AACT;"}
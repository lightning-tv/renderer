{"version":3,"file":"render-bounds-legacy-Bj5bR6mm.js","sources":["../../tests/render-bounds.ts"],"sourcesContent":["import type { IAnimationController } from '@lightningjs/renderer';\nimport type { ExampleSettings } from '../common/ExampleSettings.js';\n\nexport default async function ({ renderer, testRoot }: ExampleSettings) {\n  const degToRad = (deg: number) => {\n    return (Math.PI / 180) * deg;\n  };\n\n  const greenRect = renderer.createNode({\n    x: 0,\n    y: 540,\n    width: 960,\n    height: 540,\n    color: 0x00ff00ff,\n    clipping: true,\n    parent: testRoot,\n  });\n\n  const redRect = renderer.createNode({\n    // skipRender: true,\n    x: 0,\n    y: 0,\n    alpha: 1,\n    width: 200,\n    height: 200,\n    color: 0xff0000ff,\n    pivot: 0,\n    parent: testRoot,\n  });\n\n  redRect.on('outOfViewport', () => {\n    console.log('red rect outside view port');\n  });\n\n  redRect.on('inViewport', () => {\n    console.log('red rect in view port');\n  });\n\n  let redRectAnimation: IAnimationController | null = null;\n  // eslint-disable-next-line @typescript-eslint/no-misused-promises\n  setTimeout(async () => {\n    // eslint-disable-next-line no-constant-condition\n    while (true) {\n      redRectAnimation = redRect\n        .animate(\n          {\n            x: 0,\n          },\n          {\n            delay: 2000,\n            duration: 2000,\n          },\n        )\n        .start();\n      await redRectAnimation.waitUntilStopped();\n\n      redRectAnimation = redRect\n        .animate(\n          {\n            x: -205,\n          },\n          {\n            duration: 2000,\n          },\n        )\n        .start();\n      await redRectAnimation.waitUntilStopped();\n    }\n  }, 1000);\n\n  const blueRect = renderer.createNode({\n    x: 1921,\n    y: 540,\n    width: 540,\n    height: 540,\n    color: 0x0000ffff,\n    mountX: 0.5,\n    mountY: 0.5,\n    rotation: degToRad(45 + 180),\n    parent: greenRect,\n  });\n\n  blueRect.on('outOfBounds', () => {\n    console.log('blue rect outside render bounds');\n  });\n\n  blueRect.on('inBounds', () => {\n    console.log('blue rect in render bounds');\n  });\n\n  let blueRectAnimation: IAnimationController | null = null;\n  // eslint-disable-next-line @typescript-eslint/no-misused-promises\n  setTimeout(async () => {\n    // eslint-disable-next-line no-constant-condition\n    while (true) {\n      blueRectAnimation = blueRect\n        .animate(\n          {\n            rotation: degToRad(360),\n            x: 1000,\n          },\n          {\n            delay: 1000,\n            duration: 2000,\n          },\n        )\n        .start();\n      await blueRectAnimation.waitUntilStopped();\n\n      blueRectAnimation = blueRect\n        .animate(\n          {\n            rotation: degToRad(45),\n            x: 2400,\n          },\n          {\n            duration: 2000,\n          },\n        )\n        .start();\n      await blueRectAnimation.waitUntilStopped();\n    }\n  }, 1000);\n}\n"],"names":["renderBounds","_0","__async","arguments","_ref","_this","renderer","testRoot","_regeneratorRuntime","mark","_callee3","degToRad","greenRect","redRect","redRectAnimation","blueRect","blueRectAnimation","wrap","_callee3$","_context3","prev","next","deg","Math","PI","createNode","x","y","width","height","color","clipping","parent","alpha","pivot","on","console","log","setTimeout","_callee","_callee$","_context","animate","delay","duration","start","waitUntilStopped","stop","mountX","mountY","rotation","_callee2","_callee2$","_context2"],"mappings":"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"}
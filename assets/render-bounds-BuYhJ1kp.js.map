{"version":3,"file":"render-bounds-BuYhJ1kp.js","sources":["../../tests/render-bounds.ts"],"sourcesContent":["import type { IAnimationController } from '@lightningjs/renderer';\nimport type { ExampleSettings } from '../common/ExampleSettings.js';\n\nexport default async function ({ renderer, testRoot }: ExampleSettings) {\n  const degToRad = (deg: number) => {\n    return (Math.PI / 180) * deg;\n  };\n\n  const greenRect = renderer.createNode({\n    x: 0,\n    y: 540,\n    width: 960,\n    height: 540,\n    color: 0x00ff00ff,\n    clipping: true,\n    parent: testRoot,\n  });\n\n  const redRect = renderer.createNode({\n    // skipRender: true,\n    x: 0,\n    y: 0,\n    alpha: 1,\n    width: 200,\n    height: 200,\n    color: 0xff0000ff,\n    pivot: 0,\n    parent: testRoot,\n  });\n\n  redRect.on('outOfViewport', () => {\n    console.log('red rect outside view port');\n  });\n\n  redRect.on('inViewport', () => {\n    console.log('red rect in view port');\n  });\n\n  let redRectAnimation: IAnimationController | null = null;\n  // eslint-disable-next-line @typescript-eslint/no-misused-promises\n  setTimeout(async () => {\n    // eslint-disable-next-line no-constant-condition\n    while (true) {\n      redRectAnimation = redRect\n        .animate(\n          {\n            x: 0,\n          },\n          {\n            delay: 2000,\n            duration: 2000,\n          },\n        )\n        .start();\n      await redRectAnimation.waitUntilStopped();\n\n      redRectAnimation = redRect\n        .animate(\n          {\n            x: -205,\n          },\n          {\n            duration: 2000,\n          },\n        )\n        .start();\n      await redRectAnimation.waitUntilStopped();\n    }\n  }, 1000);\n\n  const blueRect = renderer.createNode({\n    x: 1921,\n    y: 540,\n    width: 540,\n    height: 540,\n    color: 0x0000ffff,\n    mountX: 0.5,\n    mountY: 0.5,\n    rotation: degToRad(45 + 180),\n    parent: greenRect,\n  });\n\n  blueRect.on('outOfBounds', () => {\n    console.log('blue rect outside render bounds');\n  });\n\n  blueRect.on('inBounds', () => {\n    console.log('blue rect in render bounds');\n  });\n\n  let blueRectAnimation: IAnimationController | null = null;\n  // eslint-disable-next-line @typescript-eslint/no-misused-promises\n  setTimeout(async () => {\n    // eslint-disable-next-line no-constant-condition\n    while (true) {\n      blueRectAnimation = blueRect\n        .animate(\n          {\n            rotation: degToRad(360),\n            x: 1000,\n          },\n          {\n            delay: 1000,\n            duration: 2000,\n          },\n        )\n        .start();\n      await blueRectAnimation.waitUntilStopped();\n\n      blueRectAnimation = blueRect\n        .animate(\n          {\n            rotation: degToRad(45),\n            x: 2400,\n          },\n          {\n            duration: 2000,\n          },\n        )\n        .start();\n      await blueRectAnimation.waitUntilStopped();\n    }\n  }, 1000);\n}\n"],"names":[],"mappings":"AAG+B,eAAA,aAAA,EAAE,UAAU,YAA6B;AAChE,QAAA,WAAW,CAAC,QAAgB;AACxB,WAAA,KAAK,KAAK,MAAO;AAAA,EAAA;AAGrB,QAAA,YAAY,SAAS,WAAW;AAAA,IACpC,GAAG;AAAA,IACH,GAAG;AAAA,IACH,OAAO;AAAA,IACP,QAAQ;AAAA,IACR,OAAO;AAAA,IACP,UAAU;AAAA,IACV,QAAQ;AAAA,EAAA,CACT;AAEK,QAAA,UAAU,SAAS,WAAW;AAAA;AAAA,IAElC,GAAG;AAAA,IACH,GAAG;AAAA,IACH,OAAO;AAAA,IACP,OAAO;AAAA,IACP,QAAQ;AAAA,IACR,OAAO;AAAA,IACP,OAAO;AAAA,IACP,QAAQ;AAAA,EAAA,CACT;AAEO,UAAA,GAAG,iBAAiB,MAAM;AAChC,YAAQ,IAAI,4BAA4B;AAAA,EAAA,CACzC;AAEO,UAAA,GAAG,cAAc,MAAM;AAC7B,YAAQ,IAAI,uBAAuB;AAAA,EAAA,CACpC;AAED,MAAI,mBAAgD;AAEpD,aAAW,YAAY;AAErB,WAAO,MAAM;AACX,yBAAmB,QAChB;AAAA,QACC;AAAA,UACE,GAAG;AAAA,QACL;AAAA,QACA;AAAA,UACE,OAAO;AAAA,UACP,UAAU;AAAA,QACZ;AAAA,QAED,MAAM;AACT,YAAM,iBAAiB;AAEvB,yBAAmB,QAChB;AAAA,QACC;AAAA,UACE,GAAG;AAAA,QACL;AAAA,QACA;AAAA,UACE,UAAU;AAAA,QACZ;AAAA,QAED,MAAM;AACT,YAAM,iBAAiB;IACzB;AAAA,KACC,GAAI;AAED,QAAA,WAAW,SAAS,WAAW;AAAA,IACnC,GAAG;AAAA,IACH,GAAG;AAAA,IACH,OAAO;AAAA,IACP,QAAQ;AAAA,IACR,OAAO;AAAA,IACP,QAAQ;AAAA,IACR,QAAQ;AAAA,IACR,UAAU,SAAS,KAAK,GAAG;AAAA,IAC3B,QAAQ;AAAA,EAAA,CACT;AAEQ,WAAA,GAAG,eAAe,MAAM;AAC/B,YAAQ,IAAI,iCAAiC;AAAA,EAAA,CAC9C;AAEQ,WAAA,GAAG,YAAY,MAAM;AAC5B,YAAQ,IAAI,4BAA4B;AAAA,EAAA,CACzC;AAED,MAAI,oBAAiD;AAErD,aAAW,YAAY;AAErB,WAAO,MAAM;AACX,0BAAoB,SACjB;AAAA,QACC;AAAA,UACE,UAAU,SAAS,GAAG;AAAA,UACtB,GAAG;AAAA,QACL;AAAA,QACA;AAAA,UACE,OAAO;AAAA,UACP,UAAU;AAAA,QACZ;AAAA,QAED,MAAM;AACT,YAAM,kBAAkB;AAExB,0BAAoB,SACjB;AAAA,QACC;AAAA,UACE,UAAU,SAAS,EAAE;AAAA,UACrB,GAAG;AAAA,QACL;AAAA,QACA;AAAA,UACE,UAAU;AAAA,QACZ;AAAA,QAED,MAAM;AACT,YAAM,kBAAkB;IAC1B;AAAA,KACC,GAAI;AACT;"}
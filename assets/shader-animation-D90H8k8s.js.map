{"version":3,"file":"shader-animation-D90H8k8s.js","sources":["../../tests/shader-animation.ts"],"sourcesContent":["/*\n * If not stated otherwise in this file or this component's LICENSE file the\n * following copyright and licenses apply:\n *\n * Copyright 2023 Comcast Cable Communications Management, LLC.\n *\n * Licensed under the Apache License, Version 2.0 (the License);\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport type { ExampleSettings } from '../common/ExampleSettings.js';\n\nexport async function automation(settings: ExampleSettings) {\n  // Snapshot single page\n  await test(settings);\n  // await settings.snapshot();\n}\n\nexport default async function test({\n  renderer,\n  testRoot,\n  snapshot,\n}: ExampleSettings) {\n  const degToRad = (deg: number) => {\n    return (Math.PI / 180) * deg;\n  };\n\n  const nodeSize = {\n    width: 300,\n    height: 300,\n  };\n\n  const t1 = renderer.createNode({\n    ...nodeSize,\n    x: 90,\n    y: 90,\n    color: 0xff0000ff,\n    shader: renderer.createShader('RoundedRectangle', {\n      radius: 100,\n    }),\n    parent: testRoot,\n  });\n\n  const t1Radius = renderer.createTextNode({\n    mountX: 1,\n    x: testRoot.width - 90,\n    y: 90,\n    fontSize: 40,\n    fontFamily: 'Ubuntu',\n    text: 'radius: 100',\n    parent: testRoot,\n    color: 0xffffffff,\n  });\n\n  const t2 = renderer.createNode({\n    ...nodeSize,\n    x: 90,\n    y: 540,\n    color: 0x00ff00ff,\n    shader: renderer.createDynamicShader([\n      renderer.createEffect(\n        'radius',\n        {\n          radius: 0,\n        },\n        'r1',\n      ),\n      renderer.createEffect(\n        'border',\n        {\n          color: 0xff00ffff,\n          width: 10,\n        },\n        'e1',\n      ),\n    ]),\n    parent: testRoot,\n  });\n\n  const t2Radius = renderer.createTextNode({\n    mountX: 1,\n    x: testRoot.width - 90,\n    y: 540,\n    fontSize: 40,\n    fontFamily: 'Ubuntu',\n    text: 'radius: 0',\n    parent: testRoot,\n    color: 0xffffffff,\n  });\n\n  const t2Border = renderer.createTextNode({\n    mountX: 1,\n    x: testRoot.width - 90,\n    y: 590,\n    fontSize: 40,\n    fontFamily: 'Ubuntu',\n    text: 'border: 10',\n    parent: testRoot,\n    color: 0xffffffff,\n  });\n\n  await snapshot({ name: 'startup' });\n\n  const shaderAnimation = t1.animate(\n    {\n      x: 1140,\n      shaderProps: {\n        radius: 150,\n      },\n    },\n    {\n      duration: 500,\n    },\n  );\n  shaderAnimation.start();\n  await shaderAnimation.waitUntilStopped();\n  t1Radius.text = 'radius: ' + t1.shader.props.radius!.toString();\n\n  await snapshot({ name: 'animation1' });\n\n  const shaderAnimation2 = t2.animate(\n    {\n      x: 1140,\n      shaderProps: {\n        r1: {\n          radius: 150,\n        },\n        e1: {\n          width: 50,\n        },\n      },\n    },\n    {\n      duration: 500,\n    },\n  );\n\n  shaderAnimation2.start();\n  await shaderAnimation2.waitUntilStopped();\n  t2Radius.text = 'radius: ' + t2.shader.props.r1.radius!.toString();\n  t2Border.text = 'border: ' + t2.shader.props.e1.width!.toString();\n\n  await snapshot({ name: 'animation2' });\n  console.log('ready!');\n}\n"],"names":[],"mappings":"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"}
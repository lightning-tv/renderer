{"version":3,"file":"zIndex-BweyI79r.js","sources":["../../tests/zIndex.ts"],"sourcesContent":["/*\n * If not stated otherwise in this file or this component's LICENSE file the\n * following copyright and licenses apply:\n *\n * Copyright 2023 Comcast Cable Communications Management, LLC.\n *\n * Licensed under the Apache License, Version 2.0 (the License);\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport type { ExampleSettings } from '../common/ExampleSettings.js';\n\nexport const Colors = {\n  Black: 0x000000ff,\n  Red: 0xff0000ff,\n  Green: 0x00ff00ff,\n  Blue: 0x0000ffff,\n  Magenta: 0xff00ffff,\n  Gray: 0x7f7f7fff,\n  White: 0xffffffff,\n};\n\nexport async function automation(settings: ExampleSettings) {\n  // Snapshot single page\n  await test(settings);\n  await settings.snapshot();\n}\n\nexport default async function test({ renderer, testRoot }: ExampleSettings) {\n  const leftStackText = renderer.createTextNode({\n    x: 100,\n    y: 100,\n    width: 400,\n    height: 268,\n    color: 0xffffffff,\n    alpha: 1.0,\n    text: 'These should neatly stack on top of each other.',\n    contain: 'both',\n    fontFamily: 'Ubuntu',\n    fontSize: 30,\n    textAlign: 'center',\n    parent: testRoot,\n    zIndex: 3,\n  });\n\n  const generatedRectangles: any = [];\n\n  Array(10)\n    .fill(null)\n    .forEach((_, i) => {\n      const color = Object.keys(Colors)[i % Object.keys(Colors).length];\n\n      generatedRectangles.push(\n        renderer.createNode({\n          x: 200 + i * 20,\n          y: 200 + i * 20,\n          width: 200,\n          height: 200,\n          // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n          //@ts-ignore\n          color: Colors[color],\n          shader: renderer.createShader('RoundedRectangle', {\n            radius: 2,\n          }),\n          zIndex: 10 + (i + 1),\n          parent: testRoot,\n        }),\n      );\n    });\n\n  const parentRect = renderer.createNode({\n    x: 800,\n    y: 200,\n    width: 600,\n    height: 600,\n    color: Colors.Gray,\n    // shader: renderer.createShader('RoundedRectangle', {\n    //   radius: 40,\n    // }),\n    zIndex: 2,\n    parent: testRoot,\n    zIndexLocked: 1,\n  });\n\n  const childRectWhite = renderer.createNode({\n    x: 100,\n    y: 100,\n    width: 200,\n    height: 200,\n    color: Colors.White,\n    // shader: renderer.createShader('RoundedRectangle', {\n    //   radius: 40,\n    // }),\n    zIndex: 4,\n    parent: parentRect,\n  });\n\n  const childRectRed = renderer.createNode({\n    x: 120,\n    y: 120,\n    width: 200,\n    height: 200,\n    color: Colors.Red,\n    // shader: renderer.createShader('RoundedRectangle', {\n    //   radius: 40,\n    // }),\n    zIndex: 5,\n    parent: parentRect,\n  });\n\n  const rightStackText = renderer.createTextNode({\n    x: 700,\n    y: 100,\n    width: 700,\n    height: 268,\n    color: 0xffffffff,\n    alpha: 1.0,\n    text: 'Green box should overlap even though it has a lower zIndex because the parent is locked',\n    contain: 'both',\n    fontFamily: 'Ubuntu',\n    fontSize: 30,\n    textAlign: 'center',\n    parent: testRoot,\n    zIndex: 3,\n  });\n\n  const blockingRect = renderer.createNode({\n    x: 750,\n    y: 300,\n    width: 400,\n    height: 100,\n    color: Colors.Green,\n    // shader: renderer.createShader('RoundedRectangle', {\n    //   radius: 40,\n    // }),\n    zIndex: 2,\n    parent: testRoot,\n  });\n\n  window.addEventListener('keydown', (e) => {\n    if (e.code === 'ArrowLeft') {\n      // reverse the order of the rectangles\n      // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access, @typescript-eslint/no-unsafe-call, @typescript-eslint/no-explicit-any\n      generatedRectangles.forEach((rect: any) => {\n        // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n        rect.zIndex = 100 - rect.zIndex;\n      });\n    }\n  });\n\n  /*\n   * Error stuff\n   */\n\n  renderer.createNode({\n    x: 0,\n    y: 0,\n    width: 10,\n    height: 10,\n    color: 0x00ffffff,\n    shader: renderer.createShader('RoundedRectangle', {\n      radius: 2,\n    }),\n    // eslint-disable-next-line  @typescript-eslint/no-loss-of-precision\n    zIndex: 148901482921849101841290481,\n    // eslint-disable-next-line  @typescript-eslint/no-loss-of-precision\n    zIndexLocked: 148901482921849101841290481,\n    parent: testRoot,\n  });\n\n  renderer.createNode({\n    x: 0,\n    y: 900,\n    width: 10,\n    height: 10,\n    color: 0x00ffffff,\n    shader: renderer.createShader('RoundedRectangle', {\n      radius: 2,\n    }),\n    // eslint-disable-next-line  @typescript-eslint/no-loss-of-precision\n    zIndex: -148901482921849101841290481,\n    // eslint-disable-next-line  @typescript-eslint/no-loss-of-precision\n    zIndexLocked: -148901482921849101841290481,\n    parent: testRoot,\n  });\n\n  renderer.createNode({\n    x: 1000,\n    y: 900,\n    width: 10,\n    height: 10,\n    color: 0x00ffffff,\n    shader: renderer.createShader('RoundedRectangle', {\n      radius: 2,\n    }),\n    // @ts-expect-error Invalid prop test\n    zIndex: 'boop',\n    // @ts-expect-error Invalid prop test\n    zIndexLocked: 'boop',\n    parent: testRoot,\n  });\n\n  renderer.createNode({\n    x: 1000,\n    y: 0,\n    width: 10,\n    height: 10,\n    color: 0x00ffffff,\n    shader: renderer.createShader('RoundedRectangle', {\n      radius: 2,\n    }),\n    // @ts-expect-error Invalid prop test\n    zIndex: true,\n    // @ts-expect-error Invalid prop test\n    zIndexLocked: true,\n    parent: testRoot,\n  });\n\n  renderer.createNode({\n    x: 1000,\n    y: 0,\n    width: 10,\n    height: 10,\n    color: 0x00ffffff,\n    shader: renderer.createShader('RoundedRectangle', {\n      radius: 2,\n    }),\n    // @ts-expect-error Invalid prop test\n    zIndex: null,\n    // @ts-expect-error Invalid prop test\n    zIndexLocked: null,\n    parent: testRoot,\n  });\n\n  renderer.createNode({\n    x: 200,\n    y: 0,\n    width: 10,\n    height: 10,\n    color: 0x00ffffff,\n    shader: renderer.createShader('RoundedRectangle', {\n      radius: 2,\n    }),\n    zIndex: undefined,\n    zIndexLocked: undefined,\n    parent: testRoot,\n  });\n\n  renderer.createNode({\n    x: 200,\n    y: 900,\n    width: 10,\n    height: 10,\n    color: 0x00ffffff,\n    shader: renderer.createShader('RoundedRectangle', {\n      radius: 2,\n    }),\n    // @ts-expect-error Invalid prop test\n    // eslint-disable-next-line  @typescript-eslint/no-empty-function\n    zIndex: () => {},\n    // @ts-expect-error Invalid prop test\n    // eslint-disable-next-line  @typescript-eslint/no-empty-function\n    zIndexLocked: () => {},\n    parent: testRoot,\n  });\n\n  renderer.createNode({\n    x: 500,\n    y: 900,\n    width: 10,\n    height: 10,\n    color: 0x00ffffff,\n    shader: renderer.createShader('RoundedRectangle', {\n      radius: 2,\n    }),\n    // @ts-expect-error Invalid prop test\n    zIndex: {},\n    // @ts-expect-error Invalid prop test\n    zIndexLocked: {},\n    parent: testRoot,\n  });\n}\n"],"names":[],"mappings":"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"}
{"version":3,"file":"rtt-legacy-D4pE-vQH.js","sources":["../../tests/rtt.ts"],"sourcesContent":["import type { ExampleSettings } from '../common/ExampleSettings.js';\nimport test from './alpha-blending.js';\ninterface AnimationExampleSettings {\n  duration: number;\n  easing: string;\n  delay: number;\n  loop: boolean;\n  stopMethod: 'reverse' | 'reset' | false;\n}\n\nconst animationSettings: Partial<AnimationExampleSettings> = {\n  duration: 14000,\n  delay: 400,\n  loop: true,\n  stopMethod: 'reverse',\n  easing: 'ease-in-out-back',\n};\n\nconst randomColor = () => {\n  const randomInt = Math.floor(Math.random() * Math.pow(2, 32));\n  const hexString = randomInt.toString(16).padStart(8, '0');\n  return parseInt(hexString, 16);\n};\n\nconst degToRad = (deg: number) => {\n  return (Math.PI / 180) * deg;\n};\n\nexport default async function ({ renderer, testRoot }: ExampleSettings) {\n  const node = renderer.createNode({\n    x: 0,\n    y: 0,\n    width: 1920,\n    height: 1080,\n    color: 0x000000ff,\n    parent: testRoot,\n  });\n\n  const rootRenderToTextureNode = renderer.createNode({\n    x: 0,\n    y: 0,\n    width: 1920,\n    height: 1080,\n    parent: node,\n    rtt: true,\n    zIndex: 5,\n    colorTop: 0xc0ffeeff,\n    colorBottom: 0xbada55ff,\n  });\n\n  new Array(105).fill(0).forEach((_, i) => {\n    const a = renderer.createNode({\n      parent: rootRenderToTextureNode,\n      x: (i % 15) * 120 + 120,\n      y: Math.floor(i / 15) * 120 + 150,\n      width: 120,\n      height: 120,\n      scale: 1,\n      // src: '../assets/rocko.png',\n      src: `https://picsum.photos/id/${i + 30}/120/120`,\n    });\n  });\n\n  new Array(20).fill(0).forEach((_, i) => {\n    const a = renderer.createNode({\n      x: (i % 1) * 1920,\n      y: Math.floor(i / 1) * 800,\n      width: 1920,\n      height: 1080,\n      parent: testRoot,\n      alpha: 1,\n      color: 0xffffffff,\n      // Copy source texture from rootRenderToTextureNode\n      texture: rootRenderToTextureNode.texture,\n    });\n\n    const animation = a.animate(\n      {\n        y: Math.floor(i / 1) * 800 - 15000,\n      },\n      animationSettings,\n    );\n    animation.start();\n  });\n\n  setTimeout(() => {\n    rootRenderToTextureNode.alpha = 0;\n  }, 2000);\n}\n"],"names":["animationSettings","duration","delay","loop","stopMethod","easing","rtt","_0","__async","arguments","_ref","renderer","testRoot","_regeneratorRuntime","mark","_callee","node","rootRenderToTextureNode","wrap","_callee$","_context","prev","next","createNode","x","y","width","height","color","parent","zIndex","colorTop","colorBottom","Array","fill","forEach","_","i","Math","floor","scale","src","concat","a","alpha","texture","animation","animate","start","setTimeout","stop"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;QAUA,IAAMA,iBAAuD,GAAA;UAC3DC,QAAU,EAAA,IAAA;UACVC,KAAO,EAAA,GAAA;UACPC,IAAM,EAAA,IAAA;UACNC,UAAY,EAAA,SAAA;UACZC,MAAQ,EAAA;QACV,CAAA;QAYA,SAAAC,GAAAA,CAA+BC,EAAyC,EAAA;UAAzC,OAAAC,OAAA,CAAA,IAAA,EAAAC,SAAA,EAAA,UAAAC,IAAA;YAAA,IAAEC,QAAU,GAAAD,IAAA,CAAVC,QAAU;cAAAC,QAAA,GAAAF,IAAA,CAAAE,QAAA;YAAA,oBAAAC,mBAAA,GAAAC,IAAA,UAAAC,QAAA;cAAA,IAAAC,IAAA,EAAAC,uBAAA;cAAA,OAAAJ,mBAAA,GAAAK,IAAA,UAAAC,SAAAC,QAAA;gBAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;kBAAA;oBACnCN,IAAA,GAAOL,SAASY,UAAW,CAAA;sBAC/BC,CAAG,EAAA,CAAA;sBACHC,CAAG,EAAA,CAAA;sBACHC,KAAO,EAAA,IAAA;sBACPC,MAAQ,EAAA,IAAA;sBACRC,KAAO,EAAA,GAAA;sBACPC,MAAQ,EAAAjB;oBAAA,CACT,CAAA;oBAEKK,uBAAA,GAA0BN,SAASY,UAAW,CAAA;sBAClDC,CAAG,EAAA,CAAA;sBACHC,CAAG,EAAA,CAAA;sBACHC,KAAO,EAAA,IAAA;sBACPC,MAAQ,EAAA,IAAA;sBACRE,MAAQ,EAAAb,IAAA;sBACRV,GAAK,EAAA,IAAA;sBACLwB,MAAQ,EAAA,CAAA;sBACRC,QAAU,EAAA,UAAA;sBACVC,WAAa,EAAA;oBAAA,CACd,CAAA;oBAEG,IAAAC,KAAA,CAAM,GAAG,CAAE,CAAAC,IAAA,CAAK,CAAC,CAAE,CAAAC,OAAA,CAAQ,UAACC,CAAA,EAAGC,CAAM,EAAA;sBAC7B1B,SAASY,UAAW,CAAA;wBAC5BM,MAAQ,EAAAZ,uBAAA;wBACRO,CAAA,EAAIa,CAAI,GAAA,EAAA,GAAM,GAAM,GAAA,GAAA;wBACpBZ,GAAGa,IAAK,CAAAC,KAAA,CAAMF,CAAI,GAAA,EAAE,IAAI,GAAM,GAAA,GAAA;wBAC9BX,KAAO,EAAA,GAAA;wBACPC,MAAQ,EAAA,GAAA;wBACRa,KAAO,EAAA,CAAA;wBAAA;wBAEPC,GAAA,8BAAAC,MAAA,CAAiCL,CAAA,GAAI,EAAE;sBAAA,CACxC,CAAA;oBAAA,CACF,CAAA;oBAEG,IAAAJ,KAAA,CAAM,EAAE,CAAE,CAAAC,IAAA,CAAK,CAAC,CAAE,CAAAC,OAAA,CAAQ,UAACC,CAAA,EAAGC,CAAM,EAAA;sBAChC,IAAAM,CAAA,GAAIhC,SAASY,UAAW,CAAA;wBAC5BC,CAAA,EAAIa,IAAI,CAAK,GAAA,IAAA;wBACbZ,CAAG,EAAAa,IAAA,CAAKC,KAAM,CAAAF,CAAA,GAAI,CAAC,CAAI,GAAA,GAAA;wBACvBX,KAAO,EAAA,IAAA;wBACPC,MAAQ,EAAA,IAAA;wBACRE,MAAQ,EAAAjB,QAAA;wBACRgC,KAAO,EAAA,CAAA;wBACPhB,KAAO,EAAA,UAAA;wBAAA;wBAEPiB,SAAS5B,uBAAwB,CAAA4B;sBAAA,CAClC,CAAA;sBAED,IAAMC,YAAYH,CAAE,CAAAI,OAAA,CAClB;wBACEtB,GAAGa,IAAK,CAAAC,KAAA,CAAMF,CAAI,GAAA,CAAC,IAAI,GAAM,GAAA;sBAC/B,CAAA,EACArC,iBAAA,CACF;sBACA8C,SAAA,CAAUE,KAAM,CAAA,CAAA;oBAAA,CACjB,CAAA;oBAEDC,UAAA,CAAW,YAAM;sBACfhC,uBAAA,CAAwB2B,KAAQ,GAAA,CAAA;uBAC/B,GAAI,CAAA;kBAAA;kBAAA;oBAAA,OAAAxB,QAAA,CAAA8B,IAAA;gBAAA;cAAA,GAAAnC,OAAA;YAAA;UAAA,CACT,CAAA;QAAA;;;;"}
{"version":3,"mappings":"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","names":["obj","entries","bytesToMb","key","delay","_a","CoreNodeRenderState","UpdateType","type","isArray","setter","calcHeight","appWidth","appHeight","root","width","height","format","bufferMemory","tx","ty","i","w","target","property","receiver","main","defineProperty","require$$0","hasDefinePropertySupport","builtin","isNumber","zeroPad","require$$1","lowercase","uppercase","formatInteger","isString","is_string","formatDouble","f","spacePad","require$$2","require$$3","require$$4","isnan","lib","RE","toStr","polyfill","getter","hasOwnProp","FLG","tostring","nativeClass","Symbol","hasToStringTag","isObject","isBoolean","primitive","toString","test","try2serialize","Boolean","object","isPrimitive","setReadOnly","getGlobal","require$$5","codegen","nodeList","typedarray","reFunctionName","every","isObjectLike","isBuffer","constructorName","ctor","ctorName","typeOf","isFunction","getProto","getPrototypeOf","proto","Object","floor","isInteger","MAX_LENGTH","isCollection","isUint32Array","Number","PINF","isInt","isPositiveInteger","FLOAT64_MAX_SAFE_INTEGER","UINT32_MAX","hasUint32ArraySupport","polyfill_1","isPositiveZero","max","umul","isAccessorArray","GETTERS","getArrayLike","dtype","SETTERS","setArrayLike","getComplex128","getComplex64","ctor2dtype","isFloat64Array","hasFloat64ArraySupport","isFloat32Array","hasFloat32ArraySupport","isInt32Array","INT32_MAX","INT32_MIN","hasInt32ArraySupport","isUint16Array","UINT16_MAX","hasUint16ArraySupport","isInt16Array","INT16_MAX","INT16_MIN","hasInt16ArraySupport","isUint8Array","UINT8_MAX","hasUint8ArraySupport","isUint8ClampedArray","hasUint8ClampedArraySupport","isInt8Array","INT8_MAX","INT8_MIN","hasInt8ArraySupport","isNonNegativeInteger","isArrayLikeObject","isArrayBuffer","valueOf","toJSON","tojson","Complex128","real","imag","Float32Array","float64ToFloat32","require$$6","Complex64","isComplexLike","isEven","BYTES_PER_ELEMENT","isComplex64Array","isComplex128Array","hasIteratorSymbolSupport","realf","imagf","reinterpret","Float64Array","fromIterator","from_iterator","fromIteratorMap","from_iterator_map","fromArray","from_array","require$$7","require$$8","require$$9","require$$10","require$$11","require$$12","require$$13","ITERATOR_SYMBOL","require$$14","require$$15","setReadOnlyAccessor","require$$16","require$$17","require$$18","require$$19","require$$20","require$$21","require$$22","reinterpret64","require$$23","reinterpret128","require$$24","require$$25","accessorGetter","require$$26","require$$27","require$$28","require$$29","HAS_ITERATOR_SYMBOL","isComplexArray","Complex64Array","isComplexArrayConstructor","get","self","factory","re","N","Complex128Array","from","of","at","copyWithin","fill","filter","find","findIndex","findLast","findLastIndex","forEach","includes","indexOf","join","lastIndexOf","map","reduce","reverse","set","slice","some","subarray","toReversed","copyWith","Uint32Array","Int32Array","Uint16Array","Int16Array","Uint8Array","Uint8ClampedArray","Int8Array","CTORS","ctors","DTYPES","arraylike2object","gcopy","accessors","M","ndarray","foo","hasFunctionNameSupport","NAMES","isTypedArray","isComplexTypedArray","instanceOf","typeName","typedarray2json","randuint32","mt19937","err","__publicField","__spreadValues","mt19937.factory"],"ignoreList":[92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341,342,343,344,345,346,347,348,349,350,351,352,353,354,355,356,357,358,359,360,361,362,363,364,365,366,367,368,369,370,371,372,373,374,375,376,377,378,379,380,381,382,383,384,385,386,387,388,389,390,391,392,393],"sources":["../../../dist/src/utils.js","../../../dist/src/common/EventEmitter.js","../../../dist/src/core/lib/utils.js","../../../dist/src/core/lib/Matrix3d.js","../../../dist/src/core/lib/RenderCoords.js","../../../dist/src/core/utils.js","../../../dist/src/core/animations/CoreAnimation.js","../../../dist/src/core/animations/CoreAnimationController.js","../../../dist/src/core/CoreNode.js","../../../dist/src/core/platform.js","../../../dist/src/core/animations/AnimationManager.js","../../../dist/src/core/textures/Texture.js","../../../dist/src/core/lib/ImageWorker.js","../../../dist/src/core/textures/ColorTexture.js","../../../dist/src/core/lib/textureCompression.js","../../../dist/src/core/lib/textureSvg.js","../../../dist/src/core/textures/ImageTexture.js","../../../dist/src/core/textures/NoiseTexture.js","../../../dist/src/core/textures/SubTexture.js","../../../dist/src/core/textures/RenderTexture.js","../../../dist/src/core/CoreTextureManager.js","../../../dist/src/core/text-rendering/TrFontManager.js","../../../dist/src/core/renderers/CoreShader.js","../../../dist/src/core/renderers/webgl/internal/ShaderUtils.js","../../../dist/src/core/renderers/webgl/WebGlCoreShader.js","../../../dist/src/core/renderers/webgl/shaders/DefaultShader.js","../../../dist/src/core/renderers/webgl/shaders/DefaultShaderBatched.js","../../../dist/src/core/renderers/webgl/shaders/effects/ShaderEffect.js","../../../dist/src/core/renderers/webgl/shaders/DynamicShader.js","../../../dist/src/core/renderers/webgl/shaders/RoundedRectangle.js","../../../dist/src/core/renderers/webgl/shaders/SdfShader.js","../../../dist/src/core/renderers/webgl/shaders/effects/EffectUtils.js","../../../dist/src/core/renderers/webgl/shaders/effects/RadiusEffect.js","../../../dist/src/core/renderers/webgl/shaders/effects/BorderEffect.js","../../../dist/src/core/renderers/webgl/shaders/effects/LinearGradientEffect.js","../../../dist/src/core/renderers/webgl/shaders/effects/GrayscaleEffect.js","../../../dist/src/core/renderers/webgl/shaders/effects/BorderRightEffect.js","../../../dist/src/core/renderers/webgl/shaders/effects/BorderTopEffect.js","../../../dist/src/core/renderers/webgl/shaders/effects/BorderBottomEffect.js","../../../dist/src/core/renderers/webgl/shaders/effects/BorderLeftEffect.js","../../../dist/src/core/renderers/webgl/shaders/effects/GlitchEffect.js","../../../dist/src/core/renderers/webgl/shaders/effects/FadeOutEffect.js","../../../dist/src/core/renderers/webgl/shaders/effects/RadialGradientEffect.js","../../../dist/src/core/renderers/webgl/shaders/effects/RadialProgressEffect.js","../../../dist/src/core/renderers/webgl/shaders/effects/HolePunchEffect.js","../../../dist/src/core/renderers/canvas/shaders/UnsupportedShader.js","../../../dist/src/main-api/ShaderController.js","../../../dist/src/main-api/DynamicShaderController.js","../../../dist/src/core/CoreShaderManager.js","../../../dist/src/core/text-rendering/renderers/TextRenderer.js","../../../dist/src/core/lib/ContextSpy.js","../../../dist/src/core/TextureMemoryManager.js","../../../dist/src/core/renderers/CoreContextTexture.js","../../../dist/src/core/renderers/CoreRenderer.js","../../../dist/src/core/CoreTextNode.js","../../../dist/src/main-api/utils.js","../../../dist/src/core/Stage.js","../../../dist/src/main-api/Renderer.js","../../../dist/src/core/text-rendering/font-face-types/TrFontFace.js","../../../dist/src/core/text-rendering/font-face-types/WebTrFontFace.js","../../../dist/src/core/renderers/CoreRenderOp.js","../../../dist/src/core/renderers/webgl/WebGlCoreRenderOp.js","../../../dist/src/core/renderers/webgl/internal/RendererUtils.js","../../../dist/src/core/renderers/webgl/WebGlCoreCtxTexture.js","../../../dist/src/core/renderers/webgl/WebGlCoreCtxSubTexture.js","../../../dist/src/core/renderers/webgl/internal/BufferCollection.js","../../../dist/src/core/renderers/webgl/internal/WebGlUtils.js","../../../dist/src/core/lib/WebGlContextWrapper.js","../../../dist/src/core/renderers/webgl/WebGlCoreCtxRenderTexture.js","../../../dist/src/core/renderers/webgl/WebGlCoreRenderer.js","../../../dist/src/core/text-rendering/renderers/SdfTextRenderer/internal/SpecialCodepoints.js","../../../dist/src/core/text-rendering/font-face-types/SdfTrFontFace/internal/FontShaper.js","../../../dist/src/core/text-rendering/font-face-types/SdfTrFontFace/internal/SdfFontShaper.js","../../../dist/src/core/text-rendering/font-face-types/SdfTrFontFace/SdfTrFontFace.js","../../../dist/src/core/text-rendering/renderers/SdfTextRenderer/internal/constants.js","../../../dist/src/core/text-rendering/renderers/SdfTextRenderer/internal/getStartConditions.js","../../../dist/src/core/text-rendering/renderers/SdfTextRenderer/internal/PeekableGenerator.js","../../../dist/src/core/text-rendering/renderers/SdfTextRenderer/internal/getUnicodeCodepoints.js","../../../dist/src/core/text-rendering/renderers/SdfTextRenderer/internal/measureText.js","../../../dist/src/core/text-rendering/renderers/SdfTextRenderer/internal/layoutText.js","../../../dist/src/core/text-rendering/renderers/SdfTextRenderer/internal/util.js","../../../dist/src/core/text-rendering/renderers/SdfTextRenderer/internal/setRenderWindow.js","../../../dist/src/core/text-rendering/TextRenderingUtils.js","../../../dist/src/core/text-rendering/renderers/SdfTextRenderer/SdfTextRenderer.js","../../../dist/src/core/text-rendering/TextTextureRendererUtils.js","../../../dist/src/core/text-rendering/renderers/LightningTextTextureRenderer.js","../../../dist/src/core/text-rendering/renderers/CanvasTextRenderer.js","../../../dist/src/core/renderers/canvas/internal/ColorUtils.js","../../../dist/src/core/renderers/canvas/CanvasCoreTexture.js","../../../dist/src/core/renderers/canvas/internal/C2DShaderUtils.js","../../../dist/src/core/renderers/canvas/CanvasCoreRenderer.js","../../../dist/src/main-api/Inspector.js","../../../node_modules/.pnpm/@stdlib+utils-define-property@0.2.3/node_modules/@stdlib/utils-define-property/lib/define_property.js","../../../node_modules/.pnpm/@stdlib+utils-define-property@0.2.3/node_modules/@stdlib/utils-define-property/lib/has_define_property_support.js","../../../node_modules/.pnpm/@stdlib+utils-define-property@0.2.3/node_modules/@stdlib/utils-define-property/lib/builtin.js","../../../node_modules/.pnpm/@stdlib+string-base-format-interpolate@0.2.1/node_modules/@stdlib/string-base-format-interpolate/lib/is_number.js","../../../node_modules/.pnpm/@stdlib+string-base-format-interpolate@0.2.1/node_modules/@stdlib/string-base-format-interpolate/lib/zero_pad.js","../../../node_modules/.pnpm/@stdlib+string-base-format-interpolate@0.2.1/node_modules/@stdlib/string-base-format-interpolate/lib/format_integer.js","../../../node_modules/.pnpm/@stdlib+string-base-format-interpolate@0.2.1/node_modules/@stdlib/string-base-format-interpolate/lib/is_string.js","../../../node_modules/.pnpm/@stdlib+string-base-format-interpolate@0.2.1/node_modules/@stdlib/string-base-format-interpolate/lib/format_double.js","../../../node_modules/.pnpm/@stdlib+string-base-format-interpolate@0.2.1/node_modules/@stdlib/string-base-format-interpolate/lib/space_pad.js","../../../node_modules/.pnpm/@stdlib+string-base-format-interpolate@0.2.1/node_modules/@stdlib/string-base-format-interpolate/lib/main.js","../../../node_modules/.pnpm/@stdlib+string-base-format-interpolate@0.2.1/node_modules/@stdlib/string-base-format-interpolate/lib/index.js","../../../node_modules/.pnpm/@stdlib+string-base-format-tokenize@0.2.1/node_modules/@stdlib/string-base-format-tokenize/lib/main.js","../../../node_modules/.pnpm/@stdlib+string-base-format-tokenize@0.2.1/node_modules/@stdlib/string-base-format-tokenize/lib/index.js","../../../node_modules/.pnpm/@stdlib+string-format@0.2.1/node_modules/@stdlib/string-format/lib/is_string.js","../../../node_modules/.pnpm/@stdlib+string-format@0.2.1/node_modules/@stdlib/string-format/lib/main.js","../../../node_modules/.pnpm/@stdlib+string-format@0.2.1/node_modules/@stdlib/string-format/lib/index.js","../../../node_modules/.pnpm/@stdlib+utils-define-property@0.2.3/node_modules/@stdlib/utils-define-property/lib/polyfill.js","../../../node_modules/.pnpm/@stdlib+utils-define-property@0.2.3/node_modules/@stdlib/utils-define-property/lib/index.js","../../../node_modules/.pnpm/@stdlib+utils-define-nonenumerable-read-only-property@0.2.1/node_modules/@stdlib/utils-define-nonenumerable-read-only-property/lib/main.js","../../../node_modules/.pnpm/@stdlib+utils-define-nonenumerable-read-only-property@0.2.1/node_modules/@stdlib/utils-define-nonenumerable-read-only-property/lib/index.js","../../../node_modules/.pnpm/@stdlib+utils-define-nonenumerable-read-only-accessor@0.2.2/node_modules/@stdlib/utils-define-nonenumerable-read-only-accessor/lib/main.js","../../../node_modules/.pnpm/@stdlib+utils-define-nonenumerable-read-only-accessor@0.2.2/node_modules/@stdlib/utils-define-nonenumerable-read-only-accessor/lib/index.js","../../../node_modules/.pnpm/@stdlib+utils-define-nonenumerable-read-write-accessor@0.2.1/node_modules/@stdlib/utils-define-nonenumerable-read-write-accessor/lib/main.js","../../../node_modules/.pnpm/@stdlib+utils-define-nonenumerable-read-write-accessor@0.2.1/node_modules/@stdlib/utils-define-nonenumerable-read-write-accessor/lib/index.js","../../../node_modules/.pnpm/@stdlib+assert-has-own-property@0.2.1/node_modules/@stdlib/assert-has-own-property/lib/main.js","../../../node_modules/.pnpm/@stdlib+assert-has-own-property@0.2.1/node_modules/@stdlib/assert-has-own-property/lib/index.js","../../../node_modules/.pnpm/@stdlib+assert-has-symbol-support@0.2.1/node_modules/@stdlib/assert-has-symbol-support/lib/main.js","../../../node_modules/.pnpm/@stdlib+assert-has-symbol-support@0.2.1/node_modules/@stdlib/assert-has-symbol-support/lib/index.js","../../../node_modules/.pnpm/@stdlib+assert-has-tostringtag-support@0.2.1/node_modules/@stdlib/assert-has-tostringtag-support/lib/main.js","../../../node_modules/.pnpm/@stdlib+assert-has-tostringtag-support@0.2.1/node_modules/@stdlib/assert-has-tostringtag-support/lib/index.js","../../../node_modules/.pnpm/@stdlib+utils-native-class@0.2.1/node_modules/@stdlib/utils-native-class/lib/tostring.js","../../../node_modules/.pnpm/@stdlib+utils-native-class@0.2.1/node_modules/@stdlib/utils-native-class/lib/main.js","../../../node_modules/.pnpm/@stdlib+symbol-ctor@0.2.1/node_modules/@stdlib/symbol-ctor/lib/main.js","../../../node_modules/.pnpm/@stdlib+symbol-ctor@0.2.1/node_modules/@stdlib/symbol-ctor/lib/index.js","../../../node_modules/.pnpm/@stdlib+utils-native-class@0.2.1/node_modules/@stdlib/utils-native-class/lib/tostringtag.js","../../../node_modules/.pnpm/@stdlib+utils-native-class@0.2.1/node_modules/@stdlib/utils-native-class/lib/polyfill.js","../../../node_modules/.pnpm/@stdlib+utils-native-class@0.2.1/node_modules/@stdlib/utils-native-class/lib/index.js","../../../node_modules/.pnpm/@stdlib+assert-is-array@0.2.1/node_modules/@stdlib/assert-is-array/lib/main.js","../../../node_modules/.pnpm/@stdlib+assert-is-array@0.2.1/node_modules/@stdlib/assert-is-array/lib/index.js","../../../node_modules/.pnpm/@stdlib+assert-is-object@0.2.1/node_modules/@stdlib/assert-is-object/lib/main.js","../../../node_modules/.pnpm/@stdlib+assert-is-object@0.2.1/node_modules/@stdlib/assert-is-object/lib/index.js","../../../node_modules/.pnpm/@stdlib+utils-type-of@0.2.1/node_modules/@stdlib/utils-type-of/lib/fixtures/re.js","../../../node_modules/.pnpm/@stdlib+assert-is-boolean@0.2.1/node_modules/@stdlib/assert-is-boolean/lib/primitive.js","../../../node_modules/.pnpm/@stdlib+boolean-ctor@0.2.1/node_modules/@stdlib/boolean-ctor/lib/main.js","../../../node_modules/.pnpm/@stdlib+boolean-ctor@0.2.1/node_modules/@stdlib/boolean-ctor/lib/index.js","../../../node_modules/.pnpm/@stdlib+assert-is-boolean@0.2.1/node_modules/@stdlib/assert-is-boolean/lib/tostring.js","../../../node_modules/.pnpm/@stdlib+assert-is-boolean@0.2.1/node_modules/@stdlib/assert-is-boolean/lib/try2serialize.js","../../../node_modules/.pnpm/@stdlib+assert-is-boolean@0.2.1/node_modules/@stdlib/assert-is-boolean/lib/object.js","../../../node_modules/.pnpm/@stdlib+assert-is-boolean@0.2.1/node_modules/@stdlib/assert-is-boolean/lib/main.js","../../../node_modules/.pnpm/@stdlib+assert-is-boolean@0.2.1/node_modules/@stdlib/assert-is-boolean/lib/index.js","../../../node_modules/.pnpm/@stdlib+utils-global@0.2.1/node_modules/@stdlib/utils-global/lib/codegen.js","../../../node_modules/.pnpm/@stdlib+utils-global@0.2.1/node_modules/@stdlib/utils-global/lib/self.js","../../../node_modules/.pnpm/@stdlib+utils-global@0.2.1/node_modules/@stdlib/utils-global/lib/window.js","../../../node_modules/.pnpm/@stdlib+utils-global@0.2.1/node_modules/@stdlib/utils-global/lib/global_this.js","../../../node_modules/.pnpm/@stdlib+utils-global@0.2.1/node_modules/@stdlib/utils-global/lib/browser.js","../../../node_modules/.pnpm/@stdlib+utils-type-of@0.2.1/node_modules/@stdlib/utils-type-of/lib/fixtures/nodelist.js","../../../node_modules/.pnpm/@stdlib+utils-type-of@0.2.1/node_modules/@stdlib/utils-type-of/lib/fixtures/typedarray.js","../../../node_modules/.pnpm/@stdlib+utils-type-of@0.2.1/node_modules/@stdlib/utils-type-of/lib/check.js","../../../node_modules/.pnpm/@stdlib+regexp-function-name@0.2.1/node_modules/@stdlib/regexp-function-name/lib/main.js","../../../node_modules/.pnpm/@stdlib+regexp-function-name@0.2.1/node_modules/@stdlib/regexp-function-name/lib/regexp.js","../../../node_modules/.pnpm/@stdlib+regexp-function-name@0.2.1/node_modules/@stdlib/regexp-function-name/lib/index.js","../../../node_modules/.pnpm/@stdlib+assert-tools-array-function@0.2.1/node_modules/@stdlib/assert-tools-array-function/lib/main.js","../../../node_modules/.pnpm/@stdlib+assert-tools-array-function@0.2.1/node_modules/@stdlib/assert-tools-array-function/lib/index.js","../../../node_modules/.pnpm/@stdlib+assert-is-object-like@0.2.1/node_modules/@stdlib/assert-is-object-like/lib/main.js","../../../node_modules/.pnpm/@stdlib+assert-is-object-like@0.2.1/node_modules/@stdlib/assert-is-object-like/lib/index.js","../../../node_modules/.pnpm/@stdlib+assert-is-buffer@0.2.1/node_modules/@stdlib/assert-is-buffer/lib/main.js","../../../node_modules/.pnpm/@stdlib+assert-is-buffer@0.2.1/node_modules/@stdlib/assert-is-buffer/lib/index.js","../../../node_modules/.pnpm/@stdlib+utils-constructor-name@0.2.1/node_modules/@stdlib/utils-constructor-name/lib/main.js","../../../node_modules/.pnpm/@stdlib+utils-constructor-name@0.2.1/node_modules/@stdlib/utils-constructor-name/lib/index.js","../../../node_modules/.pnpm/@stdlib+utils-type-of@0.2.1/node_modules/@stdlib/utils-type-of/lib/main.js","../../../node_modules/.pnpm/@stdlib+utils-type-of@0.2.1/node_modules/@stdlib/utils-type-of/lib/polyfill.js","../../../node_modules/.pnpm/@stdlib+utils-type-of@0.2.1/node_modules/@stdlib/utils-type-of/lib/index.js","../../../node_modules/.pnpm/@stdlib+assert-is-function@0.2.1/node_modules/@stdlib/assert-is-function/lib/main.js","../../../node_modules/.pnpm/@stdlib+assert-is-function@0.2.1/node_modules/@stdlib/assert-is-function/lib/index.js","../../../node_modules/.pnpm/@stdlib+object-ctor@0.2.1/node_modules/@stdlib/object-ctor/lib/main.js","../../../node_modules/.pnpm/@stdlib+object-ctor@0.2.1/node_modules/@stdlib/object-ctor/lib/index.js","../../../node_modules/.pnpm/@stdlib+utils-get-prototype-of@0.2.1/node_modules/@stdlib/utils-get-prototype-of/lib/native.js","../../../node_modules/.pnpm/@stdlib+utils-get-prototype-of@0.2.1/node_modules/@stdlib/utils-get-prototype-of/lib/proto.js","../../../node_modules/.pnpm/@stdlib+utils-get-prototype-of@0.2.1/node_modules/@stdlib/utils-get-prototype-of/lib/polyfill.js","../../../node_modules/.pnpm/@stdlib+utils-get-prototype-of@0.2.1/node_modules/@stdlib/utils-get-prototype-of/lib/detect.js","../../../node_modules/.pnpm/@stdlib+utils-get-prototype-of@0.2.1/node_modules/@stdlib/utils-get-prototype-of/lib/main.js","../../../node_modules/.pnpm/@stdlib+utils-get-prototype-of@0.2.1/node_modules/@stdlib/utils-get-prototype-of/lib/index.js","../../../node_modules/.pnpm/@stdlib+assert-is-plain-object@0.2.1/node_modules/@stdlib/assert-is-plain-object/lib/main.js","../../../node_modules/.pnpm/@stdlib+assert-is-plain-object@0.2.1/node_modules/@stdlib/assert-is-plain-object/lib/index.js","../../../node_modules/.pnpm/@stdlib+math-base-special-floor@0.2.2/node_modules/@stdlib/math-base-special-floor/lib/main.js","../../../node_modules/.pnpm/@stdlib+math-base-special-floor@0.2.2/node_modules/@stdlib/math-base-special-floor/lib/index.js","../../../node_modules/.pnpm/@stdlib+math-base-assert-is-integer@0.2.4/node_modules/@stdlib/math-base-assert-is-integer/lib/main.js","../../../node_modules/.pnpm/@stdlib+math-base-assert-is-integer@0.2.4/node_modules/@stdlib/math-base-assert-is-integer/lib/index.js","../../../node_modules/.pnpm/@stdlib+constants-array-max-typed-array-length@0.2.1/node_modules/@stdlib/constants-array-max-typed-array-length/lib/index.js","../../../node_modules/.pnpm/@stdlib+assert-is-collection@0.2.1/node_modules/@stdlib/assert-is-collection/lib/main.js","../../../node_modules/.pnpm/@stdlib+assert-is-collection@0.2.1/node_modules/@stdlib/assert-is-collection/lib/index.js","../../../node_modules/.pnpm/@stdlib+assert-is-uint32array@0.2.1/node_modules/@stdlib/assert-is-uint32array/lib/main.js","../../../node_modules/.pnpm/@stdlib+assert-is-uint32array@0.2.1/node_modules/@stdlib/assert-is-uint32array/lib/index.js","../../../node_modules/.pnpm/@stdlib+assert-is-number@0.2.1/node_modules/@stdlib/assert-is-number/lib/primitive.js","../../../node_modules/.pnpm/@stdlib+number-ctor@0.2.1/node_modules/@stdlib/number-ctor/lib/main.js","../../../node_modules/.pnpm/@stdlib+number-ctor@0.2.1/node_modules/@stdlib/number-ctor/lib/index.js","../../../node_modules/.pnpm/@stdlib+assert-is-number@0.2.1/node_modules/@stdlib/assert-is-number/lib/tostring.js","../../../node_modules/.pnpm/@stdlib+assert-is-number@0.2.1/node_modules/@stdlib/assert-is-number/lib/try2serialize.js","../../../node_modules/.pnpm/@stdlib+assert-is-number@0.2.1/node_modules/@stdlib/assert-is-number/lib/object.js","../../../node_modules/.pnpm/@stdlib+assert-is-number@0.2.1/node_modules/@stdlib/assert-is-number/lib/main.js","../../../node_modules/.pnpm/@stdlib+assert-is-number@0.2.1/node_modules/@stdlib/assert-is-number/lib/index.js","../../../node_modules/.pnpm/@stdlib+constants-float64-pinf@0.2.1/node_modules/@stdlib/constants-float64-pinf/lib/index.js","../../../node_modules/.pnpm/@stdlib+constants-float64-ninf@0.2.1/node_modules/@stdlib/constants-float64-ninf/lib/index.js","../../../node_modules/.pnpm/@stdlib+assert-is-integer@0.2.1/node_modules/@stdlib/assert-is-integer/lib/integer.js","../../../node_modules/.pnpm/@stdlib+assert-is-integer@0.2.1/node_modules/@stdlib/assert-is-integer/lib/primitive.js","../../../node_modules/.pnpm/@stdlib+assert-is-integer@0.2.1/node_modules/@stdlib/assert-is-integer/lib/object.js","../../../node_modules/.pnpm/@stdlib+assert-is-integer@0.2.1/node_modules/@stdlib/assert-is-integer/lib/main.js","../../../node_modules/.pnpm/@stdlib+assert-is-integer@0.2.1/node_modules/@stdlib/assert-is-integer/lib/index.js","../../../node_modules/.pnpm/@stdlib+assert-is-positive-integer@0.2.1/node_modules/@stdlib/assert-is-positive-integer/lib/primitive.js","../../../node_modules/.pnpm/@stdlib+assert-is-positive-integer@0.2.1/node_modules/@stdlib/assert-is-positive-integer/lib/object.js","../../../node_modules/.pnpm/@stdlib+assert-is-positive-integer@0.2.1/node_modules/@stdlib/assert-is-positive-integer/lib/main.js","../../../node_modules/.pnpm/@stdlib+assert-is-positive-integer@0.2.1/node_modules/@stdlib/assert-is-positive-integer/lib/index.js","../../../node_modules/.pnpm/@stdlib+constants-float64-max-safe-integer@0.2.1/node_modules/@stdlib/constants-float64-max-safe-integer/lib/index.js","../../../node_modules/.pnpm/@stdlib+constants-uint32-max@0.2.1/node_modules/@stdlib/constants-uint32-max/lib/index.js","../../../node_modules/.pnpm/@stdlib+assert-has-uint32array-support@0.2.1/node_modules/@stdlib/assert-has-uint32array-support/lib/uint32array.js","../../../node_modules/.pnpm/@stdlib+assert-has-uint32array-support@0.2.1/node_modules/@stdlib/assert-has-uint32array-support/lib/main.js","../../../node_modules/.pnpm/@stdlib+assert-has-uint32array-support@0.2.1/node_modules/@stdlib/assert-has-uint32array-support/lib/index.js","../../../node_modules/.pnpm/@stdlib+array-uint32@0.2.1/node_modules/@stdlib/array-uint32/lib/main.js","../../../node_modules/.pnpm/@stdlib+array-uint32@0.2.1/node_modules/@stdlib/array-uint32/lib/polyfill.js","../../../node_modules/.pnpm/@stdlib+array-uint32@0.2.1/node_modules/@stdlib/array-uint32/lib/index.js","../../../node_modules/.pnpm/@stdlib+math-base-assert-is-positive-zero@0.2.1/node_modules/@stdlib/math-base-assert-is-positive-zero/lib/main.js","../../../node_modules/.pnpm/@stdlib+math-base-assert-is-positive-zero@0.2.1/node_modules/@stdlib/math-base-assert-is-positive-zero/lib/index.js","../../../node_modules/.pnpm/@stdlib+math-base-assert-is-nan@0.2.1/node_modules/@stdlib/math-base-assert-is-nan/lib/main.js","../../../node_modules/.pnpm/@stdlib+math-base-assert-is-nan@0.2.1/node_modules/@stdlib/math-base-assert-is-nan/lib/index.js","../../../node_modules/.pnpm/@stdlib+math-base-special-max@0.2.1/node_modules/@stdlib/math-base-special-max/lib/main.js","../../../node_modules/.pnpm/@stdlib+math-base-special-max@0.2.1/node_modules/@stdlib/math-base-special-max/lib/index.js","../../../node_modules/.pnpm/@stdlib+math-base-ops-umul@0.2.1/node_modules/@stdlib/math-base-ops-umul/lib/main.js","../../../node_modules/.pnpm/@stdlib+math-base-ops-umul@0.2.1/node_modules/@stdlib/math-base-ops-umul/lib/index.js","../../../node_modules/.pnpm/@stdlib+array-base-assert-is-accessor-array@0.2.1/node_modules/@stdlib/array-base-assert-is-accessor-array/lib/main.js","../../../node_modules/.pnpm/@stdlib+array-base-assert-is-accessor-array@0.2.1/node_modules/@stdlib/array-base-assert-is-accessor-array/lib/index.js","../../../node_modules/.pnpm/@stdlib+array-base-getter@0.2.1/node_modules/@stdlib/array-base-getter/lib/main.js","../../../node_modules/.pnpm/@stdlib+array-base-getter@0.2.1/node_modules/@stdlib/array-base-getter/lib/index.js","../../../node_modules/.pnpm/@stdlib+array-base-setter@0.2.1/node_modules/@stdlib/array-base-setter/lib/main.js","../../../node_modules/.pnpm/@stdlib+array-base-setter@0.2.1/node_modules/@stdlib/array-base-setter/lib/index.js","../../../node_modules/.pnpm/@stdlib+array-base-accessor-getter@0.2.1/node_modules/@stdlib/array-base-accessor-getter/lib/main.js","../../../node_modules/.pnpm/@stdlib+array-base-accessor-getter@0.2.1/node_modules/@stdlib/array-base-accessor-getter/lib/index.js","../../../node_modules/.pnpm/@stdlib+array-base-accessor-setter@0.2.1/node_modules/@stdlib/array-base-accessor-setter/lib/main.js","../../../node_modules/.pnpm/@stdlib+array-base-accessor-setter@0.2.1/node_modules/@stdlib/array-base-accessor-setter/lib/index.js","../../../node_modules/.pnpm/@stdlib+array-dtype@0.2.1/node_modules/@stdlib/array-dtype/lib/ctor2dtype.js","../../../node_modules/.pnpm/@stdlib+assert-is-float64array@0.2.1/node_modules/@stdlib/assert-is-float64array/lib/main.js","../../../node_modules/.pnpm/@stdlib+assert-is-float64array@0.2.1/node_modules/@stdlib/assert-is-float64array/lib/index.js","../../../node_modules/.pnpm/@stdlib+assert-has-float64array-support@0.2.1/node_modules/@stdlib/assert-has-float64array-support/lib/float64array.js","../../../node_modules/.pnpm/@stdlib+assert-has-float64array-support@0.2.1/node_modules/@stdlib/assert-has-float64array-support/lib/main.js","../../../node_modules/.pnpm/@stdlib+assert-has-float64array-support@0.2.1/node_modules/@stdlib/assert-has-float64array-support/lib/index.js","../../../node_modules/.pnpm/@stdlib+array-float64@0.2.1/node_modules/@stdlib/array-float64/lib/main.js","../../../node_modules/.pnpm/@stdlib+array-float64@0.2.1/node_modules/@stdlib/array-float64/lib/polyfill.js","../../../node_modules/.pnpm/@stdlib+array-float64@0.2.1/node_modules/@stdlib/array-float64/lib/index.js","../../../node_modules/.pnpm/@stdlib+assert-is-float32array@0.2.1/node_modules/@stdlib/assert-is-float32array/lib/main.js","../../../node_modules/.pnpm/@stdlib+assert-is-float32array@0.2.1/node_modules/@stdlib/assert-is-float32array/lib/index.js","../../../node_modules/.pnpm/@stdlib+assert-has-float32array-support@0.2.1/node_modules/@stdlib/assert-has-float32array-support/lib/float32array.js","../../../node_modules/.pnpm/@stdlib+assert-has-float32array-support@0.2.1/node_modules/@stdlib/assert-has-float32array-support/lib/main.js","../../../node_modules/.pnpm/@stdlib+assert-has-float32array-support@0.2.1/node_modules/@stdlib/assert-has-float32array-support/lib/index.js","../../../node_modules/.pnpm/@stdlib+array-float32@0.2.1/node_modules/@stdlib/array-float32/lib/main.js","../../../node_modules/.pnpm/@stdlib+array-float32@0.2.1/node_modules/@stdlib/array-float32/lib/polyfill.js","../../../node_modules/.pnpm/@stdlib+array-float32@0.2.1/node_modules/@stdlib/array-float32/lib/index.js","../../../node_modules/.pnpm/@stdlib+assert-is-int32array@0.2.1/node_modules/@stdlib/assert-is-int32array/lib/main.js","../../../node_modules/.pnpm/@stdlib+assert-is-int32array@0.2.1/node_modules/@stdlib/assert-is-int32array/lib/index.js","../../../node_modules/.pnpm/@stdlib+constants-int32-max@0.2.1/node_modules/@stdlib/constants-int32-max/lib/index.js","../../../node_modules/.pnpm/@stdlib+constants-int32-min@0.2.1/node_modules/@stdlib/constants-int32-min/lib/index.js","../../../node_modules/.pnpm/@stdlib+assert-has-int32array-support@0.2.1/node_modules/@stdlib/assert-has-int32array-support/lib/int32array.js","../../../node_modules/.pnpm/@stdlib+assert-has-int32array-support@0.2.1/node_modules/@stdlib/assert-has-int32array-support/lib/main.js","../../../node_modules/.pnpm/@stdlib+assert-has-int32array-support@0.2.1/node_modules/@stdlib/assert-has-int32array-support/lib/index.js","../../../node_modules/.pnpm/@stdlib+array-int32@0.2.1/node_modules/@stdlib/array-int32/lib/main.js","../../../node_modules/.pnpm/@stdlib+array-int32@0.2.1/node_modules/@stdlib/array-int32/lib/polyfill.js","../../../node_modules/.pnpm/@stdlib+array-int32@0.2.1/node_modules/@stdlib/array-int32/lib/index.js","../../../node_modules/.pnpm/@stdlib+assert-is-uint16array@0.2.1/node_modules/@stdlib/assert-is-uint16array/lib/main.js","../../../node_modules/.pnpm/@stdlib+assert-is-uint16array@0.2.1/node_modules/@stdlib/assert-is-uint16array/lib/index.js","../../../node_modules/.pnpm/@stdlib+constants-uint16-max@0.2.1/node_modules/@stdlib/constants-uint16-max/lib/index.js","../../../node_modules/.pnpm/@stdlib+assert-has-uint16array-support@0.2.1/node_modules/@stdlib/assert-has-uint16array-support/lib/uint16array.js","../../../node_modules/.pnpm/@stdlib+assert-has-uint16array-support@0.2.1/node_modules/@stdlib/assert-has-uint16array-support/lib/main.js","../../../node_modules/.pnpm/@stdlib+assert-has-uint16array-support@0.2.1/node_modules/@stdlib/assert-has-uint16array-support/lib/index.js","../../../node_modules/.pnpm/@stdlib+array-uint16@0.2.1/node_modules/@stdlib/array-uint16/lib/main.js","../../../node_modules/.pnpm/@stdlib+array-uint16@0.2.1/node_modules/@stdlib/array-uint16/lib/polyfill.js","../../../node_modules/.pnpm/@stdlib+array-uint16@0.2.1/node_modules/@stdlib/array-uint16/lib/index.js","../../../node_modules/.pnpm/@stdlib+assert-is-int16array@0.2.1/node_modules/@stdlib/assert-is-int16array/lib/main.js","../../../node_modules/.pnpm/@stdlib+assert-is-int16array@0.2.1/node_modules/@stdlib/assert-is-int16array/lib/index.js","../../../node_modules/.pnpm/@stdlib+constants-int16-max@0.2.1/node_modules/@stdlib/constants-int16-max/lib/index.js","../../../node_modules/.pnpm/@stdlib+constants-int16-min@0.2.1/node_modules/@stdlib/constants-int16-min/lib/index.js","../../../node_modules/.pnpm/@stdlib+assert-has-int16array-support@0.2.1/node_modules/@stdlib/assert-has-int16array-support/lib/int16array.js","../../../node_modules/.pnpm/@stdlib+assert-has-int16array-support@0.2.1/node_modules/@stdlib/assert-has-int16array-support/lib/main.js","../../../node_modules/.pnpm/@stdlib+assert-has-int16array-support@0.2.1/node_modules/@stdlib/assert-has-int16array-support/lib/index.js","../../../node_modules/.pnpm/@stdlib+array-int16@0.2.1/node_modules/@stdlib/array-int16/lib/main.js","../../../node_modules/.pnpm/@stdlib+array-int16@0.2.1/node_modules/@stdlib/array-int16/lib/polyfill.js","../../../node_modules/.pnpm/@stdlib+array-int16@0.2.1/node_modules/@stdlib/array-int16/lib/index.js","../../../node_modules/.pnpm/@stdlib+assert-is-uint8array@0.2.1/node_modules/@stdlib/assert-is-uint8array/lib/main.js","../../../node_modules/.pnpm/@stdlib+assert-is-uint8array@0.2.1/node_modules/@stdlib/assert-is-uint8array/lib/index.js","../../../node_modules/.pnpm/@stdlib+constants-uint8-max@0.2.1/node_modules/@stdlib/constants-uint8-max/lib/index.js","../../../node_modules/.pnpm/@stdlib+assert-has-uint8array-support@0.2.1/node_modules/@stdlib/assert-has-uint8array-support/lib/uint8array.js","../../../node_modules/.pnpm/@stdlib+assert-has-uint8array-support@0.2.1/node_modules/@stdlib/assert-has-uint8array-support/lib/main.js","../../../node_modules/.pnpm/@stdlib+assert-has-uint8array-support@0.2.1/node_modules/@stdlib/assert-has-uint8array-support/lib/index.js","../../../node_modules/.pnpm/@stdlib+array-uint8@0.2.1/node_modules/@stdlib/array-uint8/lib/main.js","../../../node_modules/.pnpm/@stdlib+array-uint8@0.2.1/node_modules/@stdlib/array-uint8/lib/polyfill.js","../../../node_modules/.pnpm/@stdlib+array-uint8@0.2.1/node_modules/@stdlib/array-uint8/lib/index.js","../../../node_modules/.pnpm/@stdlib+assert-is-uint8clampedarray@0.2.1/node_modules/@stdlib/assert-is-uint8clampedarray/lib/main.js","../../../node_modules/.pnpm/@stdlib+assert-is-uint8clampedarray@0.2.1/node_modules/@stdlib/assert-is-uint8clampedarray/lib/index.js","../../../node_modules/.pnpm/@stdlib+assert-has-uint8clampedarray-support@0.2.1/node_modules/@stdlib/assert-has-uint8clampedarray-support/lib/uint8clampedarray.js","../../../node_modules/.pnpm/@stdlib+assert-has-uint8clampedarray-support@0.2.1/node_modules/@stdlib/assert-has-uint8clampedarray-support/lib/main.js","../../../node_modules/.pnpm/@stdlib+assert-has-uint8clampedarray-support@0.2.1/node_modules/@stdlib/assert-has-uint8clampedarray-support/lib/index.js","../../../node_modules/.pnpm/@stdlib+array-uint8c@0.2.1/node_modules/@stdlib/array-uint8c/lib/main.js","../../../node_modules/.pnpm/@stdlib+array-uint8c@0.2.1/node_modules/@stdlib/array-uint8c/lib/polyfill.js","../../../node_modules/.pnpm/@stdlib+array-uint8c@0.2.1/node_modules/@stdlib/array-uint8c/lib/index.js","../../../node_modules/.pnpm/@stdlib+assert-is-int8array@0.2.1/node_modules/@stdlib/assert-is-int8array/lib/main.js","../../../node_modules/.pnpm/@stdlib+assert-is-int8array@0.2.1/node_modules/@stdlib/assert-is-int8array/lib/index.js","../../../node_modules/.pnpm/@stdlib+constants-int8-max@0.2.1/node_modules/@stdlib/constants-int8-max/lib/index.js","../../../node_modules/.pnpm/@stdlib+constants-int8-min@0.2.1/node_modules/@stdlib/constants-int8-min/lib/index.js","../../../node_modules/.pnpm/@stdlib+assert-has-int8array-support@0.2.1/node_modules/@stdlib/assert-has-int8array-support/lib/int8array.js","../../../node_modules/.pnpm/@stdlib+assert-has-int8array-support@0.2.1/node_modules/@stdlib/assert-has-int8array-support/lib/main.js","../../../node_modules/.pnpm/@stdlib+assert-has-int8array-support@0.2.1/node_modules/@stdlib/assert-has-int8array-support/lib/index.js","../../../node_modules/.pnpm/@stdlib+array-int8@0.2.1/node_modules/@stdlib/array-int8/lib/main.js","../../../node_modules/.pnpm/@stdlib+array-int8@0.2.1/node_modules/@stdlib/array-int8/lib/polyfill.js","../../../node_modules/.pnpm/@stdlib+array-int8@0.2.1/node_modules/@stdlib/array-int8/lib/index.js","../../../node_modules/.pnpm/@stdlib+assert-is-nonnegative-integer@0.2.1/node_modules/@stdlib/assert-is-nonnegative-integer/lib/primitive.js","../../../node_modules/.pnpm/@stdlib+assert-is-nonnegative-integer@0.2.1/node_modules/@stdlib/assert-is-nonnegative-integer/lib/object.js","../../../node_modules/.pnpm/@stdlib+assert-is-nonnegative-integer@0.2.1/node_modules/@stdlib/assert-is-nonnegative-integer/lib/main.js","../../../node_modules/.pnpm/@stdlib+assert-is-nonnegative-integer@0.2.1/node_modules/@stdlib/assert-is-nonnegative-integer/lib/index.js","../../../node_modules/.pnpm/@stdlib+constants-array-max-array-length@0.2.1/node_modules/@stdlib/constants-array-max-array-length/lib/index.js","../../../node_modules/.pnpm/@stdlib+assert-is-array-like-object@0.2.1/node_modules/@stdlib/assert-is-array-like-object/lib/main.js","../../../node_modules/.pnpm/@stdlib+assert-is-array-like-object@0.2.1/node_modules/@stdlib/assert-is-array-like-object/lib/index.js","../../../node_modules/.pnpm/@stdlib+assert-is-arraybuffer@0.2.1/node_modules/@stdlib/assert-is-arraybuffer/lib/main.js","../../../node_modules/.pnpm/@stdlib+assert-is-arraybuffer@0.2.1/node_modules/@stdlib/assert-is-arraybuffer/lib/index.js","../../../node_modules/.pnpm/@stdlib+assert-is-string@0.2.1/node_modules/@stdlib/assert-is-string/lib/primitive.js","../../../node_modules/.pnpm/@stdlib+assert-is-string@0.2.1/node_modules/@stdlib/assert-is-string/lib/valueof.js","../../../node_modules/.pnpm/@stdlib+assert-is-string@0.2.1/node_modules/@stdlib/assert-is-string/lib/try2valueof.js","../../../node_modules/.pnpm/@stdlib+assert-is-string@0.2.1/node_modules/@stdlib/assert-is-string/lib/object.js","../../../node_modules/.pnpm/@stdlib+assert-is-string@0.2.1/node_modules/@stdlib/assert-is-string/lib/main.js","../../../node_modules/.pnpm/@stdlib+assert-is-string@0.2.1/node_modules/@stdlib/assert-is-string/lib/index.js","../../../node_modules/.pnpm/@stdlib+complex-float64@0.2.1/node_modules/@stdlib/complex-float64/lib/tostring.js","../../../node_modules/.pnpm/@stdlib+complex-float64@0.2.1/node_modules/@stdlib/complex-float64/lib/tojson.js","../../../node_modules/.pnpm/@stdlib+complex-float64@0.2.1/node_modules/@stdlib/complex-float64/lib/main.js","../../../node_modules/.pnpm/@stdlib+complex-float64@0.2.1/node_modules/@stdlib/complex-float64/lib/index.js","../../../node_modules/.pnpm/@stdlib+number-float64-base-to-float32@0.2.1/node_modules/@stdlib/number-float64-base-to-float32/lib/main.js","../../../node_modules/.pnpm/@stdlib+number-float64-base-to-float32@0.2.1/node_modules/@stdlib/number-float64-base-to-float32/lib/polyfill.js","../../../node_modules/.pnpm/@stdlib+number-float64-base-to-float32@0.2.1/node_modules/@stdlib/number-float64-base-to-float32/lib/index.js","../../../node_modules/.pnpm/@stdlib+complex-float32@0.2.1/node_modules/@stdlib/complex-float32/lib/tostring.js","../../../node_modules/.pnpm/@stdlib+complex-float32@0.2.1/node_modules/@stdlib/complex-float32/lib/tojson.js","../../../node_modules/.pnpm/@stdlib+complex-float32@0.2.1/node_modules/@stdlib/complex-float32/lib/main.js","../../../node_modules/.pnpm/@stdlib+complex-float32@0.2.1/node_modules/@stdlib/complex-float32/lib/index.js","../../../node_modules/.pnpm/@stdlib+assert-is-complex-like@0.2.1/node_modules/@stdlib/assert-is-complex-like/lib/main.js","../../../node_modules/.pnpm/@stdlib+assert-is-complex-like@0.2.1/node_modules/@stdlib/assert-is-complex-like/lib/index.js","../../../node_modules/.pnpm/@stdlib+math-base-assert-is-even@0.2.2/node_modules/@stdlib/math-base-assert-is-even/lib/main.js","../../../node_modules/.pnpm/@stdlib+math-base-assert-is-even@0.2.2/node_modules/@stdlib/math-base-assert-is-even/lib/index.js","../../../node_modules/.pnpm/@stdlib+array-base-assert-is-complex64array@0.2.1/node_modules/@stdlib/array-base-assert-is-complex64array/lib/main.js","../../../node_modules/.pnpm/@stdlib+array-base-assert-is-complex64array@0.2.1/node_modules/@stdlib/array-base-assert-is-complex64array/lib/index.js","../../../node_modules/.pnpm/@stdlib+array-base-assert-is-complex128array@0.2.1/node_modules/@stdlib/array-base-assert-is-complex128array/lib/main.js","../../../node_modules/.pnpm/@stdlib+array-base-assert-is-complex128array@0.2.1/node_modules/@stdlib/array-base-assert-is-complex128array/lib/index.js","../../../node_modules/.pnpm/@stdlib+assert-has-iterator-symbol-support@0.2.1/node_modules/@stdlib/assert-has-iterator-symbol-support/lib/main.js","../../../node_modules/.pnpm/@stdlib+assert-has-iterator-symbol-support@0.2.1/node_modules/@stdlib/assert-has-iterator-symbol-support/lib/index.js","../../../node_modules/.pnpm/@stdlib+symbol-iterator@0.2.1/node_modules/@stdlib/symbol-iterator/lib/main.js","../../../node_modules/.pnpm/@stdlib+symbol-iterator@0.2.1/node_modules/@stdlib/symbol-iterator/lib/index.js","../../../node_modules/.pnpm/@stdlib+complex-realf@0.2.1/node_modules/@stdlib/complex-realf/lib/main.js","../../../node_modules/.pnpm/@stdlib+complex-realf@0.2.1/node_modules/@stdlib/complex-realf/lib/index.js","../../../node_modules/.pnpm/@stdlib+complex-imagf@0.2.1/node_modules/@stdlib/complex-imagf/lib/main.js","../../../node_modules/.pnpm/@stdlib+complex-imagf@0.2.1/node_modules/@stdlib/complex-imagf/lib/index.js","../../../node_modules/.pnpm/@stdlib+strided-base-reinterpret-complex64@0.2.0/node_modules/@stdlib/strided-base-reinterpret-complex64/lib/main.js","../../../node_modules/.pnpm/@stdlib+strided-base-reinterpret-complex64@0.2.0/node_modules/@stdlib/strided-base-reinterpret-complex64/lib/index.js","../../../node_modules/.pnpm/@stdlib+strided-base-reinterpret-complex128@0.2.1/node_modules/@stdlib/strided-base-reinterpret-complex128/lib/main.js","../../../node_modules/.pnpm/@stdlib+strided-base-reinterpret-complex128@0.2.1/node_modules/@stdlib/strided-base-reinterpret-complex128/lib/index.js","../../../node_modules/.pnpm/@stdlib+array-complex64@0.2.1/node_modules/@stdlib/array-complex64/lib/from_iterator.js","../../../node_modules/.pnpm/@stdlib+array-complex64@0.2.1/node_modules/@stdlib/array-complex64/lib/from_iterator_map.js","../../../node_modules/.pnpm/@stdlib+array-complex64@0.2.1/node_modules/@stdlib/array-complex64/lib/from_array.js","../../../node_modules/.pnpm/@stdlib+array-complex64@0.2.1/node_modules/@stdlib/array-complex64/lib/main.js","../../../node_modules/.pnpm/@stdlib+array-complex64@0.2.1/node_modules/@stdlib/array-complex64/lib/index.js","../../../node_modules/.pnpm/@stdlib+complex-real@0.2.1/node_modules/@stdlib/complex-real/lib/main.js","../../../node_modules/.pnpm/@stdlib+complex-real@0.2.1/node_modules/@stdlib/complex-real/lib/index.js","../../../node_modules/.pnpm/@stdlib+complex-imag@0.2.1/node_modules/@stdlib/complex-imag/lib/main.js","../../../node_modules/.pnpm/@stdlib+complex-imag@0.2.1/node_modules/@stdlib/complex-imag/lib/index.js","../../../node_modules/.pnpm/@stdlib+array-complex128@0.2.1/node_modules/@stdlib/array-complex128/lib/from_iterator.js","../../../node_modules/.pnpm/@stdlib+array-complex128@0.2.1/node_modules/@stdlib/array-complex128/lib/from_iterator_map.js","../../../node_modules/.pnpm/@stdlib+array-complex128@0.2.1/node_modules/@stdlib/array-complex128/lib/from_array.js","../../../node_modules/.pnpm/@stdlib+array-complex128@0.2.1/node_modules/@stdlib/array-complex128/lib/main.js","../../../node_modules/.pnpm/@stdlib+array-complex128@0.2.1/node_modules/@stdlib/array-complex128/lib/index.js","../../../node_modules/.pnpm/@stdlib+array-dtype@0.2.1/node_modules/@stdlib/array-dtype/lib/ctors.js","../../../node_modules/.pnpm/@stdlib+array-dtype@0.2.1/node_modules/@stdlib/array-dtype/lib/dtypes.js","../../../node_modules/.pnpm/@stdlib+array-dtype@0.2.1/node_modules/@stdlib/array-dtype/lib/main.js","../../../node_modules/.pnpm/@stdlib+array-dtype@0.2.1/node_modules/@stdlib/array-dtype/lib/index.js","../../../node_modules/.pnpm/@stdlib+array-base-arraylike2object@0.2.1/node_modules/@stdlib/array-base-arraylike2object/lib/main.js","../../../node_modules/.pnpm/@stdlib+array-base-arraylike2object@0.2.1/node_modules/@stdlib/array-base-arraylike2object/lib/index.js","../../../node_modules/.pnpm/@stdlib+blas-base-gcopy@0.2.1/node_modules/@stdlib/blas-base-gcopy/lib/accessors.js","../../../node_modules/.pnpm/@stdlib+blas-base-gcopy@0.2.1/node_modules/@stdlib/blas-base-gcopy/lib/main.js","../../../node_modules/.pnpm/@stdlib+blas-base-gcopy@0.2.1/node_modules/@stdlib/blas-base-gcopy/lib/ndarray.js","../../../node_modules/.pnpm/@stdlib+blas-base-gcopy@0.2.1/node_modules/@stdlib/blas-base-gcopy/lib/index.js","../../../node_modules/.pnpm/@stdlib+assert-has-function-name-support@0.2.1/node_modules/@stdlib/assert-has-function-name-support/lib/foo.js","../../../node_modules/.pnpm/@stdlib+assert-has-function-name-support@0.2.1/node_modules/@stdlib/assert-has-function-name-support/lib/main.js","../../../node_modules/.pnpm/@stdlib+assert-has-function-name-support@0.2.1/node_modules/@stdlib/assert-has-function-name-support/lib/index.js","../../../node_modules/.pnpm/@stdlib+utils-function-name@0.2.1/node_modules/@stdlib/utils-function-name/lib/main.js","../../../node_modules/.pnpm/@stdlib+utils-function-name@0.2.1/node_modules/@stdlib/utils-function-name/lib/index.js","../../../node_modules/.pnpm/@stdlib+assert-is-typed-array@0.2.1/node_modules/@stdlib/assert-is-typed-array/lib/ctors.js","../../../node_modules/.pnpm/@stdlib+assert-is-typed-array@0.2.1/node_modules/@stdlib/assert-is-typed-array/lib/main.js","../../../node_modules/.pnpm/@stdlib+assert-is-typed-array@0.2.1/node_modules/@stdlib/assert-is-typed-array/lib/index.js","../../../node_modules/.pnpm/@stdlib+assert-is-complex-typed-array@0.2.1/node_modules/@stdlib/assert-is-complex-typed-array/lib/ctors.js","../../../node_modules/.pnpm/@stdlib+assert-is-complex-typed-array@0.2.1/node_modules/@stdlib/assert-is-complex-typed-array/lib/main.js","../../../node_modules/.pnpm/@stdlib+assert-is-complex-typed-array@0.2.1/node_modules/@stdlib/assert-is-complex-typed-array/lib/index.js","../../../node_modules/.pnpm/@stdlib+assert-instance-of@0.2.1/node_modules/@stdlib/assert-instance-of/lib/main.js","../../../node_modules/.pnpm/@stdlib+assert-instance-of@0.2.1/node_modules/@stdlib/assert-instance-of/lib/index.js","../../../node_modules/.pnpm/@stdlib+array-to-json@0.2.1/node_modules/@stdlib/array-to-json/lib/ctors.js","../../../node_modules/.pnpm/@stdlib+array-to-json@0.2.1/node_modules/@stdlib/array-to-json/lib/type.js","../../../node_modules/.pnpm/@stdlib+array-to-json@0.2.1/node_modules/@stdlib/array-to-json/lib/main.js","../../../node_modules/.pnpm/@stdlib+array-to-json@0.2.1/node_modules/@stdlib/array-to-json/lib/index.js","../../../node_modules/.pnpm/@stdlib+random-base-mt19937@0.2.1/node_modules/@stdlib/random-base-mt19937/lib/rand_uint32.js","../../../node_modules/.pnpm/@stdlib+random-base-mt19937@0.2.1/node_modules/@stdlib/random-base-mt19937/lib/factory.js","../../../node_modules/.pnpm/@stdlib+random-base-mt19937@0.2.1/node_modules/@stdlib/random-base-mt19937/lib/main.js","../../../node_modules/.pnpm/@stdlib+random-base-mt19937@0.2.1/node_modules/@stdlib/random-base-mt19937/lib/index.js","../../common/StatTracker.ts","../../common/installFonts.ts","../../common/Component.ts","../../common/MemMonitor.ts","../../index.ts"],"sourcesContent":["/*\n * If not stated otherwise in this file or this component's LICENSE file the\n * following copyright and licenses apply:\n *\n * Copyright 2023 Comcast Cable Communications Management, LLC.\n *\n * Licensed under the Apache License, Version 2.0 (the License);\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nexport function createWebGLContext(canvas, contextSpy) {\n    const config = {\n        alpha: true,\n        antialias: false,\n        depth: false,\n        stencil: true,\n        desynchronized: false,\n        // Disabled because it prevents Visual Regression Tests from working\n        // failIfMajorPerformanceCaveat: true,\n        powerPreference: 'high-performance',\n        premultipliedAlpha: true,\n        preserveDrawingBuffer: false,\n    };\n    const gl = \n    // TODO: Remove this assertion once this issue is fixed in TypeScript\n    // https://github.com/microsoft/TypeScript/issues/53614\n    (canvas.getContext('webgl', config) ||\n        canvas.getContext('experimental-webgl', config));\n    if (!gl) {\n        throw new Error('Unable to create WebGL context');\n    }\n    if (contextSpy) {\n        // Proxy the GL context to log all GL calls\n        return new Proxy(gl, {\n            get(target, prop) {\n                const value = target[prop];\n                if (typeof value === 'function') {\n                    contextSpy.increment(String(prop));\n                    return value.bind(target);\n                }\n                return value;\n            },\n        });\n    }\n    return gl;\n}\n/**\n * Asserts a condition is truthy, otherwise throws an error\n *\n * @remarks\n * Useful at the top of functions to ensure certain conditions, arguments and\n * properties are set/met before continuing. When using this function,\n * TypeScript will narrow away falsy types from the condition.\n *\n * @param condition\n * @param message\n * @returns\n */\nexport function assertTruthy(condition, message) {\n    if (isProductionEnvironment())\n        return;\n    if (!condition) {\n        throw new Error(message || 'Assertion failed');\n    }\n}\n/**\n * Merges two colors based on a given progress value.\n *\n * This function takes two colors (c1 and c2) represented as 32-bit integers\n * in RGBA format and blends them based on the provided progress value (p).\n * The result is a new color that is a weighted combination of the input colors,\n * where the weight is determined by the progress value.\n *\n * @param {number} c1 - The first color in RGBA format (32-bit integer).\n * @param {number} c2 - The second color in RGBA format (32-bit integer).\n * @param {number} p - The progress value between 0 and 1.\n * @returns {number} The merged color as a 32-bit integer in RGBA format.\n */\nexport function mergeColorProgress(rgba1, rgba2, p) {\n    const r1 = Math.trunc(rgba1 >>> 24);\n    const g1 = Math.trunc((rgba1 >>> 16) & 0xff);\n    const b1 = Math.trunc((rgba1 >>> 8) & 0xff);\n    const a1 = Math.trunc(rgba1 & 0xff);\n    const r2 = Math.trunc(rgba2 >>> 24);\n    const g2 = Math.trunc((rgba2 >>> 16) & 0xff);\n    const b2 = Math.trunc((rgba2 >>> 8) & 0xff);\n    const a2 = Math.trunc(rgba2 & 0xff);\n    const r = Math.round(r2 * p + r1 * (1 - p));\n    const g = Math.round(g2 * p + g1 * (1 - p));\n    const b = Math.round(b2 * p + b1 * (1 - p));\n    const a = Math.round(a2 * p + a1 * (1 - p));\n    return ((r << 24) | (g << 16) | (b << 8) | a) >>> 0;\n}\n/**\n * Given an RGBA encoded number, returns back the RGBA number with it's alpha\n * component multiplied by the passed `alpha` parameter.\n *\n * @internalRemarks\n * This method does NOT premultiply the alpha into the color channels. If that\n * is required (for internal use only) use {@link mergeColorAlphaPremultiplied}\n * instead.\n *\n * @param rgba RGBA encoded number\n * @param alpha Normalized alpha value (Range: 0.0 - 1.0)\n * @returns\n */\nexport function mergeColorAlpha(rgba, alpha) {\n    const r = rgba >>> 24;\n    const g = (rgba >>> 16) & 0xff;\n    const b = (rgba >>> 8) & 0xff;\n    const a = Math.trunc((rgba & 0xff) * alpha);\n    return ((r << 24) | (g << 16) | (b << 8) | a) >>> 0;\n}\nlet premultiplyRGB = true;\n/**\n * RGB components should not be premultiplied when using Canvas renderer\n * @param mode  Renderer mode\n */\nexport function setPremultiplyMode(mode) {\n    premultiplyRGB = mode === 'webgl';\n}\n/**\n * Given an RGBA encoded number, returns back the RGBA number with it's alpha\n * component multiplied by the passed `alpha` parameter.\n *\n * For the webGl renderer, each color channel is premultiplied by the final alpha value.\n *\n * @remarks\n * If `flipEndianess` is set to true, the function will returned an ABGR encoded number\n * which is useful when the color value needs to be passed into a shader attribute.\n *\n * NOTE: Depending on the mode set by {@link setPremultiplyMode}, this method returns\n * a PREMULTIPLIED alpha color which is generally only useful in the context of the\n * internal rendering process. Use {@link mergeColorAlpha} if you need to blend an alpha\n * value into a color in the context of the Renderer's main API.\n *\n * @internalRemarks\n * Do not expose this method in the main API because Renderer users should instead use\n * {@link mergeColorAlpha} to manipulate the alpha value of a color.\n *\n * @internal\n * @param rgba RGBA encoded number\n * @param alpha Normalized alpha value (Range: 0.0 - 1.0)\n * @param flipEndianess Flip the endianess. RGBA becomes encoded as ABGR (for inserting colors into shader attributes)\n * @returns\n */\nexport function mergeColorAlphaPremultiplied(rgba, alpha, flipEndianess = false) {\n    const newAlpha = ((rgba & 0xff) / 255) * alpha;\n    const rgbAlpha = premultiplyRGB ? newAlpha : 1;\n    const r = Math.trunc((rgba >>> 24) * rgbAlpha);\n    const g = Math.trunc(((rgba >>> 16) & 0xff) * rgbAlpha);\n    const b = Math.trunc(((rgba >>> 8) & 0xff) * rgbAlpha);\n    const a = Math.trunc(newAlpha * 255);\n    if (flipEndianess) {\n        return ((a << 24) | (b << 16) | (g << 8) | r) >>> 0;\n    }\n    return ((r << 24) | (g << 16) | (b << 8) | a) >>> 0;\n}\n/**\n * Returns true if the given object has the given \"own\" property.\n *\n * @param obj\n * @param prop\n * @returns\n */\nexport function hasOwn(obj, prop) {\n    return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n/**\n * Converts degrees to radians\n *\n * @param degrees\n * @returns\n */\nexport function deg2Rad(degrees) {\n    return (degrees * Math.PI) / 180;\n}\n/**\n * Returns image aspect ratio\n *\n * @param width\n * @param height\n * @returns\n */\nexport function getImageAspectRatio(width, height) {\n    return width / height;\n}\n/**\n * Checks import.meta if env is production\n *\n * @returns\n */\nexport function isProductionEnvironment() {\n    return import.meta.env && import.meta.env.PROD;\n}\n/**\n * Returns a new unique ID\n */\nlet nextId = 1;\nexport function getNewId() {\n    return nextId++;\n}\n//# sourceMappingURL=utils.js.map","/*\n * If not stated otherwise in this file or this component's LICENSE file the\n * following copyright and licenses apply:\n *\n * Copyright 2023 Comcast Cable Communications Management, LLC.\n *\n * Licensed under the Apache License, Version 2.0 (the License);\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * EventEmitter base class\n */\nexport class EventEmitter {\n    eventListeners = {};\n    on(event, listener) {\n        let listeners = this.eventListeners[event];\n        if (!listeners) {\n            listeners = [];\n        }\n        listeners.push(listener);\n        this.eventListeners[event] = listeners;\n    }\n    off(event, listener) {\n        const listeners = this.eventListeners[event];\n        if (!listeners) {\n            return;\n        }\n        if (!listener) {\n            delete this.eventListeners[event];\n            return;\n        }\n        const index = listeners.indexOf(listener);\n        if (index >= 0) {\n            listeners.splice(index, 1);\n        }\n    }\n    once(event, listener) {\n        const onceListener = (target, data) => {\n            this.off(event, onceListener);\n            listener(target, data);\n        };\n        this.on(event, onceListener);\n    }\n    emit(event, data) {\n        const listeners = this.eventListeners[event];\n        if (!listeners) {\n            return;\n        }\n        [...listeners].forEach((listener) => {\n            listener(this, data);\n        });\n    }\n    removeAllListeners() {\n        this.eventListeners = {};\n    }\n}\n//# sourceMappingURL=EventEmitter.js.map","/*\n * If not stated otherwise in this file or this component's LICENSE file the\n * following copyright and licenses apply:\n *\n * Copyright 2023 Comcast Cable Communications Management, LLC.\n *\n * Licensed under the Apache License, Version 2.0 (the License);\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nexport const PROTOCOL_REGEX = /^(data|ftps?|https?):/;\nexport const getNormalizedRgbaComponents = (rgba) => {\n    const r = rgba >>> 24;\n    const g = (rgba >>> 16) & 0xff;\n    const b = (rgba >>> 8) & 0xff;\n    const a = rgba & 0xff;\n    return [r / 255, g / 255, b / 255, a / 255];\n};\nexport const getRgbaComponents = (rgba) => {\n    const r = rgba >>> 24;\n    const g = (rgba >>> 16) & 0xff;\n    const b = (rgba >>> 8) & 0xff;\n    const a = rgba & 0xff;\n    return [r, g, b, a];\n};\nexport const norm = (rgba) => {\n    const r = rgba >>> 24;\n    const g = (rgba >>> 16) & 0xff;\n    const b = (rgba >>> 8) & 0xff;\n    const a = rgba & 0xff;\n    const rgbaArr = [r / 255, g / 255, b / 255, a / 255];\n    rgbaArr[0] = Math.max(0, Math.min(255, rgbaArr[0]));\n    rgbaArr[1] = Math.max(0, Math.min(255, rgbaArr[1]));\n    rgbaArr[2] = Math.max(0, Math.min(255, rgbaArr[2]));\n    rgbaArr[3] = Math.max(0, Math.min(255, rgbaArr[3]));\n    let v = ((rgbaArr[3] | 0) << 24) +\n        ((rgbaArr[0] | 0) << 16) +\n        ((rgbaArr[1] | 0) << 8) +\n        (rgbaArr[2] | 0);\n    if (v < 0) {\n        v = 0xffffffff + v + 1;\n    }\n    return v;\n};\nexport function getNormalizedAlphaComponent(rgba) {\n    return (rgba & 0xff) / 255.0;\n}\n/**\n * Get a CSS color string from a RGBA color\n *\n * @param color\n * @returns\n */\nexport function getRgbaString(color) {\n    const r = Math.floor(color[0] * 255.0);\n    const g = Math.floor(color[1] * 255.0);\n    const b = Math.floor(color[2] * 255.0);\n    const a = Math.floor(color[3] * 255.0);\n    return `rgba(${r},${g},${b},${a.toFixed(4)})`;\n}\nexport function createBound(x1, y1, x2, y2, out) {\n    if (out) {\n        out.x1 = x1;\n        out.y1 = y1;\n        out.x2 = x2;\n        out.y2 = y2;\n        return out;\n    }\n    return {\n        x1,\n        y1,\n        x2,\n        y2,\n    };\n}\nexport function intersectBound(a, b, out) {\n    const intersection = createBound(Math.max(a.x1, b.x1), Math.max(a.y1, b.y1), Math.min(a.x2, b.x2), Math.min(a.y2, b.y2), out);\n    if (intersection.x1 < intersection.x2 && intersection.y1 < intersection.y2) {\n        return intersection;\n    }\n    return createBound(0, 0, 0, 0, intersection);\n}\nexport function boundsOverlap(a, b) {\n    return a.x1 < b.x2 && a.x2 > b.x1 && a.y1 < b.y2 && a.y2 > b.y1;\n}\nexport function convertBoundToRect(bound, out) {\n    if (out) {\n        out.x = bound.x1;\n        out.y = bound.y1;\n        out.width = bound.x2 - bound.x1;\n        out.height = bound.y2 - bound.y1;\n        return out;\n    }\n    return {\n        x: bound.x1,\n        y: bound.y1,\n        width: bound.x2 - bound.x1,\n        height: bound.y2 - bound.y1,\n    };\n}\nexport function intersectRect(a, b, out) {\n    const x = Math.max(a.x, b.x);\n    const y = Math.max(a.y, b.y);\n    const width = Math.min(a.x + a.width, b.x + b.width) - x;\n    const height = Math.min(a.y + a.height, b.y + b.height) - y;\n    if (width > 0 && height > 0) {\n        if (out) {\n            out.x = x;\n            out.y = y;\n            out.width = width;\n            out.height = height;\n            return out;\n        }\n        return {\n            x,\n            y,\n            width,\n            height,\n        };\n    }\n    if (out) {\n        out.x = 0;\n        out.y = 0;\n        out.width = 0;\n        out.height = 0;\n        return out;\n    }\n    return {\n        x: 0,\n        y: 0,\n        width: 0,\n        height: 0,\n    };\n}\nexport function copyRect(a, out) {\n    if (out) {\n        out.x = a.x;\n        out.y = a.y;\n        out.width = a.width;\n        out.height = a.height;\n        return out;\n    }\n    return {\n        x: a.x,\n        y: a.y,\n        width: a.width,\n        height: a.height,\n    };\n}\nexport function compareRect(a, b) {\n    if (a === b) {\n        return true;\n    }\n    if (a === null || b === null) {\n        return false;\n    }\n    return (a.x === b.x && a.y === b.y && a.width === b.width && a.height === b.height);\n}\nexport function boundInsideBound(bound1, bound2) {\n    return (bound1.x1 <= bound2.x2 &&\n        bound1.y1 <= bound2.y2 &&\n        bound1.x2 >= bound2.x1 &&\n        bound1.y2 >= bound2.y1);\n}\nexport function isBoundPositive(bound) {\n    return bound.x1 < bound.x2 && bound.y1 < bound.y2;\n}\nexport function isRectPositive(rect) {\n    return rect.width > 0 && rect.height > 0;\n}\nexport function convertUrlToAbsolute(url) {\n    // handle local file imports if the url isn't remote resource or data blob\n    if (self.location.protocol === 'file:' && !PROTOCOL_REGEX.test(url)) {\n        const path = self.location.pathname.split('/');\n        path.pop();\n        const basePath = path.join('/');\n        const baseUrl = self.location.protocol + '//' + basePath;\n        // check if url has a leading dot\n        if (url.charAt(0) === '.') {\n            url = url.slice(1);\n        }\n        // check if url has a leading slash\n        if (url.charAt(0) === '/') {\n            url = url.slice(1);\n        }\n        return baseUrl + '/' + url;\n    }\n    const absoluteUrl = new URL(url, self.location.href);\n    return absoluteUrl.href;\n}\n//# sourceMappingURL=utils.js.map","/*\n * If not stated otherwise in this file or this component's LICENSE file the\n * following copyright and licenses apply:\n *\n * Copyright 2023 Comcast Cable Communications Management, LLC.\n *\n * Licensed under the Apache License, Version 2.0 (the License);\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * A 3D matrix representing a 2D graphics transformation\n *\n * @remarks\n * For convenience, entries in the first two rows can be accessed by the following\n * properties:\n * | ta tb tx |\n * | tc td ty |\n * | 0  0  1  |\n *\n * This matrix is optimized for 2D transformations and hence the last row will\n * always be considered [0, 0 ,1].\n *\n * To access a column major array for WebGL, use the {@link getFloatArr} method.\n */\nexport class Matrix3d {\n    ta;\n    tb;\n    tx;\n    tc;\n    td;\n    ty;\n    _floatArr = null;\n    /**\n     * Potential Mutation Flag\n     *\n     * @remarks\n     * This flag is set to true whenever the matrix is potentially modified.\n     * We don't waste CPU trying to identify if each operation actually modifies\n     * the matrix. Instead, we set this flag to true whenever we think the matrix\n     * is modified. This signals that the `floatArr` should to be updated.\n     */\n    mutation;\n    /**\n     * Creates a new 3x3 matrix.\n     *\n     * @param entries Row-major 3x3 matrix\n     */\n    constructor() {\n        this.ta = 0;\n        this.tb = 0;\n        this.tx = 0;\n        this.tc = 0;\n        this.td = 0;\n        this.ty = 0;\n        this.mutation = true;\n    }\n    /**\n     * Returns a temporary matrix that can be used for calculations.\n     *\n     * @remarks\n     * This is useful for avoiding allocations in tight loops.\n     *\n     * The matrix is not guaranteed to be the same between calls.\n     *\n     * @returns\n     */\n    static get temp() {\n        return tempMatrix;\n    }\n    static multiply(a, b, out) {\n        const e0 = a.ta * b.ta + a.tb * b.tc;\n        const e1 = a.ta * b.tb + a.tb * b.td;\n        const e2 = a.ta * b.tx + a.tb * b.ty + a.tx;\n        const e3 = a.tc * b.ta + a.td * b.tc;\n        const e4 = a.tc * b.tb + a.td * b.td;\n        const e5 = a.tc * b.tx + a.td * b.ty + a.ty;\n        if (!out) {\n            out = new Matrix3d();\n        }\n        out.ta = e0;\n        out.tb = e1;\n        out.tx = e2;\n        out.tc = e3;\n        out.td = e4;\n        out.ty = e5;\n        out.mutation = true;\n        return out;\n    }\n    static identity(out) {\n        if (!out) {\n            out = new Matrix3d();\n        }\n        out.ta = 1;\n        out.tb = 0;\n        out.tx = 0;\n        out.tc = 0;\n        out.td = 1;\n        out.ty = 0;\n        out.mutation = true;\n        return out;\n    }\n    static translate(x, y, out) {\n        if (!out) {\n            out = new Matrix3d();\n        }\n        out.ta = 1;\n        out.tb = 0;\n        out.tx = x;\n        out.tc = 0;\n        out.td = 1;\n        out.ty = y;\n        out.mutation = true;\n        return out;\n    }\n    static scale(sx, sy, out) {\n        if (!out) {\n            out = new Matrix3d();\n        }\n        out.ta = sx;\n        out.tb = 0;\n        out.tx = 0;\n        out.tc = 0;\n        out.td = sy;\n        out.ty = 0;\n        out.mutation = true;\n        return out;\n    }\n    static rotate(angle, out) {\n        const cos = Math.cos(angle);\n        const sin = Math.sin(angle);\n        if (!out) {\n            out = new Matrix3d();\n        }\n        out.ta = cos;\n        out.tb = -sin;\n        out.tx = 0;\n        out.tc = sin;\n        out.td = cos;\n        out.ty = 0;\n        out.mutation = true;\n        return out;\n    }\n    static copy(src, dst) {\n        if (!dst) {\n            dst = new Matrix3d();\n        }\n        dst.ta = src.ta;\n        dst.tc = src.tc;\n        dst.tb = src.tb;\n        dst.td = src.td;\n        dst.tx = src.tx;\n        dst.ty = src.ty;\n        dst.mutation = true;\n        return dst;\n    }\n    translate(x, y) {\n        this.tx = this.ta * x + this.tb * y + this.tx;\n        this.ty = this.tc * x + this.td * y + this.ty;\n        this.mutation = true;\n        return this;\n    }\n    scale(sx, sy) {\n        this.ta = this.ta * sx;\n        this.tb = this.tb * sy;\n        this.tc = this.tc * sx;\n        this.td = this.td * sy;\n        this.mutation = true;\n        return this;\n    }\n    rotate(angle) {\n        if (angle === 0 || !((angle % Math.PI) * 2)) {\n            return this;\n        }\n        const cos = Math.cos(angle);\n        const sin = Math.sin(angle);\n        const e0 = this.ta * cos + this.tb * sin;\n        const e1 = this.tb * cos - this.ta * sin;\n        const e3 = this.tc * cos + this.td * sin;\n        const e4 = this.td * cos - this.tc * sin;\n        this.ta = e0;\n        this.tb = e1;\n        this.tc = e3;\n        this.td = e4;\n        this.mutation = true;\n        return this;\n    }\n    multiply(other) {\n        return Matrix3d.multiply(this, other, this);\n    }\n    /**\n     * Returns the matrix as a Float32Array in column-major order.\n     *\n     * @remarks\n     * This method is optimized to avoid unnecessary allocations. The same array\n     * is returned every time this method is called, and is updated in place.\n     *\n     * WARNING: Use the array only for passing directly to a WebGL shader uniform\n     * during a frame render. Do not modify or hold onto the array for longer than\n     * a frame.\n     */\n    getFloatArr() {\n        if (!this._floatArr) {\n            this._floatArr = new Float32Array(9);\n        }\n        if (this.mutation) {\n            this._floatArr[0] = this.ta;\n            this._floatArr[1] = this.tc;\n            this._floatArr[2] = 0;\n            this._floatArr[3] = this.tb;\n            this._floatArr[4] = this.td;\n            this._floatArr[5] = 0;\n            this._floatArr[6] = this.tx;\n            this._floatArr[7] = this.ty;\n            this._floatArr[8] = 1;\n            this.mutation = false;\n        }\n        return this._floatArr;\n    }\n}\nconst tempMatrix = new Matrix3d();\n//# sourceMappingURL=Matrix3d.js.map","const rx1 = 0;\nconst rx2 = 2;\nconst rx3 = 4;\nconst rx4 = 6;\nconst ry1 = 1;\nconst ry2 = 3;\nconst ry3 = 5;\nconst ry4 = 7;\nexport class RenderCoords {\n    data;\n    constructor(entries) {\n        this.data = new Float32Array(8);\n        if (entries) {\n            this.data[rx1] = entries[rx1];\n            this.data[rx2] = entries[rx2];\n            this.data[rx3] = entries[rx3];\n            this.data[rx4] = entries[rx4];\n            this.data[ry1] = entries[ry1];\n            this.data[ry2] = entries[ry2];\n            this.data[ry3] = entries[ry3];\n            this.data[ry4] = entries[ry4];\n        }\n    }\n    static translate(x1, y1, x2, y2, x3, y3, x4, y4, out) {\n        if (!out) {\n            out = new RenderCoords();\n        }\n        out.data[rx1] = x1;\n        out.data[rx2] = x2;\n        out.data[rx3] = x3;\n        out.data[rx4] = x4;\n        out.data[ry1] = y1;\n        out.data[ry2] = y2;\n        out.data[ry3] = y3;\n        out.data[ry4] = y4;\n        return out;\n    }\n    get x1() {\n        return this.data[rx1];\n    }\n    get x2() {\n        return this.data[rx2];\n    }\n    get x3() {\n        return this.data[rx3];\n    }\n    get x4() {\n        return this.data[rx4];\n    }\n    get y1() {\n        return this.data[ry1];\n    }\n    get y2() {\n        return this.data[ry2];\n    }\n    get y3() {\n        return this.data[ry3];\n    }\n    get y4() {\n        return this.data[ry4];\n    }\n}\n//# sourceMappingURL=RenderCoords.js.map","/*\n * If not stated otherwise in this file or this component's LICENSE file the\n * following copyright and licenses apply:\n *\n * Copyright 2023 Comcast Cable Communications Management, LLC.\n *\n * Licensed under the Apache License, Version 2.0 (the License);\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * Core Utility Functions\n *\n * @module\n */\nexport const EPSILON = 0.000001;\nexport let ARRAY_TYPE = typeof Float32Array !== 'undefined' ? Float32Array : Array;\nexport const RANDOM = Math.random;\nexport const ANGLE_ORDER = 'zyx';\nconst degree = Math.PI / 180;\nexport const setMatrixArrayType = (type) => {\n    ARRAY_TYPE = type;\n};\nexport const toRadian = (a) => {\n    return a * degree;\n};\nexport const equals = (a, b) => {\n    return Math.abs(a - b) <= EPSILON * Math.max(1.0, Math.abs(a), Math.abs(b));\n};\nexport const rand = (min, max) => {\n    return Math.floor(Math.random() * (max - min + 1) + min);\n};\nexport const isPowerOfTwo = (value) => {\n    return value && !(value & (value - 1));\n};\nconst getTimingBezier = (a, b, c, d) => {\n    const xc = 3.0 * a;\n    const xb = 3.0 * (c - a) - xc;\n    const xa = 1.0 - xc - xb;\n    const yc = 3.0 * b;\n    const yb = 3.0 * (d - b) - yc;\n    const ya = 1.0 - yc - yb;\n    return function (time) {\n        if (time >= 1.0) {\n            return 1;\n        }\n        if (time <= 0) {\n            return 0;\n        }\n        let t = 0.5, cbx, cbxd, dx;\n        for (let it = 0; it < 20; it++) {\n            cbx = t * (t * (t * xa + xb) + xc);\n            dx = time - cbx;\n            if (dx > -1e-8 && dx < 1e-8) {\n                return t * (t * (t * ya + yb) + yc);\n            }\n            // Cubic bezier derivative.\n            cbxd = t * (t * (3 * xa) + 2 * xb) + xc;\n            if (cbxd > 1e-10 && cbxd < 1e-10) {\n                // Problematic. Fall back to binary search method.\n                break;\n            }\n            t += dx / cbxd;\n        }\n        // Fallback: binary search method. This is more reliable when there are near-0 slopes.\n        let minT = 0;\n        let maxT = 1;\n        for (let it = 0; it < 20; it++) {\n            t = 0.5 * (minT + maxT);\n            cbx = t * (t * (t * xa + xb) + xc);\n            dx = time - cbx;\n            if (dx > -1e-8 && dx < 1e-8) {\n                // Solution found!\n                return t * (t * (t * ya + yb) + yc);\n            }\n            if (dx < 0) {\n                maxT = t;\n            }\n            else {\n                minT = t;\n            }\n        }\n    };\n};\nconst timingMapping = {};\nconst timingLookup = {\n    ease: [0.25, 0.1, 0.25, 1.0],\n    'ease-in': [0.42, 0, 1.0, 1.0],\n    'ease-out': [0, 0, 0.58, 1.0],\n    'ease-in-out': [0.42, 0, 0.58, 1.0],\n    'ease-in-sine': [0.12, 0, 0.39, 0],\n    'ease-out-sine': [0.12, 0, 0.39, 0],\n    'ease-in-out-sine': [0.37, 0, 0.63, 1],\n    'ease-in-cubic': [0.32, 0, 0.67, 0],\n    'ease-out-cubic': [0.33, 1, 0.68, 1],\n    'ease-in-out-cubic': [0.65, 0, 0.35, 1],\n    'ease-in-circ': [0.55, 0, 1, 0.45],\n    'ease-out-circ': [0, 0.55, 0.45, 1],\n    'ease-in-out-circ': [0.85, 0, 0.15, 1],\n    'ease-in-back': [0.36, 0, 0.66, -0.56],\n    'ease-out-back': [0.34, 1.56, 0.64, 1],\n    'ease-in-out-back': [0.68, -0.6, 0.32, 1.6],\n};\nconst defaultTiming = (t) => t;\nconst parseCubicBezier = (str) => {\n    //cubic-bezier(0.84, 0.52, 0.56, 0.6)\n    const regex = /-?\\d*\\.?\\d+/g;\n    const match = str.match(regex);\n    if (match) {\n        const [num1, num2, num3, num4] = match;\n        const a = parseFloat(num1 || '0.42');\n        const b = parseFloat(num2 || '0');\n        const c = parseFloat(num3 || '1');\n        const d = parseFloat(num4 || '1');\n        const timing = getTimingBezier(a, b, c, d);\n        timingMapping[str] = timing;\n        return timing;\n    }\n    // parse failed, return linear\n    console.warn('Unknown cubic-bezier timing: ' + str);\n    return defaultTiming;\n};\nexport const getTimingFunction = (str) => {\n    if (str === 'linear') {\n        return defaultTiming;\n    }\n    if (timingMapping[str] !== undefined) {\n        return timingMapping[str] || defaultTiming;\n    }\n    if (str === 'step-start') {\n        return () => {\n            return 1;\n        };\n    }\n    if (str === 'step-end') {\n        return (time) => {\n            return time === 1 ? 1 : 0;\n        };\n    }\n    const lookup = timingLookup[str];\n    if (lookup !== undefined) {\n        const [a, b, c, d] = lookup;\n        // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n        // @ts-ignore - TS doesn't understand that we've checked for undefined\n        // eslint-disable-next-line @typescript-eslint/no-unsafe-argument\n        const timing = getTimingBezier(a, b, c, d);\n        timingMapping[str] = timing;\n        return timing;\n    }\n    if (str.startsWith('cubic-bezier')) {\n        return parseCubicBezier(str);\n    }\n    console.warn('Unknown timing function: ' + str);\n    return defaultTiming;\n};\n/**\n * Convert bytes to string of megabytes with 2 decimal points\n *\n * @param bytes\n * @returns\n */\nexport function bytesToMb(bytes) {\n    return (bytes / 1024 / 1024).toFixed(2);\n}\n//# sourceMappingURL=utils.js.map","/*\n * If not stated otherwise in this file or this component's LICENSE file the\n * following copyright and licenses apply:\n *\n * Copyright 2023 Comcast Cable Communications Management, LLC.\n *\n * Licensed under the Apache License, Version 2.0 (the License);\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport {} from '../CoreNode.js';\nimport { getTimingFunction } from '../utils.js';\nimport { mergeColorProgress } from '../../utils.js';\nimport { EventEmitter } from '../../common/EventEmitter.js';\nexport class CoreAnimation extends EventEmitter {\n    node;\n    props;\n    settings;\n    progress = 0;\n    delayFor = 0;\n    timingFunction;\n    propValuesMap = {};\n    dynPropValuesMap = undefined;\n    constructor(node, props, settings) {\n        super();\n        this.node = node;\n        this.props = props;\n        for (const key in props) {\n            if (key !== 'shaderProps') {\n                if (this.propValuesMap['props'] === undefined) {\n                    this.propValuesMap['props'] = {};\n                }\n                this.propValuesMap['props'][key] = {\n                    start: node[key] || 0,\n                    target: props[key],\n                };\n            }\n            else if (node.shader.type !== 'DynamicShader') {\n                this.propValuesMap['shaderProps'] = {};\n                for (const key in props.shaderProps) {\n                    this.propValuesMap['shaderProps'][key] = {\n                        start: node.shader.props[key],\n                        target: props.shaderProps[key],\n                    };\n                }\n            }\n            else {\n                const shaderPropKeys = Object.keys(props.shaderProps);\n                const spLength = shaderPropKeys.length;\n                this.dynPropValuesMap = {};\n                for (let j = 0; j < spLength; j++) {\n                    const effectName = shaderPropKeys[j];\n                    const effect = props.shaderProps[effectName];\n                    this.dynPropValuesMap[effectName] = {};\n                    const effectProps = Object.entries(effect);\n                    const eLength = effectProps.length;\n                    for (let k = 0; k < eLength; k++) {\n                        const [key, value] = effectProps[k];\n                        this.dynPropValuesMap[effectName][key] = {\n                            start: node.shader.props[effectName][key],\n                            target: value,\n                        };\n                    }\n                }\n            }\n        }\n        const easing = settings.easing || 'linear';\n        const delay = settings.delay ?? 0;\n        this.settings = {\n            duration: settings.duration ?? 0,\n            delay,\n            easing,\n            loop: settings.loop ?? false,\n            repeat: settings.repeat ?? 0,\n            repeatDelay: settings.repeatDelay ?? 0,\n            stopMethod: settings.stopMethod ?? false,\n        };\n        this.timingFunction = getTimingFunction(easing);\n        this.delayFor = delay;\n    }\n    reset() {\n        this.progress = 0;\n        this.delayFor = this.settings.delay || 0;\n        this.update(0);\n    }\n    restoreValues(target, valueMap) {\n        const entries = Object.entries(valueMap);\n        const eLength = entries.length;\n        for (let i = 0; i < eLength; i++) {\n            const [key, value] = entries[i];\n            target[key] = value.start;\n        }\n    }\n    restore() {\n        this.reset();\n        if (this.propValuesMap['props'] !== undefined) {\n            this.restoreValues(this.node, this.propValuesMap['props']);\n        }\n        if (this.propValuesMap['shaderProps'] !== undefined) {\n            this.restoreValues(this.node.shader.props, this.propValuesMap['shaderProps']);\n        }\n        if (this.dynPropValuesMap !== undefined) {\n            const dynEntries = Object.keys(this.dynPropValuesMap);\n            const dynEntriesL = dynEntries.length;\n            if (dynEntriesL > 0) {\n                for (let i = 0; i < dynEntriesL; i++) {\n                    const key = dynEntries[i];\n                    this.restoreValues(this.node.shader.props[key], this.dynPropValuesMap[key]);\n                }\n            }\n        }\n    }\n    reverseValues(valueMap) {\n        const entries = Object.entries(valueMap);\n        const eLength = entries.length;\n        for (let i = 0; i < eLength; i++) {\n            const [key, value] = entries[i];\n            valueMap[key] = {\n                start: value.target,\n                target: value.start,\n            };\n        }\n    }\n    reverse() {\n        this.progress = 0;\n        if (this.propValuesMap['props'] !== undefined) {\n            this.reverseValues(this.propValuesMap['props']);\n        }\n        if (this.propValuesMap['shaderProps'] !== undefined) {\n            this.reverseValues(this.propValuesMap['shaderProps']);\n        }\n        if (this.dynPropValuesMap !== undefined) {\n            const dynEntries = Object.keys(this.dynPropValuesMap);\n            const dynEntriesL = dynEntries.length;\n            if (dynEntriesL > 0) {\n                for (let i = 0; i < dynEntriesL; i++) {\n                    const key = dynEntries[i];\n                    this.reverseValues(this.dynPropValuesMap[key]);\n                }\n            }\n        }\n        // restore stop method if we are not looping\n        if (!this.settings.loop) {\n            this.settings.stopMethod = false;\n        }\n    }\n    applyEasing(p, s, e) {\n        return (this.timingFunction(p) || p) * (e - s) + s;\n    }\n    updateValue(propName, propValue, startValue, easing) {\n        if (this.progress === 1) {\n            return propValue;\n        }\n        if (this.progress === 0) {\n            return startValue;\n        }\n        const endValue = propValue;\n        if (propName.indexOf('color') !== -1) {\n            if (startValue === endValue) {\n                return startValue;\n            }\n            if (easing) {\n                const easingProgressValue = this.timingFunction(this.progress) || this.progress;\n                return mergeColorProgress(startValue, endValue, easingProgressValue);\n            }\n            return mergeColorProgress(startValue, endValue, this.progress);\n        }\n        if (easing) {\n            return this.applyEasing(this.progress, startValue, endValue);\n        }\n        return startValue + (endValue - startValue) * this.progress;\n    }\n    updateValues(target, valueMap, easing) {\n        const entries = Object.entries(valueMap);\n        const eLength = entries.length;\n        for (let i = 0; i < eLength; i++) {\n            const [key, value] = entries[i];\n            target[key] = this.updateValue(key, value.target, value.start, easing);\n        }\n    }\n    update(dt) {\n        const { duration, loop, easing, stopMethod } = this.settings;\n        const { delayFor } = this;\n        if (duration === 0 && delayFor === 0) {\n            this.emit('finished', {});\n            return;\n        }\n        if (this.delayFor > 0) {\n            this.delayFor -= dt;\n            if (this.delayFor >= 0) {\n                // Either no or more delay left. Exit.\n                return;\n            }\n            else {\n                // We went beyond the delay time, add it back to dt so we can continue\n                // with the animation.\n                dt = -this.delayFor;\n                this.delayFor = 0;\n            }\n        }\n        if (duration === 0) {\n            // No duration, we are done.\n            this.emit('finished', {});\n            return;\n        }\n        if (this.progress === 0) {\n            // Progress is 0, we are starting the post-delay part of the animation.\n            this.emit('animating', {});\n        }\n        this.progress += dt / duration;\n        if (this.progress > 1) {\n            this.progress = loop ? 0 : 1;\n            if (stopMethod) {\n                // If there's a stop method emit finished so the stop method can be applied.\n                // TODO: We should probably reevaluate how stopMethod is implemented as currently\n                // stop method 'reset' does not work when looping.\n                this.emit('finished', {});\n                return;\n            }\n        }\n        if (this.propValuesMap['props'] !== undefined) {\n            this.updateValues(this.node, this.propValuesMap['props'], easing);\n        }\n        if (this.propValuesMap['shaderProps'] !== undefined) {\n            this.updateValues(this.node.shader.props, this.propValuesMap['shaderProps'], easing);\n        }\n        if (this.dynPropValuesMap !== undefined) {\n            const dynEntries = Object.keys(this.dynPropValuesMap);\n            const dynEntriesL = dynEntries.length;\n            if (dynEntriesL > 0) {\n                for (let i = 0; i < dynEntriesL; i++) {\n                    const key = dynEntries[i];\n                    this.updateValues(this.node.shader.props[key], this.dynPropValuesMap[key], easing);\n                }\n            }\n        }\n        if (this.progress === 1) {\n            this.emit('finished', {});\n        }\n    }\n}\n//# sourceMappingURL=CoreAnimation.js.map","/* eslint-disable @typescript-eslint/unbound-method */\n/*\n * If not stated otherwise in this file or this component's LICENSE file the\n * following copyright and licenses apply:\n *\n * Copyright 2023 Comcast Cable Communications Management, LLC.\n *\n * Licensed under the Apache License, Version 2.0 (the License);\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { assertTruthy } from '../../utils.js';\nimport { EventEmitter } from '../../common/EventEmitter.js';\nexport class CoreAnimationController extends EventEmitter {\n    manager;\n    animation;\n    stoppedPromise;\n    /**\n     * If this is null, then the animation is in a finished / stopped state.\n     */\n    stoppedResolve = null;\n    state;\n    constructor(manager, animation) {\n        super();\n        this.manager = manager;\n        this.animation = animation;\n        this.state = 'stopped';\n        // Initial stopped promise is resolved (since the animation is stopped)\n        this.stoppedPromise = Promise.resolve();\n        // Bind event handlers\n        this.onAnimating = this.onAnimating.bind(this);\n        this.onFinished = this.onFinished.bind(this);\n    }\n    start() {\n        if (this.state !== 'running') {\n            this.makeStoppedPromise();\n            this.registerAnimation();\n            this.state = 'running';\n        }\n        return this;\n    }\n    stop() {\n        this.unregisterAnimation();\n        if (this.stoppedResolve !== null) {\n            this.stoppedResolve();\n            this.stoppedResolve = null;\n            this.emit('stopped', this);\n        }\n        this.animation.reset();\n        this.state = 'stopped';\n        return this;\n    }\n    pause() {\n        this.unregisterAnimation();\n        this.state = 'paused';\n        return this;\n    }\n    restore() {\n        this.stoppedResolve = null;\n        this.animation.restore();\n        return this;\n    }\n    waitUntilStopped() {\n        return this.stoppedPromise;\n    }\n    registerAnimation() {\n        // Hook up event listeners\n        this.animation.once('finished', this.onFinished);\n        this.animation.on('animating', this.onAnimating);\n        // Then register the animation\n        this.manager.registerAnimation(this.animation);\n    }\n    unregisterAnimation() {\n        // First unregister the animation\n        this.manager.unregisterAnimation(this.animation);\n        // Then unhook event listeners\n        this.animation.off('finished', this.onFinished);\n        this.animation.off('animating', this.onAnimating);\n    }\n    makeStoppedPromise() {\n        if (this.stoppedResolve === null) {\n            this.stoppedPromise = new Promise((resolve) => {\n                this.stoppedResolve = resolve;\n            });\n        }\n    }\n    onFinished() {\n        assertTruthy(this.stoppedResolve);\n        // If the animation is looping, then we need to restart it.\n        const { loop, stopMethod } = this.animation.settings;\n        if (stopMethod === 'reverse') {\n            this.animation.once('finished', this.onFinished);\n            this.animation.reverse();\n            return;\n        }\n        if (loop) {\n            return;\n        }\n        // unregister animation\n        this.unregisterAnimation();\n        // resolve promise\n        this.stoppedResolve();\n        this.stoppedResolve = null;\n        this.emit('stopped', this);\n        this.state = 'stopped';\n    }\n    onAnimating() {\n        this.emit('animating', this);\n    }\n}\n//# sourceMappingURL=CoreAnimationController.js.map","/*\n * If not stated otherwise in this file or this component's LICENSE file the\n * following copyright and licenses apply:\n *\n * Copyright 2023 Comcast Cable Communications Management, LLC.\n *\n * Licensed under the Apache License, Version 2.0 (the License);\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { assertTruthy, getNewId, mergeColorAlphaPremultiplied, } from '../utils.js';\nimport { EventEmitter } from '../common/EventEmitter.js';\nimport { copyRect, intersectRect, createBound, boundInsideBound, } from './lib/utils.js';\nimport { Matrix3d } from './lib/Matrix3d.js';\nimport { RenderCoords } from './lib/RenderCoords.js';\nimport { CoreAnimation } from './animations/CoreAnimation.js';\nimport { CoreAnimationController } from './animations/CoreAnimationController.js';\nexport var CoreNodeRenderState;\n(function (CoreNodeRenderState) {\n    CoreNodeRenderState[CoreNodeRenderState[\"Init\"] = 0] = \"Init\";\n    CoreNodeRenderState[CoreNodeRenderState[\"OutOfBounds\"] = 2] = \"OutOfBounds\";\n    CoreNodeRenderState[CoreNodeRenderState[\"InBounds\"] = 4] = \"InBounds\";\n    CoreNodeRenderState[CoreNodeRenderState[\"InViewport\"] = 8] = \"InViewport\";\n})(CoreNodeRenderState || (CoreNodeRenderState = {}));\nconst CoreNodeRenderStateMap = new Map();\nCoreNodeRenderStateMap.set(CoreNodeRenderState.Init, 'init');\nCoreNodeRenderStateMap.set(CoreNodeRenderState.OutOfBounds, 'outOfBounds');\nCoreNodeRenderStateMap.set(CoreNodeRenderState.InBounds, 'inBounds');\nCoreNodeRenderStateMap.set(CoreNodeRenderState.InViewport, 'inViewport');\nexport var UpdateType;\n(function (UpdateType) {\n    /**\n     * Child updates\n     */\n    UpdateType[UpdateType[\"Children\"] = 1] = \"Children\";\n    /**\n     * Scale/Rotate transform update\n     *\n     * @remarks\n     * CoreNode Properties Updated:\n     * - `scaleRotateTransform`\n     */\n    UpdateType[UpdateType[\"ScaleRotate\"] = 2] = \"ScaleRotate\";\n    /**\n     * Translate transform update (x/y/width/height/pivot/mount)\n     *\n     * @remarks\n     * CoreNode Properties Updated:\n     * - `localTransform`\n     */\n    UpdateType[UpdateType[\"Local\"] = 4] = \"Local\";\n    /**\n     * Global Transform update\n     *\n     * @remarks\n     * CoreNode Properties Updated:\n     * - `globalTransform`\n     * - `renderCoords`\n     * - `renderBound`\n     */\n    UpdateType[UpdateType[\"Global\"] = 8] = \"Global\";\n    /**\n     * Clipping rect update\n     *\n     * @remarks\n     * CoreNode Properties Updated:\n     * - `clippingRect`\n     */\n    UpdateType[UpdateType[\"Clipping\"] = 16] = \"Clipping\";\n    /**\n     * Calculated ZIndex update\n     *\n     * @remarks\n     * CoreNode Properties Updated:\n     * - `calcZIndex`\n     */\n    UpdateType[UpdateType[\"CalculatedZIndex\"] = 32] = \"CalculatedZIndex\";\n    /**\n     * Z-Index Sorted Children update\n     *\n     * @remarks\n     * CoreNode Properties Updated:\n     * - `children` (sorts children by their `calcZIndex`)\n     */\n    UpdateType[UpdateType[\"ZIndexSortedChildren\"] = 64] = \"ZIndexSortedChildren\";\n    /**\n     * Premultiplied Colors update\n     *\n     * @remarks\n     * CoreNode Properties Updated:\n     * - `premultipliedColorTl`\n     * - `premultipliedColorTr`\n     * - `premultipliedColorBl`\n     * - `premultipliedColorBr`\n     */\n    UpdateType[UpdateType[\"PremultipliedColors\"] = 128] = \"PremultipliedColors\";\n    /**\n     * World Alpha update\n     *\n     * @remarks\n     * CoreNode Properties Updated:\n     * - `worldAlpha` = `parent.worldAlpha` * `alpha`\n     */\n    UpdateType[UpdateType[\"WorldAlpha\"] = 256] = \"WorldAlpha\";\n    /**\n     * Render State update\n     *\n     * @remarks\n     * CoreNode Properties Updated:\n     * - `renderState`\n     */\n    UpdateType[UpdateType[\"RenderState\"] = 512] = \"RenderState\";\n    /**\n     * Is Renderable update\n     *\n     * @remarks\n     * CoreNode Properties Updated:\n     * - `isRenderable`\n     */\n    UpdateType[UpdateType[\"IsRenderable\"] = 1024] = \"IsRenderable\";\n    /**\n     * Render Texture update\n     */\n    UpdateType[UpdateType[\"RenderTexture\"] = 2048] = \"RenderTexture\";\n    /**\n     * Track if parent has render texture\n     */\n    UpdateType[UpdateType[\"ParentRenderTexture\"] = 4096] = \"ParentRenderTexture\";\n    /**\n     * None\n     */\n    UpdateType[UpdateType[\"None\"] = 0] = \"None\";\n    /**\n     * All\n     */\n    UpdateType[UpdateType[\"All\"] = 8191] = \"All\";\n})(UpdateType || (UpdateType = {}));\n/**\n * A visual Node in the Renderer scene graph.\n *\n * @remarks\n * CoreNode is an internally used class that represents a Renderer Node in the\n * scene graph. See INode.ts for the public APIs exposed to Renderer users\n * that include generic types for Shaders.\n */\nexport class CoreNode extends EventEmitter {\n    stage;\n    children = [];\n    _id = getNewId();\n    props;\n    updateType = UpdateType.All;\n    globalTransform;\n    scaleRotateTransform;\n    localTransform;\n    renderCoords;\n    renderBound;\n    strictBound;\n    preloadBound;\n    clippingRect = {\n        x: 0,\n        y: 0,\n        width: 0,\n        height: 0,\n        valid: false,\n    };\n    isRenderable = false;\n    renderState = CoreNodeRenderState.Init;\n    worldAlpha = 1;\n    premultipliedColorTl = 0;\n    premultipliedColorTr = 0;\n    premultipliedColorBl = 0;\n    premultipliedColorBr = 0;\n    calcZIndex = 0;\n    hasRTTupdates = false;\n    parentHasRenderTexture = false;\n    constructor(stage, props) {\n        super();\n        this.stage = stage;\n        this.props = {\n            ...props,\n            parent: null,\n            texture: null,\n            src: null,\n            rtt: false,\n        };\n        // Assign props to instance\n        this.parent = props.parent;\n        this.texture = props.texture;\n        this.src = props.src;\n        this.rtt = props.rtt;\n        this.updateScaleRotateTransform();\n    }\n    //#region Textures\n    loadTexture() {\n        const { texture } = this.props;\n        assertTruthy(texture);\n        // If texture is already loaded / failed, trigger loaded event manually\n        // so that users get a consistent event experience.\n        // We do this in a microtask to allow listeners to be attached in the same\n        // synchronous task after calling loadTexture()\n        queueMicrotask(() => {\n            texture.preventCleanup = this.props.preventCleanup;\n            // Preload texture if required\n            if (this.textureOptions.preload) {\n                texture.ctxTexture.load();\n            }\n            if (texture.state === 'loaded') {\n                assertTruthy(texture.dimensions);\n                this.onTextureLoaded(texture, texture.dimensions);\n            }\n            else if (texture.state === 'failed') {\n                assertTruthy(texture.error);\n                this.onTextureFailed(texture, texture.error);\n            }\n            else if (texture.state === 'freed') {\n                this.onTextureFreed(texture);\n            }\n            texture.on('loaded', this.onTextureLoaded);\n            texture.on('failed', this.onTextureFailed);\n            texture.on('freed', this.onTextureFreed);\n        });\n    }\n    unloadTexture() {\n        if (this.texture) {\n            this.texture.off('loaded', this.onTextureLoaded);\n            this.texture.off('failed', this.onTextureFailed);\n            this.texture.off('freed', this.onTextureFreed);\n            this.texture.setRenderableOwner(this, false);\n        }\n    }\n    autosizeNode(dimensions) {\n        if (this.autosize) {\n            this.width = dimensions.width;\n            this.height = dimensions.height;\n        }\n    }\n    onTextureLoaded = (_, dimensions) => {\n        this.autosizeNode(dimensions);\n        // Texture was loaded. In case the RAF loop has already stopped, we request\n        // a render to ensure the texture is rendered.\n        this.stage.requestRender();\n        // If parent has a render texture, flag that we need to update\n        // @todo: Reserve type for RTT updates\n        if (this.parentHasRenderTexture) {\n            this.setRTTUpdates(1);\n        }\n        this.emit('loaded', {\n            type: 'texture',\n            dimensions,\n        });\n        // Trigger a local update if the texture is loaded and the resizeMode is 'contain'\n        if (this.props.textureOptions?.resizeMode?.type === 'contain') {\n            this.setUpdateType(UpdateType.Local);\n        }\n    };\n    onTextureFailed = (_, error) => {\n        this.emit('failed', {\n            type: 'texture',\n            error,\n        });\n    };\n    onTextureFreed = () => {\n        this.emit('freed', {\n            type: 'texture',\n        });\n    };\n    //#endregion Textures\n    /**\n     * Change types types is used to determine the scope of the changes being applied\n     *\n     * @remarks\n     * See {@link UpdateType} for more information on each type\n     *\n     * @param type\n     */\n    setUpdateType(type) {\n        this.updateType |= type;\n        // If we're updating this node at all, we need to inform the parent\n        // (and all ancestors) that their children need updating as well\n        const parent = this.props.parent;\n        if (parent && !(parent.updateType & UpdateType.Children)) {\n            parent.setUpdateType(UpdateType.Children);\n        }\n        // If node is part of RTT texture\n        // Flag that we need to update\n        if (this.parentHasRenderTexture) {\n            this.setRTTUpdates(type);\n        }\n    }\n    sortChildren() {\n        this.children.sort((a, b) => a.calcZIndex - b.calcZIndex);\n    }\n    updateScaleRotateTransform() {\n        const { rotation, scaleX, scaleY } = this.props;\n        // optimize simple translation cases\n        if (rotation === 0 && scaleX === 1 && scaleY === 1) {\n            this.scaleRotateTransform = undefined;\n            return;\n        }\n        this.scaleRotateTransform = Matrix3d.rotate(rotation, this.scaleRotateTransform).scale(scaleX, scaleY);\n    }\n    updateLocalTransform() {\n        const { x, y, width, height } = this.props;\n        const mountTranslateX = this.props.mountX * width;\n        const mountTranslateY = this.props.mountY * height;\n        if (this.scaleRotateTransform) {\n            const pivotTranslateX = this.props.pivotX * width;\n            const pivotTranslateY = this.props.pivotY * height;\n            this.localTransform = Matrix3d.translate(x - mountTranslateX + pivotTranslateX, y - mountTranslateY + pivotTranslateY, this.localTransform)\n                .multiply(this.scaleRotateTransform)\n                .translate(-pivotTranslateX, -pivotTranslateY);\n        }\n        else {\n            this.localTransform = Matrix3d.translate(x - mountTranslateX, y - mountTranslateY, this.localTransform);\n        }\n        // Handle 'contain' resize mode\n        const texture = this.props.texture;\n        if (texture &&\n            texture.dimensions &&\n            this.props.textureOptions?.resizeMode?.type === 'contain') {\n            let resizeModeScaleX = 1;\n            let resizeModeScaleY = 1;\n            let extraX = 0;\n            let extraY = 0;\n            const { width: tw, height: th } = texture.dimensions;\n            const txAspectRatio = tw / th;\n            const nodeAspectRatio = width / height;\n            if (txAspectRatio > nodeAspectRatio) {\n                // Texture is wider than node\n                // Center the node vertically (shift down by extraY)\n                // Scale the node vertically to maintain original aspect ratio\n                const scaleX = width / tw;\n                const scaledTxHeight = th * scaleX;\n                extraY = (height - scaledTxHeight) / 2;\n                resizeModeScaleY = scaledTxHeight / height;\n            }\n            else {\n                // Texture is taller than node (or equal)\n                // Center the node horizontally (shift right by extraX)\n                // Scale the node horizontally to maintain original aspect ratio\n                const scaleY = height / th;\n                const scaledTxWidth = tw * scaleY;\n                extraX = (width - scaledTxWidth) / 2;\n                resizeModeScaleX = scaledTxWidth / width;\n            }\n            // Apply the extra translation and scale to the local transform\n            this.localTransform\n                .translate(extraX, extraY)\n                .scale(resizeModeScaleX, resizeModeScaleY);\n        }\n        this.setUpdateType(UpdateType.Global);\n    }\n    /**\n     * @todo: test for correct calculation flag\n     * @param delta\n     */\n    update(delta, parentClippingRect) {\n        if (this.updateType & UpdateType.ScaleRotate) {\n            this.updateScaleRotateTransform();\n            this.setUpdateType(UpdateType.Local);\n        }\n        if (this.updateType & UpdateType.Local) {\n            this.updateLocalTransform();\n            this.setUpdateType(UpdateType.Global);\n        }\n        const parent = this.props.parent;\n        let childUpdateType = UpdateType.None;\n        if (this.updateType & UpdateType.ParentRenderTexture) {\n            let p = this.parent;\n            while (p) {\n                if (p.rtt) {\n                    this.parentHasRenderTexture = true;\n                }\n                p = p.parent;\n            }\n        }\n        // If we have render texture updates and not already running a full update\n        if (this.updateType ^ UpdateType.All &&\n            this.updateType & UpdateType.RenderTexture) {\n            this.children.forEach((child) => {\n                child.setUpdateType(UpdateType.All);\n            });\n        }\n        if (this.updateType & UpdateType.Global) {\n            assertTruthy(this.localTransform);\n            this.globalTransform = Matrix3d.copy(parent?.globalTransform || this.localTransform, this.globalTransform);\n            if (this.parentHasRenderTexture && this.props.parent?.rtt) {\n                this.globalTransform = Matrix3d.identity();\n            }\n            if (parent) {\n                this.globalTransform.multiply(this.localTransform);\n            }\n            this.calculateRenderCoords();\n            this.updateBoundingRect();\n            this.setUpdateType(UpdateType.Clipping | UpdateType.RenderState | UpdateType.Children);\n            childUpdateType |= UpdateType.Global;\n        }\n        if (this.updateType & UpdateType.Clipping) {\n            this.calculateClippingRect(parentClippingRect);\n            this.setUpdateType(UpdateType.Children);\n            childUpdateType |= UpdateType.Clipping;\n        }\n        if (this.updateType & UpdateType.WorldAlpha) {\n            if (parent) {\n                this.worldAlpha = parent.worldAlpha * this.props.alpha;\n            }\n            else {\n                this.worldAlpha = this.props.alpha;\n            }\n            this.setUpdateType(UpdateType.Children |\n                UpdateType.PremultipliedColors |\n                UpdateType.IsRenderable);\n            childUpdateType |= UpdateType.WorldAlpha;\n        }\n        if (this.updateType & UpdateType.PremultipliedColors) {\n            this.premultipliedColorTl = mergeColorAlphaPremultiplied(this.props.colorTl, this.worldAlpha, true);\n            // If all the colors are the same just sent them all to the same value\n            if (this.props.colorTl === this.props.colorTr &&\n                this.props.colorBl === this.props.colorBr &&\n                this.props.colorTl === this.props.colorBl) {\n                this.premultipliedColorTr =\n                    this.premultipliedColorBl =\n                        this.premultipliedColorBr =\n                            this.premultipliedColorTl;\n            }\n            else {\n                this.premultipliedColorTr = mergeColorAlphaPremultiplied(this.props.colorTr, this.worldAlpha, true);\n                this.premultipliedColorBl = mergeColorAlphaPremultiplied(this.props.colorBl, this.worldAlpha, true);\n                this.premultipliedColorBr = mergeColorAlphaPremultiplied(this.props.colorBr, this.worldAlpha, true);\n            }\n        }\n        if (this.updateType & UpdateType.RenderState) {\n            this.updateRenderState(parentClippingRect);\n            this.setUpdateType(UpdateType.IsRenderable);\n        }\n        if (this.updateType & UpdateType.IsRenderable) {\n            this.updateIsRenderable();\n        }\n        // No need to update zIndex if there is no parent\n        if (parent && this.updateType & UpdateType.CalculatedZIndex) {\n            this.calculateZIndex();\n            // Tell parent to re-sort children\n            parent.setUpdateType(UpdateType.ZIndexSortedChildren);\n        }\n        if (this.updateType & UpdateType.Children &&\n            this.children.length &&\n            !this.rtt) {\n            this.children.forEach((child) => {\n                // Trigger the depenedent update types on the child\n                child.setUpdateType(childUpdateType);\n                // If child has no updates, skip\n                if (child.updateType === 0) {\n                    return;\n                }\n                child.update(delta, this.clippingRect);\n            });\n        }\n        // Sorting children MUST happen after children have been updated so\n        // that they have the oppotunity to update their calculated zIndex.\n        if (this.updateType & UpdateType.ZIndexSortedChildren) {\n            // reorder z-index\n            this.sortChildren();\n        }\n        // reset update type\n        this.updateType = 0;\n    }\n    //check if CoreNode is renderable based on props\n    checkRenderProps() {\n        if (this.props.texture) {\n            return true;\n        }\n        if (!this.props.width || !this.props.height) {\n            return false;\n        }\n        if (this.props.shader !== this.stage.defShaderCtr) {\n            return true;\n        }\n        if (this.props.clipping) {\n            return true;\n        }\n        if (this.props.color !== 0) {\n            return true;\n        }\n        // Consider removing these checks and just using the color property check above.\n        // Maybe add a forceRender prop for nodes that should always render.\n        if (this.props.colorTop !== 0) {\n            return true;\n        }\n        if (this.props.colorBottom !== 0) {\n            return true;\n        }\n        if (this.props.colorLeft !== 0) {\n            return true;\n        }\n        if (this.props.colorRight !== 0) {\n            return true;\n        }\n        if (this.props.colorTl !== 0) {\n            return true;\n        }\n        if (this.props.colorTr !== 0) {\n            return true;\n        }\n        if (this.props.colorBl !== 0) {\n            return true;\n        }\n        if (this.props.colorBr !== 0) {\n            return true;\n        }\n        return false;\n    }\n    checkRenderBounds(parentClippingRect) {\n        assertTruthy(this.renderBound);\n        const rectW = parentClippingRect.width || this.stage.root.width;\n        const rectH = parentClippingRect.height || this.stage.root.height;\n        this.strictBound = createBound(parentClippingRect.x, parentClippingRect.y, parentClippingRect.x + rectW, parentClippingRect.y + rectH, this.strictBound);\n        if (boundInsideBound(this.renderBound, this.strictBound)) {\n            return CoreNodeRenderState.InViewport;\n        }\n        const renderM = this.stage.boundsMargin;\n        this.preloadBound = createBound(this.strictBound.x1 - renderM[3], this.strictBound.y1 - renderM[0], this.strictBound.x2 + renderM[1], this.strictBound.y2 + renderM[2], this.preloadBound);\n        if (boundInsideBound(this.renderBound, this.preloadBound)) {\n            return CoreNodeRenderState.InBounds;\n        }\n        return CoreNodeRenderState.OutOfBounds;\n    }\n    updateRenderState(parentClippingRect) {\n        const renderState = this.checkRenderBounds(parentClippingRect);\n        if (renderState === this.renderState) {\n            return;\n        }\n        const previous = this.renderState;\n        this.renderState = renderState;\n        const event = CoreNodeRenderStateMap.get(renderState);\n        assertTruthy(event);\n        this.emit(event, {\n            previous,\n            current: renderState,\n        });\n    }\n    /**\n     * This function updates the `isRenderable` property based on certain conditions.\n     *\n     * @returns\n     */\n    updateIsRenderable() {\n        let newIsRenderable;\n        if (this.worldAlpha === 0 || !this.checkRenderProps()) {\n            newIsRenderable = false;\n        }\n        else {\n            newIsRenderable = this.renderState > CoreNodeRenderState.OutOfBounds;\n        }\n        if (this.isRenderable !== newIsRenderable) {\n            this.isRenderable = newIsRenderable;\n            this.onChangeIsRenderable(newIsRenderable);\n        }\n    }\n    onChangeIsRenderable(isRenderable) {\n        this.texture?.setRenderableOwner(this, isRenderable);\n    }\n    calculateRenderCoords() {\n        const { width, height, globalTransform: transform } = this;\n        assertTruthy(transform);\n        const { tx, ty, ta, tb, tc, td } = transform;\n        if (tb === 0 && tc === 0) {\n            const minX = tx;\n            const maxX = tx + width * ta;\n            const minY = ty;\n            const maxY = ty + height * td;\n            this.renderCoords = RenderCoords.translate(\n            //top-left\n            minX, minY, \n            //top-right\n            maxX, minY, \n            //bottom-right\n            maxX, maxY, \n            //bottom-left\n            minX, maxY, this.renderCoords);\n        }\n        else {\n            this.renderCoords = RenderCoords.translate(\n            //top-left\n            tx, ty, \n            //top-right\n            tx + width * ta, ty + width * tc, \n            //bottom-right\n            tx + width * ta + height * tb, ty + width * tc + height * td, \n            //bottom-left\n            tx + height * tb, ty + height * td, this.renderCoords);\n        }\n    }\n    updateBoundingRect() {\n        const { renderCoords, globalTransform: transform } = this;\n        assertTruthy(transform);\n        assertTruthy(renderCoords);\n        const { tb, tc } = transform;\n        const { x1, y1, x3, y3 } = renderCoords;\n        if (tb === 0 || tc === 0) {\n            this.renderBound = createBound(x1, y1, x3, y3, this.renderBound);\n        }\n        else {\n            const { x2, x4, y2, y4 } = renderCoords;\n            this.renderBound = createBound(Math.min(x1, x2, x3, x4), Math.min(y1, y2, y3, y4), Math.max(x1, x2, x3, x4), Math.max(y1, y2, y3, y4), this.renderBound);\n        }\n    }\n    /**\n     * This function calculates the clipping rectangle for a node.\n     *\n     * The function then checks if the node is rotated. If the node requires clipping and is not rotated, a new clipping rectangle is created based on the node's global transform and dimensions.\n     * If a parent clipping rectangle exists, it is intersected with the node's clipping rectangle (if it exists), or replaces the node's clipping rectangle.\n     *\n     * Finally, the node's parentClippingRect and clippingRect properties are updated.\n     */\n    calculateClippingRect(parentClippingRect) {\n        assertTruthy(this.globalTransform);\n        const { clippingRect, props, globalTransform: gt } = this;\n        const { clipping } = props;\n        const isRotated = gt.tb !== 0 || gt.tc !== 0;\n        if (clipping && !isRotated) {\n            clippingRect.x = gt.tx;\n            clippingRect.y = gt.ty;\n            clippingRect.width = this.width * gt.ta;\n            clippingRect.height = this.height * gt.td;\n            clippingRect.valid = true;\n        }\n        else {\n            clippingRect.valid = false;\n        }\n        if (parentClippingRect.valid && clippingRect.valid) {\n            // Intersect parent clipping rect with node clipping rect\n            intersectRect(parentClippingRect, clippingRect, clippingRect);\n        }\n        else if (parentClippingRect.valid) {\n            // Copy parent clipping rect\n            copyRect(parentClippingRect, clippingRect);\n            clippingRect.valid = true;\n        }\n    }\n    calculateZIndex() {\n        const props = this.props;\n        const z = props.zIndex || 0;\n        const p = props.parent?.zIndex || 0;\n        let zIndex = z;\n        if (props.parent?.zIndexLocked) {\n            zIndex = z < p ? z : p;\n        }\n        this.calcZIndex = zIndex;\n    }\n    /**\n     * Destroy the node and cleanup all resources\n     */\n    destroy() {\n        this.unloadTexture();\n        this.clippingRect.valid = false;\n        this.isRenderable = false;\n        delete this.renderCoords;\n        delete this.renderBound;\n        delete this.strictBound;\n        delete this.preloadBound;\n        delete this.globalTransform;\n        delete this.scaleRotateTransform;\n        delete this.localTransform;\n        this.props.texture = null;\n        this.props.shader = this.stage.defShaderCtr;\n        const children = [...this.children];\n        for (let i = 0; i < children.length; i++) {\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            children[i].destroy();\n        }\n        // This very action will also remove the node from the parent's children array\n        this.parent = null;\n        if (this.rtt) {\n            this.stage.renderer.removeRTTNode(this);\n        }\n        this.removeAllListeners();\n    }\n    renderQuads(renderer) {\n        const { texture, width, height, textureOptions, rtt, shader } = this.props;\n        // Prevent quad rendering if parent has a render texture\n        // and renderer is not currently rendering to a texture\n        if (this.parentHasRenderTexture) {\n            if (!renderer.renderToTextureActive) {\n                return;\n            }\n            // Prevent quad rendering if parent render texture is not the active render texture\n            if (this.parentRenderTexture !== renderer.activeRttNode) {\n                return;\n            }\n        }\n        const { premultipliedColorTl, premultipliedColorTr, premultipliedColorBl, premultipliedColorBr, } = this;\n        const { zIndex, worldAlpha, globalTransform: gt, clippingRect, renderCoords, } = this;\n        assertTruthy(gt);\n        assertTruthy(renderCoords);\n        // add to list of renderables to be sorted before rendering\n        renderer.addQuad({\n            width,\n            height,\n            colorTl: premultipliedColorTl,\n            colorTr: premultipliedColorTr,\n            colorBl: premultipliedColorBl,\n            colorBr: premultipliedColorBr,\n            texture,\n            textureOptions,\n            zIndex,\n            shader: shader.shader,\n            shaderProps: shader.getResolvedProps(),\n            alpha: worldAlpha,\n            clippingRect,\n            tx: gt.tx,\n            ty: gt.ty,\n            ta: gt.ta,\n            tb: gt.tb,\n            tc: gt.tc,\n            td: gt.td,\n            renderCoords,\n            rtt,\n            parentHasRenderTexture: this.parentHasRenderTexture,\n            framebufferDimensions: this.framebufferDimensions,\n        });\n    }\n    //#region Properties\n    get id() {\n        return this._id;\n    }\n    get data() {\n        return this.props.data;\n    }\n    set data(d) {\n        this.props.data = d;\n    }\n    get x() {\n        return this.props.x;\n    }\n    set x(value) {\n        if (this.props.x !== value) {\n            this.props.x = value;\n            this.setUpdateType(UpdateType.Local);\n        }\n    }\n    get absX() {\n        return (this.props.x +\n            -this.props.width * this.props.mountX +\n            (this.props.parent?.absX || this.props.parent?.globalTransform?.tx || 0));\n    }\n    get absY() {\n        return (this.props.y +\n            -this.props.height * this.props.mountY +\n            (this.props.parent?.absY ?? 0));\n    }\n    get y() {\n        return this.props.y;\n    }\n    set y(value) {\n        if (this.props.y !== value) {\n            this.props.y = value;\n            this.setUpdateType(UpdateType.Local);\n        }\n    }\n    get width() {\n        return this.props.width;\n    }\n    set width(value) {\n        if (this.props.width !== value) {\n            this.props.width = value;\n            this.setUpdateType(UpdateType.Local);\n            if (this.props.rtt) {\n                this.texture = this.stage.txManager.loadTexture('RenderTexture', {\n                    width: this.width,\n                    height: this.height,\n                });\n                this.textureOptions.preload = true;\n                this.setUpdateType(UpdateType.RenderTexture);\n            }\n        }\n    }\n    get height() {\n        return this.props.height;\n    }\n    set height(value) {\n        if (this.props.height !== value) {\n            this.props.height = value;\n            this.setUpdateType(UpdateType.Local);\n            if (this.props.rtt) {\n                this.texture = this.stage.txManager.loadTexture('RenderTexture', {\n                    width: this.width,\n                    height: this.height,\n                });\n                this.textureOptions.preload = true;\n                this.setUpdateType(UpdateType.RenderTexture);\n            }\n        }\n    }\n    get scale() {\n        // The CoreNode `scale` property is only used by Animations.\n        // Unlike INode, `null` should never be possibility for Animations.\n        return this.scaleX;\n    }\n    set scale(value) {\n        // The CoreNode `scale` property is only used by Animations.\n        // Unlike INode, `null` should never be possibility for Animations.\n        this.scaleX = value;\n        this.scaleY = value;\n    }\n    get scaleX() {\n        return this.props.scaleX;\n    }\n    set scaleX(value) {\n        if (this.props.scaleX !== value) {\n            this.props.scaleX = value;\n            this.setUpdateType(UpdateType.ScaleRotate);\n        }\n    }\n    get scaleY() {\n        return this.props.scaleY;\n    }\n    set scaleY(value) {\n        if (this.props.scaleY !== value) {\n            this.props.scaleY = value;\n            this.setUpdateType(UpdateType.ScaleRotate);\n        }\n    }\n    get mount() {\n        return this.props.mount;\n    }\n    set mount(value) {\n        if (this.props.mountX !== value || this.props.mountY !== value) {\n            this.props.mountX = value;\n            this.props.mountY = value;\n            this.props.mount = value;\n            this.setUpdateType(UpdateType.Local);\n        }\n    }\n    get mountX() {\n        return this.props.mountX;\n    }\n    set mountX(value) {\n        if (this.props.mountX !== value) {\n            this.props.mountX = value;\n            this.setUpdateType(UpdateType.Local);\n        }\n    }\n    get mountY() {\n        return this.props.mountY;\n    }\n    set mountY(value) {\n        if (this.props.mountY !== value) {\n            this.props.mountY = value;\n            this.setUpdateType(UpdateType.Local);\n        }\n    }\n    get pivot() {\n        return this.props.pivot;\n    }\n    set pivot(value) {\n        if (this.props.pivotX !== value || this.props.pivotY !== value) {\n            this.props.pivotX = value;\n            this.props.pivotY = value;\n            this.props.pivot = value;\n            this.setUpdateType(UpdateType.Local);\n        }\n    }\n    get pivotX() {\n        return this.props.pivotX;\n    }\n    set pivotX(value) {\n        if (this.props.pivotX !== value) {\n            this.props.pivotX = value;\n            this.setUpdateType(UpdateType.Local);\n        }\n    }\n    get pivotY() {\n        return this.props.pivotY;\n    }\n    set pivotY(value) {\n        if (this.props.pivotY !== value) {\n            this.props.pivotY = value;\n            this.setUpdateType(UpdateType.Local);\n        }\n    }\n    get rotation() {\n        return this.props.rotation;\n    }\n    set rotation(value) {\n        if (this.props.rotation !== value) {\n            this.props.rotation = value;\n            this.setUpdateType(UpdateType.ScaleRotate);\n        }\n    }\n    get alpha() {\n        return this.props.alpha;\n    }\n    set alpha(value) {\n        this.props.alpha = value;\n        this.setUpdateType(UpdateType.PremultipliedColors | UpdateType.WorldAlpha);\n    }\n    get autosize() {\n        return this.props.autosize;\n    }\n    set autosize(value) {\n        this.props.autosize = value;\n    }\n    get clipping() {\n        return this.props.clipping;\n    }\n    set clipping(value) {\n        this.props.clipping = value;\n        this.setUpdateType(UpdateType.Clipping);\n    }\n    get color() {\n        return this.props.color;\n    }\n    set color(value) {\n        this.colorTop = value;\n        this.colorBottom = value;\n        this.colorLeft = value;\n        this.colorRight = value;\n        this.props.color = value;\n        this.setUpdateType(UpdateType.PremultipliedColors);\n    }\n    get colorTop() {\n        return this.props.colorTop;\n    }\n    set colorTop(value) {\n        if (this.props.colorTl !== value || this.props.colorTr !== value) {\n            this.colorTl = value;\n            this.colorTr = value;\n        }\n        this.props.colorTop = value;\n        this.setUpdateType(UpdateType.PremultipliedColors);\n    }\n    get colorBottom() {\n        return this.props.colorBottom;\n    }\n    set colorBottom(value) {\n        if (this.props.colorBl !== value || this.props.colorBr !== value) {\n            this.colorBl = value;\n            this.colorBr = value;\n        }\n        this.props.colorBottom = value;\n        this.setUpdateType(UpdateType.PremultipliedColors);\n    }\n    get colorLeft() {\n        return this.props.colorLeft;\n    }\n    set colorLeft(value) {\n        if (this.props.colorTl !== value || this.props.colorBl !== value) {\n            this.colorTl = value;\n            this.colorBl = value;\n        }\n        this.props.colorLeft = value;\n        this.setUpdateType(UpdateType.PremultipliedColors);\n    }\n    get colorRight() {\n        return this.props.colorRight;\n    }\n    set colorRight(value) {\n        if (this.props.colorTr !== value || this.props.colorBr !== value) {\n            this.colorTr = value;\n            this.colorBr = value;\n        }\n        this.props.colorRight = value;\n        this.setUpdateType(UpdateType.PremultipliedColors);\n    }\n    get colorTl() {\n        return this.props.colorTl;\n    }\n    set colorTl(value) {\n        this.props.colorTl = value;\n        this.setUpdateType(UpdateType.PremultipliedColors);\n    }\n    get colorTr() {\n        return this.props.colorTr;\n    }\n    set colorTr(value) {\n        this.props.colorTr = value;\n        this.setUpdateType(UpdateType.PremultipliedColors);\n    }\n    get colorBl() {\n        return this.props.colorBl;\n    }\n    set colorBl(value) {\n        this.props.colorBl = value;\n        this.setUpdateType(UpdateType.PremultipliedColors);\n    }\n    get colorBr() {\n        return this.props.colorBr;\n    }\n    set colorBr(value) {\n        this.props.colorBr = value;\n        this.setUpdateType(UpdateType.PremultipliedColors);\n    }\n    // we're only interested in parent zIndex to test\n    // if we should use node zIndex is higher then parent zIndex\n    get zIndexLocked() {\n        return this.props.zIndexLocked || 0;\n    }\n    set zIndexLocked(value) {\n        this.props.zIndexLocked = value;\n        this.setUpdateType(UpdateType.CalculatedZIndex | UpdateType.Children);\n        this.children.forEach((child) => {\n            child.setUpdateType(UpdateType.CalculatedZIndex);\n        });\n    }\n    get zIndex() {\n        return this.props.zIndex;\n    }\n    set zIndex(value) {\n        this.props.zIndex = value;\n        this.setUpdateType(UpdateType.CalculatedZIndex | UpdateType.Children);\n        this.children.forEach((child) => {\n            child.setUpdateType(UpdateType.CalculatedZIndex);\n        });\n    }\n    get parent() {\n        return this.props.parent;\n    }\n    set parent(newParent) {\n        const oldParent = this.props.parent;\n        if (oldParent === newParent) {\n            return;\n        }\n        this.props.parent = newParent;\n        if (oldParent) {\n            const index = oldParent.children.indexOf(this);\n            assertTruthy(index !== -1, \"CoreNode.parent: Node not found in old parent's children!\");\n            oldParent.children.splice(index, 1);\n            oldParent.setUpdateType(UpdateType.Children | UpdateType.ZIndexSortedChildren);\n        }\n        if (newParent) {\n            newParent.children.push(this);\n            // Since this node has a new parent, to be safe, have it do a full update.\n            this.setUpdateType(UpdateType.All);\n            // Tell parent that it's children need to be updated and sorted.\n            newParent.setUpdateType(UpdateType.Children | UpdateType.ZIndexSortedChildren);\n            if (newParent.rtt || newParent.parentHasRenderTexture) {\n                this.setRTTUpdates(UpdateType.All);\n            }\n        }\n        this.updateScaleRotateTransform();\n    }\n    get preventCleanup() {\n        return this.props.preventCleanup;\n    }\n    set preventCleanup(value) {\n        this.props.preventCleanup = value;\n    }\n    get rtt() {\n        return this.props.rtt;\n    }\n    set rtt(value) {\n        if (this.props.rtt === true) {\n            this.props.rtt = value;\n            // unload texture if we used to have a render texture\n            if (value === false && this.texture !== null) {\n                this.unloadTexture();\n                this.setUpdateType(UpdateType.All);\n                this.children.forEach((child) => {\n                    child.parentHasRenderTexture = false;\n                });\n                this.stage.renderer?.removeRTTNode(this);\n                return;\n            }\n        }\n        // if the new value is false and we didnt have rtt previously, we don't need to do anything\n        if (value === false) {\n            return;\n        }\n        // load texture\n        this.texture = this.stage.txManager.loadTexture('RenderTexture', {\n            width: this.width,\n            height: this.height,\n        });\n        this.textureOptions.preload = true;\n        this.props.rtt = true;\n        this.hasRTTupdates = true;\n        this.setUpdateType(UpdateType.All);\n        this.children.forEach((child) => {\n            child.setUpdateType(UpdateType.All);\n        });\n        // Store RTT nodes in a separate list\n        this.stage.renderer?.renderToTexture(this);\n    }\n    get shader() {\n        return this.props.shader;\n    }\n    set shader(value) {\n        if (this.props.shader === value) {\n            return;\n        }\n        this.props.shader = value;\n        this.setUpdateType(UpdateType.IsRenderable);\n    }\n    get src() {\n        return this.props.src;\n    }\n    set src(imageUrl) {\n        if (this.props.src === imageUrl) {\n            return;\n        }\n        this.props.src = imageUrl;\n        if (!imageUrl) {\n            this.texture = null;\n            return;\n        }\n        this.texture = this.stage.txManager.loadTexture('ImageTexture', {\n            src: imageUrl,\n            width: this.props.width,\n            height: this.props.height,\n            type: this.props.imageType,\n            sx: this.props.srcX,\n            sy: this.props.srcY,\n            sw: this.props.srcWidth,\n            sh: this.props.srcHeight,\n        });\n    }\n    set imageType(type) {\n        if (this.props.imageType === type) {\n            return;\n        }\n        this.props.imageType = type;\n    }\n    get imageType() {\n        return this.props.imageType || null;\n    }\n    get srcHeight() {\n        return this.props.srcHeight;\n    }\n    set srcHeight(value) {\n        this.props.srcHeight = value;\n    }\n    get srcWidth() {\n        return this.props.srcWidth;\n    }\n    set srcWidth(value) {\n        this.props.srcWidth = value;\n    }\n    get srcX() {\n        return this.props.srcX;\n    }\n    set srcX(value) {\n        this.props.srcX = value;\n    }\n    get srcY() {\n        return this.props.srcY;\n    }\n    set srcY(value) {\n        this.props.srcY = value;\n    }\n    /**\n     * Returns the framebuffer dimensions of the node.\n     * If the node has a render texture, the dimensions are the same as the node's dimensions.\n     * If the node does not have a render texture, the dimensions are inherited from the parent.\n     * If the node parent has a render texture and the node is a render texture, the nodes dimensions are used.\n     */\n    get framebufferDimensions() {\n        if (this.parentHasRenderTexture && !this.rtt && this.parent) {\n            return this.parent.framebufferDimensions;\n        }\n        return { width: this.width, height: this.height };\n    }\n    /**\n     * Returns the parent render texture node if it exists.\n     */\n    get parentRenderTexture() {\n        let parent = this.parent;\n        while (parent) {\n            if (parent.rtt) {\n                return parent;\n            }\n            parent = parent.parent;\n        }\n        return null;\n    }\n    get texture() {\n        return this.props.texture;\n    }\n    set texture(value) {\n        if (this.props.texture === value) {\n            return;\n        }\n        const oldTexture = this.props.texture;\n        if (oldTexture) {\n            oldTexture.setRenderableOwner(this, false);\n            this.unloadTexture();\n        }\n        this.props.texture = value;\n        if (value) {\n            value.setRenderableOwner(this, this.isRenderable);\n            this.loadTexture();\n        }\n        this.setUpdateType(UpdateType.IsRenderable);\n    }\n    set textureOptions(value) {\n        this.props.textureOptions = value;\n    }\n    get textureOptions() {\n        return this.props.textureOptions;\n    }\n    setRTTUpdates(type) {\n        this.hasRTTupdates = true;\n        this.parent?.setRTTUpdates(type);\n    }\n    animate(props, settings) {\n        const animation = new CoreAnimation(this, props, settings);\n        // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment, @typescript-eslint/no-unsafe-call\n        const controller = new CoreAnimationController(this.stage.animationManager, animation);\n        // eslint-disable-next-line @typescript-eslint/no-unsafe-return\n        return controller;\n    }\n    flush() {\n        // no-op\n    }\n}\n//# sourceMappingURL=CoreNode.js.map","/*\n * If not stated otherwise in this file or this component's LICENSE file the\n * following copyright and licenses apply:\n *\n * Copyright 2023 Comcast Cable Communications Management, LLC.\n *\n * Licensed under the Apache License, Version 2.0 (the License);\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * Platform render loop initiator\n */\nexport const startLoop = (stage) => {\n    let isIdle = false;\n    const runLoop = () => {\n        stage.updateFrameTime();\n        stage.updateAnimations();\n        if (!stage.hasSceneUpdates()) {\n            // We still need to calculate the fps else it looks like the app is frozen\n            stage.calculateFps();\n            setTimeout(runLoop, 16.666666666666668);\n            if (!isIdle) {\n                if (stage.txMemManager.checkCleanup()) {\n                    stage.txMemManager.cleanup();\n                }\n                stage.eventBus.emit('idle');\n                isIdle = true;\n            }\n            stage.flushFrameEvents();\n            return;\n        }\n        isIdle = false;\n        stage.drawFrame();\n        stage.flushFrameEvents();\n        requestAnimationFrame(runLoop);\n    };\n    requestAnimationFrame(runLoop);\n};\n/**\n * Return unix timestamp\n * @return {number}\n */\nexport const getTimeStamp = () => {\n    return performance ? performance.now() : Date.now();\n};\n//# sourceMappingURL=platform.js.map","/*\n * If not stated otherwise in this file or this component's LICENSE file the\n * following copyright and licenses apply:\n *\n * Copyright 2023 Comcast Cable Communications Management, LLC.\n *\n * Licensed under the Apache License, Version 2.0 (the License);\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { CoreAnimation } from './CoreAnimation.js';\nexport class AnimationManager {\n    activeAnimations = new Set();\n    registerAnimation(animation) {\n        this.activeAnimations.add(animation);\n    }\n    unregisterAnimation(animation) {\n        this.activeAnimations.delete(animation);\n    }\n    update(dt) {\n        this.activeAnimations.forEach((animation) => {\n            animation.update(dt);\n        });\n    }\n}\n//# sourceMappingURL=AnimationManager.js.map","/*\n * If not stated otherwise in this file or this component's LICENSE file the\n * following copyright and licenses apply:\n *\n * Copyright 2023 Comcast Cable Communications Management, LLC.\n *\n * Licensed under the Apache License, Version 2.0 (the License);\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { EventEmitter } from '../../common/EventEmitter.js';\n/**\n * Represents a source of texture data for a CoreContextTexture.\n *\n * @remarks\n * Texture sources are used to populate a CoreContextTexture when that texture\n * is loaded. Texture data retrieved by the CoreContextTexture by the\n * `getTextureData` method. It's the responsibility of the concerete `Texture`\n * subclass to implement this method appropriately.\n */\nexport class Texture extends EventEmitter {\n    txManager;\n    /**\n     * The dimensions of the texture\n     *\n     * @remarks\n     * Until the texture data is loaded for the first time the value will be\n     * `null`.\n     */\n    dimensions = null;\n    error = null;\n    state = 'freed';\n    renderableOwners = new Set();\n    renderable = false;\n    lastRenderableChangeTime = 0;\n    preventCleanup = false;\n    constructor(txManager) {\n        super();\n        this.txManager = txManager;\n    }\n    /**\n     * Add/remove an owner to/from the Texture based on its renderability.\n     *\n     * @remarks\n     * Any object can own a texture, be it a CoreNode or even the state object\n     * from a Text Renderer.\n     *\n     * When the reference to the texture that an owner object holds is replaced\n     * or cleared it must call this with `renderable=false` to release the owner\n     * association.\n     *\n     * @param owner\n     * @param renderable\n     */\n    setRenderableOwner(owner, renderable) {\n        const oldSize = this.renderableOwners.size;\n        if (renderable) {\n            this.renderableOwners.add(owner);\n            const newSize = this.renderableOwners.size;\n            if (newSize > oldSize && newSize === 1) {\n                // eslint-disable-next-line @typescript-eslint/no-unnecessary-type-assertion\n                this.renderable = true;\n                this.lastRenderableChangeTime = this.txManager.frameTime;\n                this.onChangeIsRenderable?.(true);\n            }\n        }\n        else {\n            this.renderableOwners.delete(owner);\n            const newSize = this.renderableOwners.size;\n            if (newSize < oldSize && newSize === 0) {\n                // eslint-disable-next-line @typescript-eslint/no-unnecessary-type-assertion\n                this.renderable = false;\n                this.lastRenderableChangeTime = this.txManager.frameTime;\n                this.onChangeIsRenderable?.(false);\n            }\n        }\n    }\n    /**\n     * Get the CoreContextTexture for this Texture\n     *\n     * @remarks\n     * Each Texture has a corresponding CoreContextTexture that is used to\n     * manage the texture's native data depending on the renderer's mode\n     * (WebGL, Canvas, etc).\n     *\n     * The Texture and CoreContextTexture are always linked together in a 1:1\n     * relationship.\n     */\n    get ctxTexture() {\n        // The first time this is called, create the ctxTexture\n        const ctxTexture = this.txManager.renderer.createCtxTexture(this);\n        // And replace this getter with the value for future calls\n        Object.defineProperty(this, 'ctxTexture', { value: ctxTexture });\n        return ctxTexture;\n    }\n    /**\n     * Set the state of the texture\n     *\n     * @remark\n     * Intended for internal-use only but declared public so that it can be set\n     * by it's associated {@link CoreContextTexture}\n     *\n     * @param state\n     * @param args\n     */\n    setState(state, ...args) {\n        if (this.state !== state) {\n            // eslint-disable-next-line @typescript-eslint/no-unnecessary-type-assertion\n            this.state = state;\n            if (state === 'loaded') {\n                const loadedArgs = args;\n                this.dimensions = loadedArgs[0];\n            }\n            else if (state === 'failed') {\n                const failedArgs = args;\n                this.error = failedArgs[0];\n            }\n            this.emit(state, ...args);\n        }\n    }\n    /**\n     * Make a cache key for this texture.\n     *\n     * @remarks\n     * Each concrete `Texture` subclass must implement this method to provide an\n     * appropriate cache key for the texture type including the texture's\n     * properties that uniquely identify a copy of the texture. If the texture\n     * type does not support caching, then this method should return `false`.\n     *\n     * @param props\n     * @returns\n     * A cache key for this texture or `false` if the texture type does not\n     * support caching.\n     */\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    static makeCacheKey(props) {\n        return false;\n    }\n    /**\n     * Resolve the default values for the texture's properties.\n     *\n     * @remarks\n     * Each concrete `Texture` subclass must implement this method to provide\n     * default values for the texture's optional properties.\n     *\n     * @param props\n     * @returns\n     * The default values for the texture's properties.\n     */\n    static resolveDefaults(\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    props) {\n        return {};\n    }\n}\n//# sourceMappingURL=Texture.js.map","/*\n * If not stated otherwise in this file or this component's LICENSE file the\n * following copyright and licenses apply:\n *\n * Copyright 2023 Comcast Cable Communications Management, LLC.\n *\n * Licensed under the Apache License, Version 2.0 (the License);\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport {} from '../textures/Texture.js';\n/**\n * Note that, within the createImageWorker function, we must only use ES5 code to keep it ES5-valid after babelifying, as\n *  the converted code of this section is converted to a blob and used as the js of the web worker thread.\n *\n * The createImageWorker function is a web worker that fetches an image from a URL and returns an ImageBitmap object.\n * The eslint @typescript rule is disabled for the entire function because the function is converted to a blob and used as the\n * js of the web worker thread, so the typescript syntax is not valid in this context.\n */\n/* eslint-disable */\nfunction createImageWorker() {\n    function hasAlphaChannel(mimeType) {\n        return mimeType.indexOf('image/png') !== -1;\n    }\n    function getImage(src, premultiplyAlpha, x, y, width, height) {\n        return new Promise(function (resolve, reject) {\n            var xhr = new XMLHttpRequest();\n            xhr.open('GET', src, true);\n            xhr.responseType = 'blob';\n            xhr.onload = function () {\n                if (xhr.status !== 200) {\n                    return reject(new Error('Failed to load image: ' + xhr.statusText));\n                }\n                var blob = xhr.response;\n                var withAlphaChannel = premultiplyAlpha !== undefined\n                    ? premultiplyAlpha\n                    : hasAlphaChannel(blob.type);\n                if (width !== null && height !== null) {\n                    createImageBitmap(blob, x || 0, y || 0, width, height, {\n                        premultiplyAlpha: withAlphaChannel ? 'premultiply' : 'none',\n                        colorSpaceConversion: 'none',\n                        imageOrientation: 'none',\n                    })\n                        .then(function (data) {\n                        resolve({ data, premultiplyAlpha: premultiplyAlpha });\n                    })\n                        .catch(function (error) {\n                        reject(error);\n                    });\n                    return;\n                }\n                createImageBitmap(blob, {\n                    premultiplyAlpha: withAlphaChannel ? 'premultiply' : 'none',\n                    colorSpaceConversion: 'none',\n                    imageOrientation: 'none',\n                })\n                    .then(function (data) {\n                    resolve({ data, premultiplyAlpha: premultiplyAlpha });\n                })\n                    .catch(function (error) {\n                    reject(error);\n                });\n            };\n            xhr.onerror = function () {\n                reject(new Error('Network error occurred while trying to fetch the image.'));\n            };\n            xhr.send();\n        });\n    }\n    self.onmessage = (event) => {\n        var src = event.data.src;\n        var id = event.data.id;\n        var premultiplyAlpha = event.data.premultiplyAlpha;\n        var x = event.data.sx;\n        var y = event.data.sy;\n        var width = event.data.sw;\n        var height = event.data.sh;\n        getImage(src, premultiplyAlpha, x, y, width, height)\n            .then(function (data) {\n            self.postMessage({ id: id, src: src, data: data });\n        })\n            .catch(function (error) {\n            self.postMessage({ id: id, src: src, error: error.message });\n        });\n    };\n}\n/* eslint-enable */\nexport class ImageWorkerManager {\n    imageWorkersEnabled = true;\n    messageManager = {};\n    workers = [];\n    workerIndex = 0;\n    nextId = 0;\n    constructor(numImageWorkers) {\n        this.workers = this.createWorkers(numImageWorkers);\n        this.workers.forEach((worker) => {\n            worker.onmessage = this.handleMessage.bind(this);\n        });\n    }\n    handleMessage(event) {\n        const { id, data, error } = event.data;\n        const msg = this.messageManager[id];\n        if (msg) {\n            const [resolve, reject] = msg;\n            delete this.messageManager[id];\n            if (error) {\n                reject(new Error(error));\n            }\n            else {\n                resolve(data);\n            }\n        }\n    }\n    createWorkers(numWorkers = 1) {\n        const workerCode = `(${createImageWorker.toString()})()`;\n        const blob = new Blob([workerCode.replace('\"use strict\";', '')], {\n            type: 'application/javascript',\n        });\n        const blobURL = (self.URL ? URL : webkitURL).createObjectURL(blob);\n        const workers = [];\n        for (let i = 0; i < numWorkers; i++) {\n            workers.push(new Worker(blobURL));\n        }\n        return workers;\n    }\n    getNextWorker() {\n        const worker = this.workers[this.workerIndex];\n        this.workerIndex = (this.workerIndex + 1) % this.workers.length;\n        return worker;\n    }\n    getImage(src, premultiplyAlpha, sx, sy, sw, sh) {\n        return new Promise((resolve, reject) => {\n            try {\n                if (this.workers) {\n                    const id = this.nextId++;\n                    this.messageManager[id] = [resolve, reject];\n                    const nextWorker = this.getNextWorker();\n                    if (nextWorker) {\n                        nextWorker.postMessage({\n                            id,\n                            src: src,\n                            premultiplyAlpha,\n                            sx,\n                            sy,\n                            sw,\n                            sh,\n                        });\n                    }\n                }\n            }\n            catch (error) {\n                reject(error);\n            }\n        });\n    }\n}\n//# sourceMappingURL=ImageWorker.js.map","/*\n * If not stated otherwise in this file or this component's LICENSE file the\n * following copyright and licenses apply:\n *\n * Copyright 2023 Comcast Cable Communications Management, LLC.\n *\n * Licensed under the Apache License, Version 2.0 (the License);\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { Texture } from './Texture.js';\n/**\n * Texture consisting of only a 1x1 color pixel\n *\n * @remarks\n * The pixel color is set with the {@link ColorTextureProps.color} prop.\n *\n * This is the default texture used for a Node if it's\n * {@link INodeProps.texture} prop is set to `null` (the default)\n *\n * Generally the 1x1 color pixel is stretched to whatever the set dimensions of\n * a Node are.\n */\nexport class ColorTexture extends Texture {\n    props;\n    constructor(txManager, props) {\n        super(txManager);\n        this.props = ColorTexture.resolveDefaults(props || {});\n    }\n    get color() {\n        return this.props.color;\n    }\n    set color(color) {\n        this.props.color = color;\n    }\n    async getTextureData() {\n        const pixelData32 = new Uint32Array([this.color]);\n        const pixelData8 = new Uint8ClampedArray(pixelData32.buffer);\n        return {\n            data: new ImageData(pixelData8, 1, 1),\n            premultiplyAlpha: true,\n        };\n    }\n    static makeCacheKey(props) {\n        const resolvedProps = ColorTexture.resolveDefaults(props);\n        return `ColorTexture,${resolvedProps.color}`;\n    }\n    static resolveDefaults(props) {\n        return {\n            color: props.color || 0xffffffff,\n        };\n    }\n    static z$__type__Props;\n}\n//# sourceMappingURL=ColorTexture.js.map","/*\n * If not stated otherwise in this file or this component's LICENSE file the\n * following copyright and licenses apply:\n *\n * Copyright 2023 Comcast Cable Communications Management, LLC.\n *\n * Licensed under the Apache License, Version 2.0 (the License);\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport {} from '../textures/Texture.js';\n/**\n * Tests if the given location is a compressed texture container\n * @param url\n * @remarks\n * This function is used to determine if the given image url is a compressed\n * and only supports the following extensions: .ktx and .pvr\n * @returns\n */\nexport function isCompressedTextureContainer(url) {\n    return /\\.(ktx|pvr)$/.test(url);\n}\n/**\n * Loads a compressed texture container\n * @param url\n * @returns\n */\nexport const loadCompressedTexture = async (url) => {\n    const response = await fetch(url);\n    const arrayBuffer = await response.arrayBuffer();\n    if (url.indexOf('.ktx') !== -1) {\n        return loadKTXData(arrayBuffer);\n    }\n    return loadPVRData(arrayBuffer);\n};\n/**\n * Loads a KTX texture container and returns the texture data\n * @param buffer\n * @returns\n */\nconst loadKTXData = async (buffer) => {\n    const view = new DataView(buffer);\n    const littleEndian = view.getUint32(12) === 16909060 ? true : false;\n    const mipmaps = [];\n    const data = {\n        glInternalFormat: view.getUint32(28, littleEndian),\n        pixelWidth: view.getUint32(36, littleEndian),\n        pixelHeight: view.getUint32(40, littleEndian),\n        numberOfMipmapLevels: view.getUint32(56, littleEndian),\n        bytesOfKeyValueData: view.getUint32(60, littleEndian),\n    };\n    let offset = 64;\n    // Key Value Pairs of data start at byte offset 64\n    // But the only known kvp is the API version, so skipping parsing.\n    offset += data.bytesOfKeyValueData;\n    for (let i = 0; i < data.numberOfMipmapLevels; i++) {\n        const imageSize = view.getUint32(offset);\n        offset += 4;\n        mipmaps.push(view.buffer.slice(offset, imageSize));\n        offset += imageSize;\n    }\n    return {\n        data: {\n            glInternalFormat: data.glInternalFormat,\n            mipmaps,\n            width: data.pixelWidth || 0,\n            height: data.pixelHeight || 0,\n            type: 'ktx',\n        },\n        premultiplyAlpha: false,\n    };\n};\n/**\n * Loads a PVR texture container and returns the texture data\n * @param buffer\n * @returns\n */\nconst loadPVRData = async (buffer) => {\n    // pvr header length in 32 bits\n    const pvrHeaderLength = 13;\n    // for now only we only support: COMPRESSED_RGB_ETC1_WEBGL\n    const pvrFormatEtc1 = 0x8d64;\n    const pvrWidth = 7;\n    const pvrHeight = 6;\n    const pvrMipmapCount = 11;\n    const pvrMetadata = 12;\n    const arrayBuffer = buffer;\n    const header = new Int32Array(arrayBuffer, 0, pvrHeaderLength);\n    // @ts-expect-error Object possibly undefined\n    // eslint-disable-next-line @typescript-eslint/restrict-plus-operands\n    const dataOffset = header[pvrMetadata] + 52;\n    const pvrtcData = new Uint8Array(arrayBuffer, dataOffset);\n    const mipmaps = [];\n    const data = {\n        pixelWidth: header[pvrWidth],\n        pixelHeight: header[pvrHeight],\n        numberOfMipmapLevels: header[pvrMipmapCount] || 0,\n    };\n    let offset = 0;\n    let width = data.pixelWidth || 0;\n    let height = data.pixelHeight || 0;\n    for (let i = 0; i < data.numberOfMipmapLevels; i++) {\n        const level = ((width + 3) >> 2) * ((height + 3) >> 2) * 8;\n        const view = new Uint8Array(arrayBuffer, pvrtcData.byteOffset + offset, level);\n        mipmaps.push(view);\n        offset += level;\n        width = width >> 1;\n        height = height >> 1;\n    }\n    return {\n        data: {\n            glInternalFormat: pvrFormatEtc1,\n            mipmaps: mipmaps,\n            width: data.pixelWidth || 0,\n            height: data.pixelHeight || 0,\n            type: 'pvr',\n        },\n        premultiplyAlpha: false,\n    };\n};\n//# sourceMappingURL=textureCompression.js.map","/*\n * If not stated otherwise in this file or this component's LICENSE file the\n * following copyright and licenses apply:\n *\n * Copyright 2023 Comcast Cable Communications Management, LLC.\n *\n * Licensed under the Apache License, Version 2.0 (the License);\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { assertTruthy } from '../../utils.js';\nimport {} from '../textures/Texture.js';\n/**\n * Tests if the given location is a SVG\n * @param url\n * @remarks\n * This function is used to determine if the given image url is a SVG\n * image\n * @returns\n */\nexport function isSvgImage(url) {\n    return /\\.(svg)$/.test(url);\n}\n/**\n * Loads a SVG image\n * @param url\n * @returns\n */\nexport const loadSvg = (url, width, height, sx, sy, sw, sh) => {\n    return new Promise((resolve, reject) => {\n        const canvas = document.createElement('canvas');\n        const ctx = canvas.getContext('2d');\n        assertTruthy(ctx);\n        ctx.imageSmoothingEnabled = true;\n        const img = new Image();\n        img.onload = () => {\n            const x = sx ?? 0;\n            const y = sy ?? 0;\n            const w = width || img.width;\n            const h = height || img.height;\n            canvas.width = w;\n            canvas.height = h;\n            ctx.drawImage(img, 0, 0, w, h);\n            resolve({\n                data: ctx.getImageData(x, y, sw ?? w, sh ?? h),\n                premultiplyAlpha: false,\n            });\n        };\n        img.onerror = (err) => {\n            reject(err);\n        };\n        img.src = url;\n    });\n};\n//# sourceMappingURL=textureSvg.js.map","/*\n * If not stated otherwise in this file or this component's LICENSE file the\n * following copyright and licenses apply:\n *\n * Copyright 2023 Comcast Cable Communications Management, LLC.\n *\n * Licensed under the Apache License, Version 2.0 (the License);\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { Texture } from './Texture.js';\nimport { isCompressedTextureContainer, loadCompressedTexture, } from '../lib/textureCompression.js';\nimport { convertUrlToAbsolute } from '../lib/utils.js';\nimport { isSvgImage, loadSvg } from '../lib/textureSvg.js';\n/**\n * Texture consisting of an image loaded from a URL\n *\n * @remarks\n * The ImageTexture's {@link ImageTextureProps.src} prop defines the image URL\n * to be downloaded.\n *\n * By default, the texture's alpha values will be premultiplied into its color\n * values which is generally the desired setting before they are sent to the\n * texture's associated {@link Shader}. However, in special cases you may want\n * the Shader to receive straight (non-premultiplied) values. In that case you\n * can disable the default behavior by setting the\n * {@link ImageTextureProps.premultiplyAlpha} prop to `false`.\n */\nexport class ImageTexture extends Texture {\n    props;\n    constructor(txManager, props) {\n        super(txManager);\n        this.props = ImageTexture.resolveDefaults(props);\n    }\n    hasAlphaChannel(mimeType) {\n        return mimeType.indexOf('image/png') !== -1;\n    }\n    async loadImage(src) {\n        const { premultiplyAlpha, sx, sy, sw, sh, width, height } = this.props;\n        if (this.txManager.imageWorkerManager !== null) {\n            return await this.txManager.imageWorkerManager.getImage(src, premultiplyAlpha, sx, sy, sw, sh);\n        }\n        else if (this.txManager.hasCreateImageBitmap === true) {\n            const response = await fetch(src);\n            const blob = await response.blob();\n            const hasAlphaChannel = premultiplyAlpha ?? this.hasAlphaChannel(blob.type);\n            if (sw !== null && sh !== null) {\n                return {\n                    data: await createImageBitmap(blob, sx ?? 0, sy ?? 0, sw, sh, {\n                        premultiplyAlpha: hasAlphaChannel ? 'premultiply' : 'none',\n                        colorSpaceConversion: 'none',\n                        imageOrientation: 'none',\n                    }),\n                    premultiplyAlpha: hasAlphaChannel,\n                };\n            }\n            return {\n                data: await createImageBitmap(blob, {\n                    premultiplyAlpha: hasAlphaChannel ? 'premultiply' : 'none',\n                    colorSpaceConversion: 'none',\n                    imageOrientation: 'none',\n                }),\n                premultiplyAlpha: hasAlphaChannel,\n            };\n        }\n        else {\n            const img = new Image(width || undefined, height || undefined);\n            if (!(src.substr(0, 5) === 'data:')) {\n                img.crossOrigin = 'Anonymous';\n            }\n            img.src = src;\n            await new Promise((resolve, reject) => {\n                img.onload = () => resolve();\n                img.onerror = () => reject(new Error(`Failed to load image`));\n            }).catch((e) => {\n                console.error(e);\n            });\n            return {\n                data: img,\n                premultiplyAlpha: premultiplyAlpha ?? true,\n            };\n        }\n    }\n    async getTextureData() {\n        const { src, premultiplyAlpha, type } = this.props;\n        if (src === null) {\n            return {\n                data: null,\n            };\n        }\n        if (typeof src !== 'string') {\n            if (src instanceof ImageData) {\n                return {\n                    data: src,\n                    premultiplyAlpha,\n                };\n            }\n            return {\n                data: src(),\n                premultiplyAlpha,\n            };\n        }\n        const absoluteSrc = convertUrlToAbsolute(src);\n        if (type === 'regular') {\n            return this.loadImage(absoluteSrc);\n        }\n        if (type === 'svg') {\n            return loadSvg(absoluteSrc, this.props.width, this.props.height, this.props.sx, this.props.sy, this.props.sw, this.props.sh);\n        }\n        if (isSvgImage(src) === true) {\n            return loadSvg(absoluteSrc, this.props.width, this.props.height, this.props.sx, this.props.sy, this.props.sw, this.props.sh);\n        }\n        if (type === 'compressed') {\n            return loadCompressedTexture(absoluteSrc);\n        }\n        if (isCompressedTextureContainer(src) === true) {\n            return loadCompressedTexture(absoluteSrc);\n        }\n        // default\n        return this.loadImage(absoluteSrc);\n    }\n    /**\n     * Generates a cache key for the ImageTexture based on the provided props.\n     * @param props - The props used to generate the cache key.\n     * @returns The cache key as a string, or `false` if the key cannot be generated.\n     */\n    static makeCacheKey(props) {\n        const resolvedProps = ImageTexture.resolveDefaults(props);\n        // Only cache key-able textures; prioritise key\n        const key = resolvedProps.key || resolvedProps.src;\n        if (typeof key !== 'string') {\n            return false;\n        }\n        // if we have source dimensions, cache the texture separately\n        let dimensionProps = '';\n        if (resolvedProps.sh !== null && resolvedProps.sw !== null) {\n            dimensionProps += ',';\n            dimensionProps += resolvedProps.sx ?? '';\n            dimensionProps += resolvedProps.sy ?? '';\n            dimensionProps += resolvedProps.sw || '';\n            dimensionProps += resolvedProps.sh || '';\n        }\n        return `ImageTexture,${key},${resolvedProps.premultiplyAlpha ?? 'true'}${dimensionProps}`;\n    }\n    static resolveDefaults(props) {\n        return {\n            src: props.src ?? '',\n            premultiplyAlpha: props.premultiplyAlpha ?? true,\n            key: props.key ?? null,\n            type: props.type ?? null,\n            width: props.width ?? null,\n            height: props.height ?? null,\n            sx: props.sx ?? null,\n            sy: props.sy ?? null,\n            sw: props.sw ?? null,\n            sh: props.sh ?? null,\n        };\n    }\n    static z$__type__Props;\n}\n//# sourceMappingURL=ImageTexture.js.map","/*\n * If not stated otherwise in this file or this component's LICENSE file the\n * following copyright and licenses apply:\n *\n * Copyright 2023 Comcast Cable Communications Management, LLC.\n *\n * Licensed under the Apache License, Version 2.0 (the License);\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { Texture } from './Texture.js';\n/**\n * Texture consisting of a random grid of greyscale pixels\n *\n * @remarks\n * The width and height of the NoiseTexture are defined by it's\n * {@link NoiseTextureProps.width} and {@link NoiseTextureProps.height}\n * properties. The {@link NoiseTextureProps.cacheId} prop can be varied in order\n * to bypass cache and get newly randomized texture data.\n */\nexport class NoiseTexture extends Texture {\n    props;\n    constructor(txManager, props) {\n        super(txManager);\n        this.props = NoiseTexture.resolveDefaults(props);\n    }\n    async getTextureData() {\n        const { width, height } = this.props;\n        const size = width * height * 4;\n        const pixelData8 = new Uint8ClampedArray(size);\n        for (let i = 0; i < size; i += 4) {\n            const v = Math.floor(Math.random() * 256);\n            pixelData8[i] = v;\n            pixelData8[i + 1] = v;\n            pixelData8[i + 2] = v;\n            pixelData8[i + 3] = 255;\n        }\n        return {\n            data: new ImageData(pixelData8, width, height),\n        };\n    }\n    static makeCacheKey(props) {\n        if (props.cacheId === undefined) {\n            return false;\n        }\n        const resolvedProps = NoiseTexture.resolveDefaults(props);\n        return `NoiseTexture,${resolvedProps.width},${resolvedProps.height},${resolvedProps.cacheId}`;\n    }\n    static resolveDefaults(props) {\n        return {\n            width: props.width ?? 128,\n            height: props.height ?? 128,\n            cacheId: props.cacheId ?? 0,\n        };\n    }\n    static z$__type__Props;\n}\n//# sourceMappingURL=NoiseTexture.js.map","/*\n * If not stated otherwise in this file or this component's LICENSE file the\n * following copyright and licenses apply:\n *\n * Copyright 2023 Comcast Cable Communications Management, LLC.\n *\n * Licensed under the Apache License, Version 2.0 (the License);\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { Texture, } from './Texture.js';\n/**\n * A Texture that is a sub-region of another Texture.\n *\n * @remarks\n * The parent texture can be a Sprite Sheet/Texture Atlas and set using the\n * {@link SubTextureProps.texture} prop. The sub-region relative to the parent\n * texture is defined with the {@link SubTextureProps.x},\n * {@link SubTextureProps.y}, {@link SubTextureProps.width}, and\n * {@link SubTextureProps.height} pixel values.\n */\nexport class SubTexture extends Texture {\n    props;\n    parentTexture;\n    constructor(txManager, props) {\n        super(txManager);\n        this.props = SubTexture.resolveDefaults(props || {});\n        this.parentTexture = this.props.texture;\n        // If parent texture is already loaded / failed, trigger loaded event manually\n        // so that users get a consistent event experience.\n        // We do this in a microtask to allow listeners to be attached in the same\n        // synchronous task after calling loadTexture()\n        queueMicrotask(() => {\n            const parentTx = this.parentTexture;\n            if (parentTx.state === 'loaded') {\n                this.onParentTxLoaded(parentTx, parentTx.dimensions);\n            }\n            else if (parentTx.state === 'failed') {\n                this.onParentTxFailed(parentTx, parentTx.error);\n            }\n            parentTx.on('loaded', this.onParentTxLoaded);\n            parentTx.on('failed', this.onParentTxFailed);\n        });\n    }\n    onParentTxLoaded = () => {\n        // We ignore the parent's passed dimensions, and simply use the SubTexture's\n        // configured dimensions (because that's all that matters here)\n        this.setState('loaded', {\n            width: this.props.width,\n            height: this.props.height,\n        });\n    };\n    onParentTxFailed = (target, error) => {\n        this.setState('failed', error);\n    };\n    onChangeIsRenderable(isRenderable) {\n        // Propagate the renderable owner change to the parent texture\n        this.parentTexture.setRenderableOwner(this, isRenderable);\n    }\n    async getTextureData() {\n        return {\n            data: this.props,\n        };\n    }\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    static makeCacheKey(props) {\n        return false;\n    }\n    static resolveDefaults(props) {\n        return {\n            texture: props.texture,\n            x: props.x || 0,\n            y: props.y || 0,\n            width: props.width || 0,\n            height: props.height || 0,\n        };\n    }\n    static z$__type__Props;\n}\n//# sourceMappingURL=SubTexture.js.map","/*\n * If not stated otherwise in this file or this component's LICENSE file the\n * following copyright and licenses apply:\n *\n * Copyright 2023 Comcast Cable Communications Management, LLC.\n *\n * Licensed under the Apache License, Version 2.0 (the License);\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { Texture } from './Texture.js';\nexport class RenderTexture extends Texture {\n    props;\n    constructor(txManager, props) {\n        super(txManager);\n        this.props = RenderTexture.resolveDefaults(props || {});\n    }\n    get width() {\n        return this.props.width;\n    }\n    set width(value) {\n        this.props.width = value;\n    }\n    get height() {\n        return this.props.height;\n    }\n    set height(value) {\n        this.props.height = value;\n    }\n    async getTextureData() {\n        return {\n            data: null,\n            premultiplyAlpha: null,\n        };\n    }\n    static resolveDefaults(props) {\n        return {\n            width: props.width || 256,\n            height: props.height || 256,\n        };\n    }\n    static z$__type__Props;\n}\n//# sourceMappingURL=RenderTexture.js.map","/*\n * If not stated otherwise in this file or this component's LICENSE file the\n * following copyright and licenses apply:\n *\n * Copyright 2023 Comcast Cable Communications Management, LLC.\n *\n * Licensed under the Apache License, Version 2.0 (the License);\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { ImageWorkerManager } from './lib/ImageWorker.js';\nimport { ColorTexture } from './textures/ColorTexture.js';\nimport { ImageTexture } from './textures/ImageTexture.js';\nimport { NoiseTexture } from './textures/NoiseTexture.js';\nimport { SubTexture } from './textures/SubTexture.js';\nimport { RenderTexture } from './textures/RenderTexture.js';\nexport class CoreTextureManager {\n    /**\n     * Map of textures by cache key\n     */\n    keyCache = new Map();\n    /**\n     * Map of cache keys by texture\n     */\n    inverseKeyCache = new WeakMap();\n    /**\n     * Map of texture constructors by their type name\n     */\n    txConstructors = {};\n    imageWorkerManager = null;\n    hasCreateImageBitmap = !!self.createImageBitmap;\n    hasWorker = !!self.Worker;\n    /**\n     * Renderer that this texture manager is associated with\n     *\n     * @remarks\n     * This MUST be set before the texture manager is used. Otherwise errors\n     * will occur when using the texture manager.\n     */\n    renderer;\n    /**\n     * The current frame time in milliseconds\n     *\n     * @remarks\n     * This is used to populate the `lastRenderableChangeTime` property of\n     * {@link Texture} instances when their renderable state changes.\n     *\n     * Set by stage via `updateFrameTime` method.\n     */\n    frameTime = 0;\n    constructor(numImageWorkers) {\n        // Register default known texture types\n        if (this.hasCreateImageBitmap && this.hasWorker && numImageWorkers > 0) {\n            this.imageWorkerManager = new ImageWorkerManager(numImageWorkers);\n        }\n        if (!this.hasCreateImageBitmap) {\n            console.warn('[Lightning] createImageBitmap is not supported on this browser. ImageTexture will be slower.');\n        }\n        this.registerTextureType('ImageTexture', ImageTexture);\n        this.registerTextureType('ColorTexture', ColorTexture);\n        this.registerTextureType('NoiseTexture', NoiseTexture);\n        this.registerTextureType('SubTexture', SubTexture);\n        this.registerTextureType('RenderTexture', RenderTexture);\n    }\n    registerTextureType(textureType, textureClass) {\n        this.txConstructors[textureType] = textureClass;\n    }\n    loadTexture(textureType, props) {\n        let texture;\n        const TextureClass = this.txConstructors[textureType];\n        if (!TextureClass) {\n            throw new Error(`Texture type \"${textureType}\" is not registered`);\n        }\n        if (!texture) {\n            const cacheKey = TextureClass.makeCacheKey(props);\n            if (cacheKey && this.keyCache.has(cacheKey)) {\n                // console.log('Getting texture by cache key', cacheKey);\n                // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n                texture = this.keyCache.get(cacheKey);\n            }\n            else {\n                // eslint-disable-next-line @typescript-eslint/no-unsafe-argument, @typescript-eslint/no-explicit-any\n                texture = new TextureClass(this, props);\n                if (cacheKey) {\n                    this.initTextureToCache(texture, cacheKey);\n                }\n            }\n        }\n        return texture;\n    }\n    initTextureToCache(texture, cacheKey) {\n        const { keyCache, inverseKeyCache } = this;\n        keyCache.set(cacheKey, texture);\n        inverseKeyCache.set(texture, cacheKey);\n    }\n    /**\n     * Remove a texture from the cache\n     *\n     * @remarks\n     * Called by Texture Cleanup when a texture is freed.\n     *\n     * @param texture\n     */\n    removeTextureFromCache(texture) {\n        const { inverseKeyCache, keyCache } = this;\n        const cacheKey = inverseKeyCache.get(texture);\n        if (cacheKey) {\n            keyCache.delete(cacheKey);\n        }\n    }\n}\n//# sourceMappingURL=CoreTextureManager.js.map","/*\n * If not stated otherwise in this file or this component's LICENSE file the\n * following copyright and licenses apply:\n *\n * Copyright 2023 Comcast Cable Communications Management, LLC.\n *\n * Licensed under the Apache License, Version 2.0 (the License);\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nconst fontCache = new Map();\nconst weightConversions = {\n    normal: 400,\n    bold: 700,\n    bolder: 900,\n    lighter: 100,\n};\nconst fontWeightToNumber = (weight) => {\n    if (typeof weight === 'number') {\n        return weight;\n    }\n    return weightConversions[weight] || 400;\n};\nfunction resolveFontToUse(familyMapsByPriority, family, weightIn, style, stretch) {\n    let weight = fontWeightToNumber(weightIn);\n    for (const fontFamiles of familyMapsByPriority) {\n        const fontFaces = fontFamiles[family];\n        if (!fontFaces) {\n            continue;\n        }\n        if (fontFaces.size === 1) {\n            // No Exact match found, find nearest weight match\n            console.warn(`TrFontManager: Only one font face found for family: '${family}' - will be used for all weights and styles`);\n            return fontFaces.values().next().value;\n        }\n        const weightMap = new Map();\n        for (const fontFace of fontFaces) {\n            const fontFamilyWeight = fontWeightToNumber(fontFace.descriptors.weight);\n            if (fontFamilyWeight === weight &&\n                fontFace.descriptors.style === style &&\n                fontFace.descriptors.stretch === stretch) {\n                return fontFace;\n            }\n            weightMap.set(fontFamilyWeight, fontFace);\n        }\n        // No Exact match found, find nearest weight match\n        const msg = `TrFontManager: No exact match: '${family} Weight: ${weight} Style: ${style} Stretch: ${stretch}'`;\n        console.error(msg);\n        // Follow the CSS font-weight algorithm to find the nearest weight match\n        // https://www.w3.org/TR/2018/REC-css-fonts-3-20180920/#font-matching-algorithm\n        if (weight === 400 && weightMap.has(500)) {\n            return weightMap.get(500);\n        }\n        if (weight === 500 && weightMap.has(400)) {\n            return weightMap.get(400);\n        }\n        if (weight < 400) {\n            while (weight > 0) {\n                if (weightMap.has(weight)) {\n                    return weightMap.get(weight);\n                }\n                weight -= 100;\n            }\n            // reset back for the next loop\n            weight = 600;\n        }\n        while (weight < 1000) {\n            if (weightMap.has(weight)) {\n                return weightMap.get(weight);\n            }\n            weight += 100;\n        }\n        // finally check lower again\n        weight = 500;\n        while (weight > 0) {\n            if (weightMap.has(weight)) {\n                return weightMap.get(weight);\n            }\n            weight -= 100;\n        }\n    }\n    return;\n}\nexport class TrFontManager {\n    textRenderers;\n    constructor(textRenderers) {\n        this.textRenderers = textRenderers;\n        // Intentionally left blank\n    }\n    addFontFace(font) {\n        // All the font face to all of the text renderers that support it\n        for (const trId in this.textRenderers) {\n            const tr = this.textRenderers[trId];\n            if (tr && tr.isFontFaceSupported(font)) {\n                tr.addFontFace(font);\n            }\n        }\n    }\n    /**\n     * Utility method to resolve a single font face from a list of prioritized family maps based on\n     * a set of font properties.\n     *\n     * @remarks\n     * These are to be used by a text renderer to resolve a font face if needed.\n     *\n     * @param familyMapsByPriority\n     * @param props\n     * @returns\n     */\n    static resolveFontFace(familyMapsByPriority, props) {\n        const { fontFamily, fontWeight, fontStyle, fontStretch } = props;\n        const fontCacheString = `${fontFamily}${fontStyle}${fontWeight}${fontStretch}`;\n        if (fontCache.has(fontCacheString) === true) {\n            return fontCache.get(fontCacheString);\n        }\n        const resolvedFont = resolveFontToUse(familyMapsByPriority, fontFamily, fontWeight, fontStyle, fontStretch);\n        if (resolvedFont !== undefined) {\n            fontCache.set(fontCacheString, resolvedFont);\n        }\n        return resolvedFont;\n    }\n}\n//# sourceMappingURL=TrFontManager.js.map","/*\n * If not stated otherwise in this file or this component's LICENSE file the\n * following copyright and licenses apply:\n *\n * Copyright 2023 Comcast Cable Communications Management, LLC.\n *\n * Licensed under the Apache License, Version 2.0 (the License);\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nexport class CoreShader {\n    // abstract draw(): void;\n    static makeCacheKey(props) {\n        return false;\n    }\n    static resolveDefaults(props) {\n        return {};\n    }\n}\n//# sourceMappingURL=CoreShader.js.map","/*\n * If not stated otherwise in this file or this component's LICENSE file the\n * following copyright and licenses apply:\n *\n * Copyright 2023 Comcast Cable Communications Management, LLC.\n *\n * Licensed under the Apache License, Version 2.0 (the License);\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n//#endregion Types\nexport function createShader(glw, type, source) {\n    const shader = glw.createShader(type);\n    if (!shader) {\n        throw new Error();\n    }\n    glw.shaderSource(shader, source);\n    glw.compileShader(shader);\n    const success = glw.getShaderParameter(shader, glw.COMPILE_STATUS);\n    if (success) {\n        return shader;\n    }\n    console.log(glw.getShaderInfoLog(shader));\n    glw.deleteShader(shader);\n}\nexport function createProgram(glw, vertexShader, fragmentShader) {\n    const program = glw.createProgram();\n    if (!program) {\n        throw new Error();\n    }\n    glw.attachShader(program, vertexShader);\n    glw.attachShader(program, fragmentShader);\n    glw.linkProgram(program);\n    const success = glw.getProgramParameter(program, glw.LINK_STATUS);\n    if (success) {\n        return program;\n    }\n    console.log(glw.getProgramInfoLog(program));\n    glw.deleteProgram(program);\n    return undefined;\n}\n//# sourceMappingURL=ShaderUtils.js.map","/*\n * If not stated otherwise in this file or this component's LICENSE file the\n * following copyright and licenses apply:\n *\n * Copyright 2023 Comcast Cable Communications Management, LLC.\n *\n * Licensed under the Apache License, Version 2.0 (the License);\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { assertTruthy, hasOwn } from '../../../utils.js';\nimport { CoreShader } from '../CoreShader.js';\nimport { createProgram, createShader, } from './internal/ShaderUtils.js';\nexport class WebGlCoreShader extends CoreShader {\n    boundBufferCollection = null;\n    buffersBound = false;\n    program;\n    /**\n     * Vertex Array Object\n     *\n     * @remarks\n     * Used by WebGL2 Only\n     */\n    vao;\n    renderer;\n    glw;\n    attributeBuffers;\n    attributeLocations;\n    attributeNames;\n    uniformLocations;\n    uniformTypes;\n    supportsIndexedTextures;\n    constructor(options) {\n        super();\n        const renderer = (this.renderer = options.renderer);\n        const glw = (this.glw = this.renderer.glw);\n        this.supportsIndexedTextures = options.supportsIndexedTextures || false;\n        // Check that extensions are supported\n        const webGl2 = glw.isWebGl2();\n        const requiredExtensions = (webGl2 && options.webgl2Extensions) ||\n            (!webGl2 && options.webgl1Extensions) ||\n            [];\n        const glVersion = webGl2 ? '2.0' : '1.0';\n        requiredExtensions.forEach((extensionName) => {\n            if (!glw.getExtension(extensionName)) {\n                throw new Error(`Shader \"${this.constructor.name}\" requires extension \"${extensionName}\" for WebGL ${glVersion} but wasn't found`);\n            }\n        });\n        // Gather shader sources\n        // - If WebGL 2 and special WebGL 2 sources are provided, we copy those sources and delete\n        // the extra copy of them to save memory.\n        // TODO: This could be further made optimal by just caching the compiled shaders and completely deleting\n        // the source code\n        const shaderSources = options.shaderSources ||\n            this.constructor.shaderSources;\n        if (!shaderSources) {\n            throw new Error(`Shader \"${this.constructor.name}\" is missing shaderSources.`);\n        }\n        else if (webGl2 && shaderSources?.webGl2) {\n            shaderSources.fragment = shaderSources.webGl2.fragment;\n            shaderSources.vertex = shaderSources.webGl2.vertex;\n            delete shaderSources.webGl2;\n        }\n        const textureUnits = renderer.system.parameters.MAX_VERTEX_TEXTURE_IMAGE_UNITS;\n        const vertexSource = shaderSources.vertex instanceof Function\n            ? shaderSources.vertex(textureUnits)\n            : shaderSources.vertex;\n        const fragmentSource = shaderSources.fragment instanceof Function\n            ? shaderSources.fragment(textureUnits)\n            : shaderSources.fragment;\n        const vertexShader = createShader(glw, glw.VERTEX_SHADER, vertexSource);\n        const fragmentShader = createShader(glw, glw.FRAGMENT_SHADER, fragmentSource);\n        if (!vertexShader || !fragmentShader) {\n            throw new Error();\n        }\n        const program = createProgram(glw, vertexShader, fragmentShader);\n        if (!program) {\n            throw new Error();\n        }\n        this.program = program;\n        if (webGl2) {\n            const vao = glw.createVertexArray();\n            if (!vao) {\n                throw new Error();\n            }\n            this.vao = vao;\n            glw.bindVertexArray(this.vao);\n        }\n        this.attributeLocations = {};\n        this.attributeBuffers = {};\n        this.attributeNames = [];\n        [...options.attributes].forEach((attributeName) => {\n            const location = glw.getAttribLocation(this.program, attributeName);\n            if (location < 0) {\n                throw new Error(`${this.constructor.name}: Vertex shader must have an attribute \"${attributeName}\"!`);\n            }\n            const buffer = glw.createBuffer();\n            if (!buffer) {\n                throw new Error(`${this.constructor.name}: Could not create buffer for attribute \"${attributeName}\"`);\n            }\n            this.attributeLocations[attributeName] = location;\n            this.attributeBuffers[attributeName] = buffer;\n            this.attributeNames.push(attributeName);\n        });\n        this.uniformLocations = {};\n        this.uniformTypes = {};\n        options.uniforms.forEach((uniform) => {\n            const location = glw.getUniformLocation(this.program, uniform.name);\n            this.uniformTypes[uniform.name] = uniform.uniform;\n            if (!location) {\n                console.warn(`Shader \"${this.constructor.name}\" could not get uniform location for \"${uniform.name}\"`);\n                return;\n            }\n            this.uniformLocations[uniform.name] = location;\n        });\n    }\n    bindBufferAttribute(location, buffer, attribute) {\n        const { glw } = this;\n        glw.enableVertexAttribArray(location);\n        glw.vertexAttribPointer(buffer, location, attribute.size, attribute.type, attribute.normalized, attribute.stride, attribute.offset);\n    }\n    disableAttribute(location) {\n        this.glw.disableVertexAttribArray(location);\n    }\n    disableAttributes() {\n        for (const loc in this.attributeLocations) {\n            this.disableAttribute(this.attributeLocations[loc]);\n        }\n        this.boundBufferCollection = null;\n    }\n    /**\n     * Given two sets of Shader props destined for this Shader, determine if they can be batched together\n     * to reduce the number of draw calls.\n     *\n     * @remarks\n     * This is used by the {@link WebGlCoreRenderer} to determine if it can batch multiple consecutive draw\n     * calls into a single draw call.\n     *\n     * By default, this returns false (meaning no batching is allowed), but can be\n     * overridden by child classes to provide more efficient batching.\n     *\n     * @param propsA\n     * @param propsB\n     * @returns\n     */\n    canBatchShaderProps(propsA, propsB) {\n        return false;\n    }\n    bindRenderOp(renderOp, props) {\n        this.bindBufferCollection(renderOp.buffers);\n        if (renderOp.textures.length > 0) {\n            this.bindTextures(renderOp.textures);\n        }\n        const { glw, parentHasRenderTexture, renderToTexture } = renderOp;\n        // Skip if the parent and current operation both have render textures\n        if (renderToTexture && parentHasRenderTexture) {\n            return;\n        }\n        // Bind render texture framebuffer dimensions as resolution\n        // if the parent has a render texture\n        if (parentHasRenderTexture) {\n            const { width, height } = renderOp.framebufferDimensions || {};\n            // Force pixel ratio to 1.0 for render textures since they are always 1:1\n            // the final render texture will be rendered to the screen with the correct pixel ratio\n            this.setUniform('u_pixelRatio', 1.0);\n            // Set resolution to the framebuffer dimensions\n            this.setUniform('u_resolution', new Float32Array([width ?? 0, height ?? 0]));\n        }\n        else {\n            this.setUniform('u_pixelRatio', renderOp.options.pixelRatio);\n            this.setUniform('u_resolution', new Float32Array([glw.canvas.width, glw.canvas.height]));\n        }\n        if (props) {\n            // Bind optional automatic uniforms\n            // These are only bound if their keys are present in the props.\n            if (hasOwn(props, '$dimensions')) {\n                let dimensions = props.$dimensions;\n                if (!dimensions) {\n                    dimensions = renderOp.dimensions;\n                }\n                this.setUniform('u_dimensions', [dimensions.width, dimensions.height]);\n            }\n            if (hasOwn(props, '$alpha')) {\n                let alpha = props.$alpha;\n                if (!alpha) {\n                    alpha = renderOp.alpha;\n                }\n                this.setUniform('u_alpha', alpha);\n            }\n            this.bindProps(props);\n        }\n    }\n    setUniform(name, ...value) {\n        // eslint-disable-next-line @typescript-eslint/no-non-null-assertion, @typescript-eslint/no-unsafe-argument\n        this.glw.setUniform(this.uniformTypes[name], this.uniformLocations[name], ...value);\n    }\n    bindBufferCollection(buffer) {\n        if (this.boundBufferCollection === buffer) {\n            return;\n        }\n        for (const attributeName in this.attributeLocations) {\n            const resolvedBuffer = buffer.getBuffer(attributeName);\n            const resolvedInfo = buffer.getAttributeInfo(attributeName);\n            assertTruthy(resolvedBuffer, `Buffer for \"${attributeName}\" not found`);\n            assertTruthy(resolvedInfo);\n            this.bindBufferAttribute(this.attributeLocations[attributeName], resolvedBuffer, resolvedInfo);\n        }\n        this.boundBufferCollection = buffer;\n    }\n    bindProps(props) {\n        // Implement in child class\n    }\n    bindTextures(textures) {\n        // no defaults\n    }\n    attach() {\n        this.glw.useProgram(this.program);\n        this.glw.useProgram(this.program);\n        if (this.glw.isWebGl2() && this.vao) {\n            this.glw.bindVertexArray(this.vao);\n        }\n    }\n    detach() {\n        this.disableAttributes();\n    }\n    static shaderSources;\n}\n//# sourceMappingURL=WebGlCoreShader.js.map","/*\n * If not stated otherwise in this file or this component's LICENSE file the\n * following copyright and licenses apply:\n *\n * Copyright 2023 Comcast Cable Communications Management, LLC.\n *\n * Licensed under the Apache License, Version 2.0 (the License);\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { WebGlCoreShader } from '../WebGlCoreShader.js';\nexport class DefaultShader extends WebGlCoreShader {\n    constructor(renderer) {\n        super({\n            renderer,\n            attributes: ['a_position', 'a_textureCoordinate', 'a_color'],\n            uniforms: [\n                { name: 'u_resolution', uniform: 'uniform2fv' },\n                { name: 'u_pixelRatio', uniform: 'uniform1f' },\n                { name: 'u_texture', uniform: 'uniform2fv' },\n            ],\n        });\n    }\n    bindTextures(textures) {\n        const { glw } = this;\n        glw.activeTexture(0);\n        glw.bindTexture(textures[0].ctxTexture);\n    }\n    static shaderSources = {\n        vertex: `\n      # ifdef GL_FRAGMENT_PRECISION_HIGH\n      precision highp float;\n      # else\n      precision mediump float;\n      # endif\n\n      attribute vec2 a_position;\n      attribute vec2 a_textureCoordinate;\n      attribute vec4 a_color;\n\n      uniform vec2 u_resolution;\n      uniform float u_pixelRatio;\n\n\n      varying vec4 v_color;\n      varying vec2 v_textureCoordinate;\n\n      void main() {\n        vec2 normalized = a_position * u_pixelRatio;\n        vec2 screenSpace = vec2(2.0 / u_resolution.x, -2.0 / u_resolution.y);\n\n        v_color = a_color;\n        v_textureCoordinate = a_textureCoordinate;\n\n        gl_Position = vec4(normalized.x * screenSpace.x - 1.0, normalized.y * -abs(screenSpace.y) + 1.0, 0.0, 1.0);\n        gl_Position.y = -sign(screenSpace.y) * gl_Position.y;\n      }\n    `,\n        fragment: `\n      # ifdef GL_FRAGMENT_PRECISION_HIGH\n      precision highp float;\n      # else\n      precision mediump float;\n      # endif\n\n      uniform vec2 u_resolution;\n      uniform sampler2D u_texture;\n\n      varying vec4 v_color;\n      varying vec2 v_textureCoordinate;\n\n      void main() {\n          vec4 color = texture2D(u_texture, v_textureCoordinate);\n          gl_FragColor = vec4(v_color) * texture2D(u_texture, v_textureCoordinate);\n      }\n    `,\n    };\n}\n//# sourceMappingURL=DefaultShader.js.map","/*\n * If not stated otherwise in this file or this component's LICENSE file the\n * following copyright and licenses apply:\n *\n * Copyright 2023 Comcast Cable Communications Management, LLC.\n *\n * Licensed under the Apache License, Version 2.0 (the License);\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { WebGlCoreShader } from '../WebGlCoreShader.js';\n// import type { Texture } from '../textures/Texture';\nexport class DefaultShaderBatched extends WebGlCoreShader {\n    supportsIndexedTextures = true;\n    constructor(renderer) {\n        super({\n            renderer,\n            attributes: [\n                'a_position',\n                'a_textureCoordinate',\n                'a_color',\n                'a_textureIndex',\n            ],\n            uniforms: [\n                { name: 'u_resolution', uniform: 'uniform2fv' },\n                { name: 'u_pixelRatio', uniform: 'uniform1f' },\n                { name: 'u_textures[0]', uniform: 'uniform1iv' },\n            ],\n        });\n    }\n    bindTextures(texture) {\n        const { renderer, glw } = this;\n        if (texture.length > renderer.system.parameters.MAX_VERTEX_TEXTURE_IMAGE_UNITS) {\n            throw new Error(`DefaultShaderBatched: Cannot bind more than ${renderer.system.parameters.MAX_VERTEX_TEXTURE_IMAGE_UNITS} textures`);\n        }\n        texture.forEach((t, i) => {\n            glw.activeTexture(i);\n            glw.bindTexture(t.ctxTexture);\n        });\n        const samplers = Array.from(Array(texture.length).keys());\n        this.setUniform('u_textures[0]', samplers);\n    }\n    static shaderSources = {\n        vertex: `\n      # ifdef GL_FRAGMENT_PRECISION_HIGH\n      precision highp float;\n      # else\n      precision mediump float;\n      # endif\n\n      attribute vec2 a_textureCoordinate;\n      attribute vec2 a_position;\n      attribute vec4 a_color;\n      attribute float a_textureIndex;\n      attribute float a_depth;\n\n      uniform vec2 u_resolution;\n      uniform float u_pixelRatio;\n\n      varying vec4 v_color;\n      varying vec2 v_textureCoordinate;\n      varying float v_textureIndex;\n\n      void main(){\n        vec2 normalized = a_position * u_pixelRatio / u_resolution;\n        vec2 zero_two = normalized * 2.0;\n        vec2 clip_space = zero_two - 1.0;\n\n        // pass to fragment\n        v_color = a_color;\n        v_textureCoordinate = a_textureCoordinate;\n        v_textureIndex = a_textureIndex;\n\n        // flip y\n        gl_Position = vec4(clip_space * vec2(1.0, -1.0), 0, 1);\n      }\n    `,\n        fragment: (textureUnits) => `\n      #define txUnits ${textureUnits}\n      # ifdef GL_FRAGMENT_PRECISION_HIGH\n      precision highp float;\n      # else\n      precision mediump float;\n      # endif\n\n      uniform vec2 u_resolution;\n      uniform sampler2D u_image;\n      uniform sampler2D u_textures[txUnits];\n\n      varying vec4 v_color;\n      varying vec2 v_textureCoordinate;\n      varying float v_textureIndex;\n\n      vec4 sampleFromTexture(sampler2D textures[${textureUnits}], int idx, vec2 uv) {\n        ${Array.from(Array(textureUnits).keys())\n            .map((idx) => `\n          ${idx !== 0 ? 'else ' : ''}if (idx == ${idx}) {\n            return texture2D(textures[${idx}], uv);\n          }\n        `)\n            .join('')}\n        return texture2D(textures[0], uv);\n      }\n\n      void main(){\n        gl_FragColor = vec4(v_color) * sampleFromTexture(u_textures, int(v_textureIndex), v_textureCoordinate);\n      }\n    `,\n    };\n}\n//# sourceMappingURL=DefaultShaderBatched.js.map","export class ShaderEffect {\n    priority = 1;\n    name = '';\n    ref;\n    target;\n    passParameters = '';\n    declaredUniforms = '';\n    uniformInfo = {};\n    static uniforms = {};\n    static methods;\n    static onShaderMask;\n    static onColorize;\n    static onEffectMask;\n    static getEffectKey(props) {\n        return '';\n    }\n    static getMethodParameters(uniforms, props) {\n        const res = [];\n        for (const u in uniforms) {\n            const uni = uniforms[u];\n            let define = '';\n            if (uni.size) {\n                define = `[${uni.size(props)}]`;\n            }\n            res.push(`${uni.type} ${u}${define}`);\n        }\n        return res.join(',');\n    }\n    constructor(options) {\n        const { ref, target, props = {} } = options;\n        this.ref = ref;\n        this.target = target;\n        const uniformInfo = {};\n        const passParameters = [];\n        let declaredUniforms = '';\n        const uniforms = this.constructor.uniforms || {};\n        for (const u in uniforms) {\n            const unif = uniforms[u];\n            const uniType = unif.type;\n            //make unique uniform name\n            const uniformName = `${ref}_${u}`;\n            let define = '';\n            if (unif.size) {\n                define = `[${unif.size(props)}]`;\n            }\n            passParameters.push(uniformName);\n            declaredUniforms += `uniform ${uniType} ${uniformName}${define};`;\n            uniformInfo[u] = { name: uniformName, uniform: uniforms[u].method };\n        }\n        this.passParameters = passParameters.join(',');\n        this.declaredUniforms = declaredUniforms;\n        this.uniformInfo = uniformInfo;\n    }\n    static resolveDefaults(props) {\n        return {};\n    }\n    static makeEffectKey(props) {\n        return false;\n    }\n}\n//# sourceMappingURL=ShaderEffect.js.map","import { WebGlCoreShader, } from '../WebGlCoreShader.js';\nimport { ShaderEffect, } from './effects/ShaderEffect.js';\nimport { assertTruthy } from '../../../../utils.js';\nconst effectCache = new Map();\nconst getResolvedEffect = (effects, effectContructors) => {\n    const key = JSON.stringify(effects);\n    if (effectCache.has(key)) {\n        return effectCache.get(key);\n    }\n    effects = effects ?? [];\n    const resolvedEffects = [];\n    const effectsLength = effects.length;\n    let i = 0;\n    for (; i < effectsLength; i++) {\n        const { name, type, props } = effects[i];\n        const resolvedEffect = {\n            name,\n            type,\n            props: {},\n        };\n        const effectConstructor = effectContructors[type];\n        const defaultPropValues = effectConstructor.resolveDefaults(props);\n        const uniforms = effectConstructor.uniforms;\n        const uniformKeys = Object.keys(uniforms);\n        const uniformsLength = uniformKeys.length;\n        let j = 0;\n        for (; j < uniformsLength; j++) {\n            const key = uniformKeys[j];\n            const uniform = uniforms[key];\n            const result = {\n                value: defaultPropValues[key],\n                programValue: undefined,\n                updateOnBind: uniform.updateOnBind || false,\n                hasValidator: uniform.validator !== undefined,\n                hasProgramValueUpdater: uniform.updateProgramValue !== undefined,\n            };\n            const validatedValue = (result.hasValidator &&\n                uniform.validator(defaultPropValues[key], defaultPropValues)) ||\n                defaultPropValues[key];\n            if (defaultPropValues[key] !== validatedValue) {\n                result.validatedValue = validatedValue;\n            }\n            if (result.hasProgramValueUpdater) {\n                uniform.updateProgramValue(result);\n            }\n            if (result.programValue === undefined) {\n                result.programValue = result.value;\n            }\n            resolvedEffect.props[key] = result;\n        }\n        resolvedEffects.push(resolvedEffect);\n    }\n    effectCache.set(key, resolvedEffects);\n    return resolvedEffects;\n};\nexport class DynamicShader extends WebGlCoreShader {\n    effects = [];\n    constructor(renderer, props, effectContructors) {\n        const shader = DynamicShader.createShader(props, effectContructors);\n        super({\n            renderer,\n            attributes: ['a_position', 'a_textureCoordinate', 'a_color'],\n            uniforms: [\n                { name: 'u_resolution', uniform: 'uniform2fv' },\n                { name: 'u_pixelRatio', uniform: 'uniform1f' },\n                { name: 'u_texture', uniform: 'uniform2fv' },\n                { name: 'u_dimensions', uniform: 'uniform2fv' },\n                { name: 'u_alpha', uniform: 'uniform1f' },\n                ...shader.uniforms,\n            ],\n            shaderSources: {\n                vertex: shader.vertex,\n                fragment: shader.fragment,\n            },\n        });\n        this.effects = shader.effects;\n    }\n    bindTextures(textures) {\n        const { glw } = this;\n        glw.activeTexture(0);\n        glw.bindTexture(textures[0].ctxTexture);\n    }\n    bindProps(props) {\n        const effects = props.effects;\n        const effectsL = effects.length;\n        let i = 0;\n        for (; i < effectsL; i++) {\n            const effect = effects[i];\n            const uniformInfo = this.effects[i].uniformInfo;\n            const propKeys = Object.keys(effect.props);\n            const propsLength = propKeys.length;\n            let j = 0;\n            for (; j < propsLength; j++) {\n                const key = propKeys[j];\n                const prop = effect.props[key];\n                if (prop.updateOnBind === true) {\n                    const uniform = this.renderer.shManager.getRegisteredEffects()[effect.type]?.uniforms[key];\n                    uniform?.updateProgramValue(effect.props[key], props);\n                }\n                this.setUniform(uniformInfo[key].name, effect.props[key].programValue);\n            }\n        }\n    }\n    canBatchShaderProps(propsA, propsB) {\n        if (propsA.$dimensions.width !== propsB.$dimensions.width ||\n            propsA.$dimensions.height !== propsB.$dimensions.height ||\n            propsA.effects.length !== propsB.effects.length) {\n            return false;\n        }\n        const propsEffectsLen = propsA.effects.length;\n        let i = 0;\n        for (; i < propsEffectsLen; i++) {\n            const effectA = propsA.effects[i];\n            const effectB = propsB.effects[i];\n            if (effectA.type !== effectB.type) {\n                return false;\n            }\n            for (const key in effectA.props) {\n                if ((effectB.props && !effectB.props[key]) ||\n                    effectA.props[key].value !==\n                        effectB.props[key].value) {\n                    return false;\n                }\n            }\n        }\n        return true;\n    }\n    static createShader(props, effectContructors) {\n        //counts duplicate effects\n        const effectNameCount = {};\n        const methods = {};\n        let declareUniforms = '';\n        const uniforms = [];\n        const uFx = [];\n        const effects = props.effects.map((effect) => {\n            const baseClass = effectContructors[effect.type];\n            const key = baseClass.getEffectKey(effect.props || {});\n            effectNameCount[key] = effectNameCount[key] ? ++effectNameCount[key] : 1;\n            const nr = effectNameCount[key];\n            if (nr === 1) {\n                uFx.push({ key, type: effect.type, props: effect.props });\n            }\n            //initialize new effect class;\n            const fxClass = new baseClass({\n                ref: `${key}${nr === 1 ? '' : nr}`,\n                target: key,\n                props: effect.props,\n            });\n            declareUniforms += fxClass.declaredUniforms;\n            uniforms.push(...Object.values(fxClass.uniformInfo));\n            return fxClass;\n        });\n        //build source\n        let effectMethods = '';\n        uFx?.forEach((fx) => {\n            const fxClass = effectContructors[fx.type];\n            const fxProps = fxClass.resolveDefaults((fx.props ?? {}));\n            const remap = [];\n            for (const m in fxClass.methods) {\n                let cm = m;\n                const fxMethod = fxClass.methods[m];\n                if (methods[m] && methods[m] !== fxMethod) {\n                    cm = DynamicShader.resolveMethodDuplicate(m, fxMethod, methods);\n                }\n                methods[cm] = fxMethod.replace('function', cm);\n                remap.push({ m, cm });\n            }\n            let onShaderMask = fxClass.onShaderMask instanceof Function\n                ? fxClass.onShaderMask(fxProps)\n                : fxClass.onShaderMask;\n            let onColorize = fxClass.onColorize instanceof Function\n                ? fxClass.onColorize(fxProps)\n                : fxClass.onColorize;\n            let onEffectMask = fxClass.onEffectMask instanceof Function\n                ? fxClass.onEffectMask(fxProps)\n                : fxClass.onEffectMask;\n            remap.forEach((r) => {\n                const { m, cm } = r;\n                const reg = new RegExp(`\\\\$${m}`, 'g');\n                if (onShaderMask) {\n                    onShaderMask = onShaderMask.replace(reg, cm);\n                }\n                if (onColorize) {\n                    onColorize = onColorize.replace(reg, cm);\n                }\n                if (onEffectMask) {\n                    onEffectMask = onEffectMask.replace(reg, cm);\n                }\n            });\n            const methodParameters = fxClass.getMethodParameters(fxClass.uniforms, fxProps);\n            const pm = methodParameters.length > 0 ? `, ${methodParameters}` : '';\n            if (onShaderMask) {\n                effectMethods += `\n        float fx_${fx.key}_onShaderMask(float shaderMask ${pm}) {\n          ${onShaderMask}\n        }\n        `;\n            }\n            if (onColorize) {\n                effectMethods += `\n          vec4 fx_${fx.key}_onColorize(float shaderMask, vec4 maskColor, vec4 shaderColor${pm}) {\n            ${onColorize}\n          }\n        `;\n            }\n            if (onEffectMask) {\n                effectMethods += `\n          vec4 fx_${fx.key}_onEffectMask(float shaderMask, vec4 maskColor, vec4 shaderColor${pm}) {\n            ${onEffectMask}\n          }\n        `;\n            }\n        });\n        let sharedMethods = '';\n        for (const m in methods) {\n            sharedMethods += methods[m];\n        }\n        //fill main functions\n        let currentMask = `mix(shaderColor, maskColor, clamp(-(lng_DefaultMask), 0.0, 1.0))`;\n        let drawEffects = `\n\n    `;\n        for (let i = 0; i < effects.length; i++) {\n            const current = effects[i];\n            const pm = current.passParameters.length > 0 ? `, ${current.passParameters}` : '';\n            const currentClass = effectContructors[current.name];\n            if (currentClass.onShaderMask) {\n                drawEffects += `\n        shaderMask = fx_${current.target}_onShaderMask(shaderMask ${pm});\n        `;\n            }\n            if (currentClass.onColorize) {\n                drawEffects += `\n        maskColor = fx_${current.target}_onColorize(shaderMask, maskColor, shaderColor${pm});\n        `;\n            }\n            if (currentClass.onEffectMask) {\n                currentMask = `fx_${current.target}_onEffectMask(shaderMask, maskColor, shaderColor${pm})`;\n            }\n            const next = effects[i + 1];\n            if (next === undefined ||\n                effectContructors[next.name].onEffectMask) {\n                drawEffects += `\n          shaderColor = ${currentMask};\n        `;\n            }\n        }\n        return {\n            effects,\n            uniforms,\n            fragment: DynamicShader.fragment(declareUniforms, sharedMethods, effectMethods, drawEffects),\n            vertex: DynamicShader.vertex(),\n        };\n    }\n    static resolveMethodDuplicate(key, effectMethod, methodCollection, increment = 0) {\n        const m = key + (increment > 0 ? increment : '');\n        if (methodCollection[m] && methodCollection[m] !== effectMethod) {\n            return this.resolveMethodDuplicate(key, effectMethod, methodCollection, ++increment);\n        }\n        return m;\n    }\n    static resolveDefaults(props, effectContructors) {\n        assertTruthy(effectContructors);\n        return {\n            effects: getResolvedEffect(props.effects ?? [], effectContructors),\n            $dimensions: {\n                width: 0,\n                height: 0,\n            },\n            $alpha: 0,\n        };\n    }\n    static makeCacheKey(props, effectContructors) {\n        let fx = '';\n        props.effects?.forEach((effect) => {\n            const baseClass = effectContructors[effect.type];\n            const key = baseClass.getEffectKey(effect.props || {});\n            fx += `,${key}`;\n        });\n        return `DynamicShader${fx}`;\n    }\n    static z$__type__Props;\n    static vertex = () => `\n    # ifdef GL_FRAGMENT_PRECISION_HIGH\n    precision highp float;\n    # else\n    precision mediump float;\n    # endif\n\n    attribute vec2 a_textureCoordinate;\n    attribute vec2 a_position;\n    attribute vec4 a_color;\n    attribute float a_textureIndex;\n\n    uniform vec2 u_resolution;\n    uniform float u_pixelRatio;\n\n    varying vec4 v_color;\n    varying vec2 v_textureCoordinate;\n    varying float v_textureIndex;\n\n    void main(){\n      vec2 normalized = a_position * u_pixelRatio / u_resolution;\n      vec2 zero_two = normalized * 2.0;\n      vec2 clip_space = zero_two - 1.0;\n\n      // pass to fragment\n      v_color = a_color;\n      v_textureCoordinate = a_textureCoordinate;\n      v_textureIndex = a_textureIndex;\n\n      // flip y\n      gl_Position = vec4(clip_space * vec2(1.0, -1.0), 0, 1);\n    }\n  `;\n    static fragment = (uniforms, methods, effectMethods, drawEffects) => `\n    # ifdef GL_FRAGMENT_PRECISION_HIGH\n    precision highp float;\n    # else\n    precision mediump float;\n    # endif\n\n    #define PI 3.14159265359\n\n    uniform vec2 u_resolution;\n    uniform vec2 u_dimensions;\n    uniform float u_alpha;\n    uniform float u_radius;\n    uniform sampler2D u_texture;\n    uniform float u_pixelRatio;\n\n    ${uniforms}\n\n    varying vec4 v_color;\n    varying vec2 v_textureCoordinate;\n\n    ${methods}\n\n    ${effectMethods}\n\n    void main() {\n      vec2 p = v_textureCoordinate.xy * u_dimensions - u_dimensions * 0.5;\n      vec2 d = abs(p) - (u_dimensions) * 0.5;\n      float lng_DefaultMask = min(max(d.x, d.y), 0.0) + length(max(d, 0.0));\n\n      vec4 shaderColor = vec4(0.0);\n      float shaderMask = lng_DefaultMask;\n\n      vec4 maskColor = texture2D(u_texture, v_textureCoordinate) * v_color;\n\n      shaderColor = mix(shaderColor, maskColor, clamp(-(lng_DefaultMask + 0.5), 0.0, 1.0));\n\n      ${drawEffects}\n\n      gl_FragColor = shaderColor * u_alpha;\n    }\n  `;\n}\n//# sourceMappingURL=DynamicShader.js.map","/*\n * If not stated otherwise in this file or this component's LICENSE file the\n * following copyright and licenses apply:\n *\n * Copyright 2023 Comcast Cable Communications Management, LLC.\n *\n * Licensed under the Apache License, Version 2.0 (the License);\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { WebGlCoreShader, } from '../WebGlCoreShader.js';\n/**\n * Similar to the {@link DefaultShader} but cuts out 4 rounded rectangle corners\n * as defined by the specified corner {@link RoundedRectangleProps.radius}\n */\nexport class RoundedRectangle extends WebGlCoreShader {\n    constructor(renderer) {\n        super({\n            renderer,\n            attributes: ['a_position', 'a_textureCoordinate', 'a_color'],\n            uniforms: [\n                { name: 'u_resolution', uniform: 'uniform2fv' },\n                { name: 'u_pixelRatio', uniform: 'uniform1f' },\n                { name: 'u_texture', uniform: 'uniform2f' },\n                { name: 'u_dimensions', uniform: 'uniform2fv' },\n                { name: 'u_radius', uniform: 'uniform1f' },\n            ],\n        });\n    }\n    static z$__type__Props;\n    static resolveDefaults(props) {\n        return {\n            radius: props.radius || 10,\n            $dimensions: {\n                width: 0,\n                height: 0,\n            },\n        };\n    }\n    bindTextures(textures) {\n        const { glw } = this;\n        glw.activeTexture(0);\n        glw.bindTexture(textures[0].ctxTexture);\n    }\n    bindProps(props) {\n        const radiusFactor = Math.min(props.$dimensions.width, props.$dimensions.height) /\n            (2.0 * props.radius);\n        this.setUniform('u_radius', props.radius * Math.min(radiusFactor, 1));\n    }\n    canBatchShaderProps(propsA, propsB) {\n        return (propsA.radius === propsB.radius &&\n            propsA.$dimensions.width === propsB.$dimensions.width &&\n            propsA.$dimensions.height === propsB.$dimensions.height);\n    }\n    static shaderSources = {\n        vertex: `\n      # ifdef GL_FRAGMENT_PRECISION_HIGH\n      precision highp float;\n      # else\n      precision mediump float;\n      # endif\n\n      attribute vec2 a_position;\n      attribute vec2 a_textureCoordinate;\n      attribute vec4 a_color;\n      attribute float a_textureIndex;\n      attribute float a_depth;\n\n      uniform vec2 u_resolution;\n      uniform float u_pixelRatio;\n\n      varying vec4 v_color;\n      varying vec2 v_textureCoordinate;\n\n      void main() {\n        vec2 normalized = a_position * u_pixelRatio / u_resolution;\n        vec2 zero_two = normalized * 2.0;\n        vec2 clip_space = zero_two - 1.0;\n\n        // pass to fragment\n        v_color = a_color;\n        v_textureCoordinate = a_textureCoordinate;\n\n        // flip y\n        gl_Position = vec4(clip_space * vec2(1.0, -1.0), 0, 1);\n      }\n    `,\n        fragment: `\n      # ifdef GL_FRAGMENT_PRECISION_HIGH\n      precision highp float;\n      # else\n      precision mediump float;\n      # endif\n\n      uniform vec2 u_resolution;\n      uniform vec2 u_dimensions;\n      uniform float u_radius;\n      uniform sampler2D u_texture;\n\n      varying vec4 v_color;\n      varying vec2 v_textureCoordinate;\n\n      float boxDist(vec2 p, vec2 size, float radius){\n        size -= vec2(radius);\n        vec2 d = abs(p) - size;\n        return min(max(d.x, d.y), 0.0) + length(max(d, 0.0)) - radius;\n      }\n\n      float fillMask(float dist) {\n        return clamp(-dist, 0.0, 1.0);\n      }\n\n      void main() {\n        vec4 color = texture2D(u_texture, v_textureCoordinate) * v_color;\n        vec2 halfDimensions = u_dimensions * 0.5;\n\n        float d = boxDist(v_textureCoordinate.xy * u_dimensions - halfDimensions, halfDimensions + 0.5, u_radius);\n        gl_FragColor = mix(vec4(0.0), color, fillMask(d));\n      }\n    `,\n    };\n}\n//# sourceMappingURL=RoundedRectangle.js.map","/*\n * If not stated otherwise in this file or this component's LICENSE file the\n * following copyright and licenses apply:\n *\n * Copyright 2023 Comcast Cable Communications Management, LLC.\n *\n * Licensed under the Apache License, Version 2.0 (the License);\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { getNormalizedRgbaComponents } from '../../../lib/utils.js';\nimport { WebGlCoreShader } from '../WebGlCoreShader.js';\nconst IDENTITY_MATRIX_3x3 = new Float32Array([1, 0, 0, 0, 1, 0, 0, 0, 1]);\n/**\n * SdfShader supports multi-channel and single-channel signed distance field textures.\n *\n * @remarks\n * This Shader is used by the {@link SdfTextRenderer}. Do not use thie Shader\n * directly. Instead create a Text Node and assign a SDF font family to it.\n *\n * @internalRemarks\n * The only thing this shader does to support multi-channel SDFs is to\n * add a median function to the fragment shader. If this one function call\n * ends up being a performance bottleneck we can always look at ways to\n * remove it.\n */\nexport class SdfShader extends WebGlCoreShader {\n    constructor(renderer) {\n        super({\n            renderer,\n            attributes: ['a_position', 'a_textureCoordinate'],\n            uniforms: [\n                { name: 'u_resolution', uniform: 'uniform2fv' },\n                { name: 'u_transform', uniform: 'uniformMatrix3fv' },\n                { name: 'u_scrollY', uniform: 'uniform1f' },\n                { name: 'u_pixelRatio', uniform: 'uniform1f' },\n                { name: 'u_texture', uniform: 'uniform2f' },\n                { name: 'u_color', uniform: 'uniform4fv' },\n                { name: 'u_size', uniform: 'uniform1f' },\n                { name: 'u_distanceRange', uniform: 'uniform1f' },\n                { name: 'u_debug', uniform: 'uniform1i' },\n            ],\n        });\n    }\n    bindTextures(textures) {\n        const { glw } = this;\n        glw.activeTexture(0);\n        glw.bindTexture(textures[0].ctxTexture);\n    }\n    bindProps(props) {\n        const resolvedProps = SdfShader.resolveDefaults(props);\n        for (const key in resolvedProps) {\n            if (key === 'transform') {\n                this.setUniform('u_transform', false, resolvedProps[key]);\n            }\n            else if (key === 'scrollY') {\n                this.setUniform('u_scrollY', resolvedProps[key]);\n            }\n            else if (key === 'color') {\n                const components = getNormalizedRgbaComponents(resolvedProps.color);\n                this.setUniform('u_color', components);\n            }\n            else if (key === 'size') {\n                this.setUniform('u_size', resolvedProps[key]);\n            }\n            else if (key === 'distanceRange') {\n                this.setUniform('u_distanceRange', resolvedProps[key]);\n            }\n            else if (key === 'debug') {\n                this.setUniform('u_debug', resolvedProps[key] ? 1.0 : 0.0);\n            }\n        }\n    }\n    static resolveDefaults(props = {}) {\n        return {\n            transform: props.transform ?? IDENTITY_MATRIX_3x3,\n            scrollY: props.scrollY ?? 0,\n            color: props.color ?? 0xffffffff,\n            size: props.size ?? 16,\n            distanceRange: props.distanceRange ?? 1.0,\n            debug: props.debug ?? false,\n        };\n    }\n    static shaderSources = {\n        vertex: `\n      # ifdef GL_FRAGMENT_PRECISION_HIGH\n      precision highp float;\n      # else\n      precision mediump float;\n      # endif\n      // an attribute is an input (in) to a vertex shader.\n      // It will receive data from a buffer\n      attribute vec2 a_position;\n      attribute vec2 a_textureCoordinate;\n\n      uniform vec2 u_resolution;\n      uniform mat3 u_transform;\n      uniform float u_scrollY;\n      uniform float u_pixelRatio;\n      uniform float u_size;\n\n      varying vec2 v_texcoord;\n\n      void main() {\n        vec2 scrolledPosition = a_position * u_size - vec2(0, u_scrollY);\n        vec2 transformedPosition = (u_transform * vec3(scrolledPosition, 1)).xy;\n\n        // Calculate screen space with pixel ratio\n        vec2 screenSpace = (transformedPosition * u_pixelRatio / u_resolution * 2.0 - 1.0) * vec2(1, -1);\n\n        gl_Position = vec4(screenSpace, 0.0, 1.0);\n        v_texcoord = a_textureCoordinate;\n\n      }\n    `,\n        fragment: `\n      # ifdef GL_FRAGMENT_PRECISION_HIGH\n      precision highp float;\n      # else\n      precision mediump float;\n      # endif\n      uniform vec4 u_color;\n      uniform sampler2D u_texture;\n      uniform float u_distanceRange;\n      uniform float u_pixelRatio;\n      uniform int u_debug;\n\n      varying vec2 v_texcoord;\n\n      float median(float r, float g, float b) {\n          return max(min(r, g), min(max(r, g), b));\n      }\n\n      void main() {\n          vec3 sample = texture2D(u_texture, v_texcoord).rgb;\n          if (u_debug == 1) {\n            gl_FragColor = vec4(sample.r, sample.g, sample.b, 1.0);\n            return;\n          }\n          float scaledDistRange = u_distanceRange * u_pixelRatio;\n          float sigDist = scaledDistRange * (median(sample.r, sample.g, sample.b) - 0.5);\n          float opacity = clamp(sigDist + 0.5, 0.0, 1.0) * u_color.a;\n\n          // Build the final color.\n          // IMPORTANT: We must premultiply the color by the alpha value before returning it.\n          gl_FragColor = vec4(u_color.r * opacity, u_color.g * opacity, u_color.b * opacity, opacity);\n      }\n    `,\n    };\n}\n//# sourceMappingURL=SdfShader.js.map","/*\n * If not stated otherwise in this file or this component's LICENSE file the\n * following copyright and licenses apply:\n *\n * Copyright 2023 Comcast Cable Communications Management, LLC.\n *\n * Licensed under the Apache License, Version 2.0 (the License);\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nexport const colorToFloat32Array = (argb) => {\n    const col = getRgbaComponentsNormalized(argb);\n    /* eslint-disable @typescript-eslint/no-non-null-assertion -- getRgbaComponentsNormalized has a constant array size */\n    col[0] *= col[3];\n    col[1] *= col[3];\n    col[2] *= col[3];\n    /* eslint-enable */\n    return col;\n};\nconst getRgbaComponentsNormalized = (argb) => {\n    const r = ((argb / 65536) | 0) % 256;\n    const g = ((argb / 256) | 0) % 256;\n    const b = argb % 256;\n    const a = (argb / 16777216) | 0;\n    return [r / 255, g / 255, b / 255, a / 255];\n};\nexport const updateShaderEffectColor = (values) => {\n    if (values.programValue === undefined) {\n        values.programValue = new Float32Array(4);\n    }\n    const rgba = values.value;\n    const floatArray = values.programValue;\n    floatArray[0] = (rgba >>> 24) / 255;\n    floatArray[1] = ((rgba >>> 16) & 0xff) / 255;\n    floatArray[2] = ((rgba >>> 8) & 0xff) / 255;\n    floatArray[3] = (rgba & 0xff) / 255;\n};\nexport const updateFloat32ArrayLength2 = (values) => {\n    const validatedValue = (values.validatedValue || values.value);\n    if (values.programValue instanceof Float32Array) {\n        const floatArray = values.programValue;\n        floatArray[0] = validatedValue[0];\n        floatArray[1] = validatedValue[1];\n    }\n    else {\n        values.programValue = new Float32Array(validatedValue);\n    }\n};\nexport const updateFloat32ArrayLength4 = (values) => {\n    const validatedValue = (values.validatedValue || values.value);\n    if (values.programValue instanceof Float32Array) {\n        const floatArray = values.programValue;\n        floatArray[0] = validatedValue[0];\n        floatArray[1] = validatedValue[1];\n        floatArray[2] = validatedValue[1];\n        floatArray[3] = validatedValue[1];\n    }\n    else {\n        values.programValue = new Float32Array(validatedValue);\n    }\n};\nexport const updateFloat32ArrayLengthN = (values) => {\n    const validatedValue = (values.validatedValue || values.value);\n    if (values.programValue instanceof Float32Array) {\n        const len = validatedValue.length;\n        const programValue = values.programValue;\n        for (let i = 0; i < len; i++) {\n            programValue[i] = validatedValue[i];\n        }\n    }\n    else {\n        values.programValue = new Float32Array(validatedValue);\n    }\n};\nexport const validateArrayLength4 = (value) => {\n    const isArray = Array.isArray(value);\n    if (!isArray) {\n        return [value, value, value, value];\n    }\n    else if (isArray && value.length === 4) {\n        return value;\n    }\n    else if (isArray && value.length === 2) {\n        return [value[0], value[1], value[0], value[1]];\n    }\n    else if (isArray && value.length === 3) {\n        return [value[0], value[1], value[2], value[0]];\n    }\n    return [value[0], value[0], value[0], value[0]];\n};\nexport const updateWebSafeRadius = (values, shaderProps) => {\n    if (values.programValue === undefined) {\n        values.programValue = new Float32Array(4);\n    }\n    const programValue = values.programValue;\n    const validatedValue = (values.validatedValue || values.value);\n    if (shaderProps === undefined && values.$dimensions === undefined) {\n        programValue[0] = validatedValue[0];\n        programValue[1] = validatedValue[1];\n        programValue[2] = validatedValue[2];\n        programValue[3] = validatedValue[3];\n        return;\n    }\n    let storedDimensions = values.$dimensions;\n    if (shaderProps !== undefined) {\n        const { $dimensions } = shaderProps;\n        if (storedDimensions !== undefined &&\n            (storedDimensions.width === $dimensions.width ||\n                storedDimensions.height === $dimensions.height)) {\n            return;\n        }\n        if (storedDimensions === undefined) {\n            storedDimensions = {\n                width: $dimensions?.width,\n                height: $dimensions?.height,\n            };\n            values.$dimensions = storedDimensions;\n        }\n    }\n    const { width, height } = storedDimensions;\n    const [r0, r1, r2, r3] = validatedValue;\n    const factor = Math.min(Math.min(Math.min(width / Math.max(width, r0 + r1), width / Math.max(width, r2 + r3)), Math.min(height / Math.max(height, r0 + r2), height / Math.max(height, r1 + r3))), 1);\n    programValue[0] = r0 * factor;\n    programValue[1] = r1 * factor;\n    programValue[2] = r2 * factor;\n    programValue[3] = r3 * factor;\n};\n//# sourceMappingURL=EffectUtils.js.map","import { updateWebSafeRadius, validateArrayLength4 } from './EffectUtils.js';\nimport { ShaderEffect, } from './ShaderEffect.js';\n/**\n * Masks the current maskcolor with rounded corners similar to {@link RoundedRectangle}\n */\nexport class RadiusEffect extends ShaderEffect {\n    static z$__type__Props;\n    name = 'radius';\n    static getEffectKey() {\n        return `radius`;\n    }\n    static uniforms = {\n        radius: {\n            value: 0,\n            method: 'uniform4fv',\n            type: 'vec4',\n            updateOnBind: true,\n            validator: validateArrayLength4,\n            updateProgramValue: updateWebSafeRadius,\n        },\n    };\n    static methods = {\n        fillMask: `\n      float function(float dist) {\n        return clamp(-dist, 0.0, 1.0);\n      }\n    `,\n        boxDist: `\n      float function(vec2 p, vec2 size, float radius) {\n        size -= vec2(radius);\n        vec2 d = abs(p) - size;\n        return min(max(d.x, d.y), 0.0) + length(max(d, 0.0)) - radius;\n      }\n    `,\n    };\n    static resolveDefaults(props) {\n        return {\n            radius: props.radius ?? 10,\n        };\n    }\n    static onShaderMask = `\n  vec2 halfDimensions = u_dimensions * 0.5;\n  float r = radius[0] * step(v_textureCoordinate.x, 0.5) * step(v_textureCoordinate.y, 0.5);\n  r = r + radius[1] * step(0.5, v_textureCoordinate.x) * step(v_textureCoordinate.y, 0.5);\n  r = r + radius[2] * step(0.5, v_textureCoordinate.x) * step(0.5, v_textureCoordinate.y);\n  r = r + radius[3] * step(v_textureCoordinate.x, 0.5) * step(0.5, v_textureCoordinate.y);\n  return $boxDist(v_textureCoordinate.xy * u_dimensions - halfDimensions, halfDimensions, r);\n  `;\n    static onEffectMask = `\n  return mix(vec4(0.0), maskColor, $fillMask(shaderMask));\n  `;\n}\n//# sourceMappingURL=RadiusEffect.js.map","/*\n * If not stated otherwise in this file or this component's LICENSE file the\n * following copyright and licenses apply:\n *\n * Copyright 2023 Comcast Cable Communications Management, LLC.\n *\n * Licensed under the Apache License, Version 2.0 (the License);\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { updateShaderEffectColor } from './EffectUtils.js';\nimport { ShaderEffect, } from './ShaderEffect.js';\n/**\n * The BorderEffect renders a border along all edges of an element\n */\nexport class BorderEffect extends ShaderEffect {\n    static z$__type__Props;\n    name = 'border';\n    static getEffectKey() {\n        return `border`;\n    }\n    static resolveDefaults(props) {\n        return {\n            width: props.width ?? 10,\n            color: props.color ?? 0xffffffff,\n        };\n    }\n    static uniforms = {\n        width: {\n            value: 0,\n            method: 'uniform1f',\n            type: 'float',\n        },\n        color: {\n            value: 0xffffffff,\n            updateProgramValue: updateShaderEffectColor,\n            method: 'uniform4fv',\n            type: 'vec4',\n        },\n    };\n    static onEffectMask = `\n  float intR = shaderMask + 1.0;\n  float mask = clamp(intR + width, 0.0, 1.0) - clamp(intR, 0.0, 1.0);\n  return mix(shaderColor, mix(shaderColor, maskColor, maskColor.a), mask);\n  `;\n    static onColorize = `\n    return color;\n  `;\n}\n//# sourceMappingURL=BorderEffect.js.map","/*\n * If not stated otherwise in this file or this component's LICENSE file the\n * following copyright and licenses apply:\n *\n * Copyright 2023 Comcast Cable Communications Management, LLC.\n *\n * Licensed under the Apache License, Version 2.0 (the License);\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { getNormalizedRgbaComponents } from '../../../../lib/utils.js';\nimport { updateFloat32ArrayLengthN } from './EffectUtils.js';\nimport { ShaderEffect, } from './ShaderEffect.js';\n/**\n * Linear Gradient effect over a effect mask\n */\nexport class LinearGradientEffect extends ShaderEffect {\n    static z$__type__Props;\n    name = 'linearGradient';\n    static getEffectKey(props) {\n        return `linearGradient${props.colors.length}`;\n    }\n    static resolveDefaults(props) {\n        const colors = props.colors ?? [0xff000000, 0xffffffff];\n        let stops = props.stops || [];\n        if (stops.length === 0 || stops.length !== colors.length) {\n            const colorsL = colors.length;\n            let i = 0;\n            const tmp = stops;\n            for (; i < colorsL; i++) {\n                if (stops[i]) {\n                    tmp[i] = stops[i];\n                    if (stops[i - 1] === undefined && tmp[i - 2] !== undefined) {\n                        tmp[i - 1] = tmp[i - 2] + (stops[i] - tmp[i - 2]) / 2;\n                    }\n                }\n                else {\n                    tmp[i] = i * (1 / (colors.length - 1));\n                }\n            }\n            stops = tmp;\n        }\n        return {\n            colors,\n            stops,\n            angle: props.angle ?? 0,\n        };\n    }\n    static uniforms = {\n        angle: {\n            value: 0,\n            method: 'uniform1f',\n            type: 'float',\n        },\n        colors: {\n            value: 0xffffffff,\n            validator: (rgbas) => {\n                return rgbas.reduce((acc, val) => acc.concat(getNormalizedRgbaComponents(val)), []);\n            },\n            updateProgramValue: updateFloat32ArrayLengthN,\n            size: (props) => props.colors.length,\n            method: 'uniform4fv',\n            type: 'vec4',\n        },\n        stops: {\n            value: [],\n            size: (props) => props.colors.length,\n            method: 'uniform1fv',\n            type: 'float',\n        },\n    };\n    static methods = {\n        fromLinear: `\n      vec4 function(vec4 linearRGB) {\n        vec4 higher = vec4(1.055)*pow(linearRGB, vec4(1.0/2.4)) - vec4(0.055);\n        vec4 lower = linearRGB * vec4(12.92);\n        return mix(higher, lower, 1.0);\n      }\n    `,\n        toLinear: `\n      vec4 function(vec4 sRGB) {\n        vec4 higher = pow((sRGB + vec4(0.055))/vec4(1.055), vec4(2.4));\n        vec4 lower = sRGB/vec4(12.92);\n        return mix(higher, lower, 1.0);\n      }\n    `,\n        calcPoint: `\n      vec2 function(float d, float angle) {\n        return d * vec2(cos(angle), sin(angle)) + (u_dimensions * 0.5);\n      }\n    `,\n    };\n    static ColorLoop = (amount) => {\n        let loop = '';\n        for (let i = 2; i < amount; i++) {\n            loop += `colorOut = mix(colorOut, colors[${i}], clamp((dist - stops[${i - 1}]) / (stops[${i}] - stops[${i - 1}]), 0.0, 1.0));`;\n        }\n        return loop;\n    };\n    static onColorize = (props) => {\n        const colors = props.colors.length || 1;\n        return `\n      float a = angle - (PI / 180.0 * 90.0);\n      float lineDist = abs(u_dimensions.x * cos(a)) + abs(u_dimensions.y * sin(a));\n      vec2 f = $calcPoint(lineDist * 0.5, a);\n      vec2 t = $calcPoint(lineDist * 0.5, a + PI);\n      vec2 gradVec = t - f;\n      float dist = dot(v_textureCoordinate.xy * u_dimensions - f, gradVec) / dot(gradVec, gradVec);\n\n      float stopCalc = (dist - stops[0]) / (stops[1] - stops[0]);\n      vec4 colorOut = $fromLinear(mix($toLinear(colors[0]), $toLinear(colors[1]), stopCalc));\n      ${this.ColorLoop(colors)}\n      return mix(maskColor, colorOut, clamp(colorOut.a, 0.0, 1.0));\n    `;\n    };\n}\n//# sourceMappingURL=LinearGradientEffect.js.map","/*\n * If not stated otherwise in this file or this component's LICENSE file the\n * following copyright and licenses apply:\n *\n * Copyright 2023 Comcast Cable Communications Management, LLC.\n *\n * Licensed under the Apache License, Version 2.0 (the License);\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { ShaderEffect, } from './ShaderEffect.js';\n/**\n * Grayscale effect grayscales the color values of the current mask color\n */\nexport class GrayscaleEffect extends ShaderEffect {\n    name = 'grayscale';\n    static getEffectKey() {\n        return `grayscale`;\n    }\n    static resolveDefaults(props) {\n        return {\n            amount: props.amount ?? 1,\n        };\n    }\n    static uniforms = {\n        amount: {\n            value: 1,\n            method: 'uniform1f',\n            type: 'float',\n        },\n    };\n    static onColorize = `\n    float grayness = 0.2 * maskColor.r + 0.6 * maskColor.g + 0.2 * maskColor.b;\n    return vec4(amount * vec3(grayness) + (1.0 - amount) * maskColor.rgb, maskColor.a);\n  `;\n}\n//# sourceMappingURL=GrayscaleEffect.js.map","/*\n * If not stated otherwise in this file or this component's LICENSE file the\n * following copyright and licenses apply:\n *\n * Copyright 2023 Comcast Cable Communications Management, LLC.\n *\n * Licensed under the Apache License, Version 2.0 (the License);\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { updateShaderEffectColor } from './EffectUtils.js';\nimport { ShaderEffect, } from './ShaderEffect.js';\n/**\n * The BorderBottomEffect renders a border on the right side of an element\n */\nexport class BorderRightEffect extends ShaderEffect {\n    static z$__type__Props;\n    name = 'borderRight';\n    static getEffectKey() {\n        return `borderRight`;\n    }\n    static resolveDefaults(props) {\n        return {\n            width: props.width ?? 10,\n            color: props.color ?? 0xffffffff,\n        };\n    }\n    static uniforms = {\n        width: {\n            value: 0,\n            method: 'uniform1f',\n            type: 'float',\n        },\n        color: {\n            value: 0xffffffff,\n            updateProgramValue: updateShaderEffectColor,\n            method: 'uniform4fv',\n            type: 'vec4',\n        },\n    };\n    static methods = {\n        fillMask: `\n      float function(float dist) {\n        return clamp(-dist, 0.0, 1.0);\n      }\n    `,\n        rectDist: `\n      float function(vec2 p, vec2 size) {\n        vec2 d = abs(p) - size;\n        return min(max(d.x, d.y), 0.0) + length(max(d, 0.0));\n      }\n    `,\n    };\n    static onEffectMask = `\n  vec2 pos = vec2(u_dimensions.x - width * 0.5, 0.0);\n  float mask = $rectDist(v_textureCoordinate.xy * u_dimensions - pos, vec2(width*0.5, u_dimensions.y));\n  return mix(shaderColor, maskColor, $fillMask(mask));\n  `;\n    static onColorize = `\n    return color;\n  `;\n}\n//# sourceMappingURL=BorderRightEffect.js.map","/*\n * If not stated otherwise in this file or this component's LICENSE file the\n * following copyright and licenses apply:\n *\n * Copyright 2023 Comcast Cable Communications Management, LLC.\n *\n * Licensed under the Apache License, Version 2.0 (the License);\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { updateShaderEffectColor } from './EffectUtils.js';\nimport { ShaderEffect, } from './ShaderEffect.js';\n/**\n * The BorderBottomEffect renders a border on the top side of an element\n */\nexport class BorderTopEffect extends ShaderEffect {\n    static z$__type__Props;\n    name = 'borderTop';\n    static getEffectKey() {\n        return `borderTop`;\n    }\n    static resolveDefaults(props) {\n        return {\n            width: props.width ?? 10,\n            color: props.color ?? 0xffffffff,\n        };\n    }\n    static uniforms = {\n        width: {\n            value: 0,\n            method: 'uniform1f',\n            type: 'float',\n        },\n        color: {\n            value: 0xffffffff,\n            updateProgramValue: updateShaderEffectColor,\n            method: 'uniform4fv',\n            type: 'vec4',\n        },\n    };\n    static methods = {\n        fillMask: `\n      float function(float dist) {\n        return clamp(-dist, 0.0, 1.0);\n      }\n    `,\n        rectDist: `\n      float function(vec2 p, vec2 size) {\n        vec2 d = abs(p) - size;\n        return min(max(d.x, d.y), 0.0) + length(max(d, 0.0));\n      }\n    `,\n    };\n    static onEffectMask = `\n  vec2 pos = vec2(0.0, width * 0.5);\n  float mask = $rectDist(v_textureCoordinate.xy * u_dimensions - pos, vec2(u_dimensions.x, width*0.5));\n  return mix(shaderColor, maskColor, $fillMask(mask));\n  `;\n    static onColorize = `\n    return color;\n  `;\n}\n//# sourceMappingURL=BorderTopEffect.js.map","/*\n * If not stated otherwise in this file or this component's LICENSE file the\n * following copyright and licenses apply:\n *\n * Copyright 2023 Comcast Cable Communications Management, LLC.\n *\n * Licensed under the Apache License, Version 2.0 (the License);\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { updateShaderEffectColor } from './EffectUtils.js';\nimport { ShaderEffect, } from './ShaderEffect.js';\n/**\n * The BorderBottomEffect renders a border on the bottom side of an element\n */\nexport class BorderBottomEffect extends ShaderEffect {\n    static z$__type__Props;\n    name = 'borderBottom';\n    static getEffectKey() {\n        return `borderBottom`;\n    }\n    static resolveDefaults(props) {\n        return {\n            width: props.width ?? 10,\n            color: props.color ?? 0xffffffff,\n        };\n    }\n    static uniforms = {\n        width: {\n            value: 0,\n            method: 'uniform1f',\n            type: 'float',\n        },\n        color: {\n            value: 0xffffffff,\n            updateProgramValue: updateShaderEffectColor,\n            method: 'uniform4fv',\n            type: 'vec4',\n        },\n    };\n    static methods = {\n        fillMask: `\n      float function(float dist) {\n        return clamp(-dist, 0.0, 1.0);\n      }\n    `,\n        rectDist: `\n      float function(vec2 p, vec2 size) {\n        vec2 d = abs(p) - size;\n        return min(max(d.x, d.y), 0.0) + length(max(d, 0.0));\n      }\n    `,\n    };\n    static onEffectMask = `\n  vec2 pos = vec2(0.0, u_dimensions.y - width * 0.5);\n  float mask = $rectDist(v_textureCoordinate.xy * u_dimensions - pos, vec2(u_dimensions.x, width*0.5));\n  return mix(shaderColor, maskColor, $fillMask(mask));\n  `;\n    static onColorize = `\n    return color;\n  `;\n}\n//# sourceMappingURL=BorderBottomEffect.js.map","/*\n * If not stated otherwise in this file or this component's LICENSE file the\n * following copyright and licenses apply:\n *\n * Copyright 2023 Comcast Cable Communications Management, LLC.\n *\n * Licensed under the Apache License, Version 2.0 (the License);\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { updateShaderEffectColor } from './EffectUtils.js';\nimport { ShaderEffect, } from './ShaderEffect.js';\n/**\n * The BorderBottomEffect renders a border on the left of an element\n */\nexport class BorderLeftEffect extends ShaderEffect {\n    static z$__type__Props;\n    name = 'borderLeft';\n    static getEffectKey() {\n        return `borderLeft`;\n    }\n    static resolveDefaults(props) {\n        return {\n            width: props.width ?? 10,\n            color: props.color ?? 0xffffffff,\n        };\n    }\n    static uniforms = {\n        width: {\n            value: 0,\n            method: 'uniform1f',\n            type: 'float',\n        },\n        color: {\n            value: 0xffffffff,\n            updateProgramValue: updateShaderEffectColor,\n            method: 'uniform4fv',\n            type: 'vec4',\n        },\n    };\n    static methods = {\n        fillMask: `\n      float function(float dist) {\n        return clamp(-dist, 0.0, 1.0);\n      }\n    `,\n        rectDist: `\n      float function(vec2 p, vec2 size) {\n        vec2 d = abs(p) - size;\n        return min(max(d.x, d.y), 0.0) + length(max(d, 0.0));\n      }\n    `,\n    };\n    static onEffectMask = `\n  vec2 pos = vec2(width * 0.5, 0.0);\n  float mask = $rectDist(v_textureCoordinate.xy * u_dimensions - pos, vec2(width*0.5, u_dimensions.y));\n  return mix(shaderColor, maskColor, $fillMask(mask));\n  `;\n    static onColorize = `\n    return color;\n  `;\n}\n//# sourceMappingURL=BorderLeftEffect.js.map","import { ShaderEffect, } from './ShaderEffect.js';\n/**\n * Renders a Glitch effect using the incoming texture\n */\nexport class GlitchEffect extends ShaderEffect {\n    static z$__type__Props;\n    name = 'glitch';\n    static getEffectKey(props) {\n        return `glitch`;\n    }\n    static resolveDefaults(props) {\n        return {\n            amplitude: props.amplitude ?? 0.2,\n            narrowness: props.narrowness ?? 4.0,\n            blockiness: props.blockiness ?? 2.0,\n            minimizer: props.minimizer ?? 8.0,\n            time: props.time ?? Date.now(),\n        };\n    }\n    static uniforms = {\n        amplitude: {\n            value: 0,\n            method: 'uniform1f',\n            type: 'float',\n        },\n        narrowness: {\n            value: 0,\n            method: 'uniform1f',\n            type: 'float',\n        },\n        blockiness: {\n            value: 0,\n            method: 'uniform1f',\n            type: 'float',\n        },\n        minimizer: {\n            value: 0,\n            method: 'uniform1f',\n            type: 'float',\n        },\n        time: {\n            value: 0,\n            method: 'uniform1f',\n            updateOnBind: true,\n            updateProgramValue: (values) => {\n                const value = (values.value =\n                    (Date.now() - values.value) % 1000);\n                values.programValue = value;\n            },\n            type: 'float',\n        },\n    };\n    static methods = {\n        rand: `\n      float function(vec2 p, float time) {\n        float t = floor(time * 20.) / 10.;\n        return fract(sin(dot(p, vec2(t * 12.9898, t * 78.233))) * 43758.5453);\n      }\n    `,\n        noise: `\n      float function(vec2 uv, float blockiness, float time) {\n        vec2 lv = fract(uv);\n        vec2 id = floor(uv);\n\n        float n1 = rand(id, time);\n        float n2 = rand(id+vec2(1,0), time);\n        float n3 = rand(id+vec2(0,1), time);\n        float n4 = rand(id+vec2(1,1), time);\n        vec2 u = smoothstep(0.0, 1.0 + blockiness, lv);\n        return mix(mix(n1, n2, u.x), mix(n3, n4, u.x), u.y);\n      }\n    `,\n        fbm: `\n      float function(vec2 uv, int count, float blockiness, float complexity, float time) {\n        float val = 0.0;\n        float amp = 0.5;\n        const int MAX_ITERATIONS = 10;\n\n        for(int i = 0; i < MAX_ITERATIONS; i++) {\n          if(i >= count) {break;}\n          val += amp * noise(uv, blockiness, time);\n          amp *= 0.5;\n          uv *= complexity;\n        }\n        return val;\n      }\n    `,\n    };\n    static onColorize = `\n    vec2 uv = v_textureCoordinate.xy;\n    float aspect = u_dimensions.x / u_dimensions.y;\n    vec2 a = vec2(uv.x * aspect , uv.y);\n    vec2 uv2 = vec2(a.x / u_dimensions.x, exp(a.y));\n\n    float shift = amplitude * pow($fbm(uv2, 4, blockiness, narrowness, time), minimizer);\n    float colR = texture2D(u_texture, vec2(uv.x + shift, uv.y)).r * (1. - shift);\n    float colG = texture2D(u_texture, vec2(uv.x - shift, uv.y)).g * (1. - shift);\n    float colB = texture2D(u_texture, vec2(uv.x - shift, uv.y)).b * (1. - shift);\n\n    vec3 f = vec3(colR, colG, colB);\n    return vec4(f, texture2D(u_texture, vec2(uv.x - shift, uv.y)).a);\n  `;\n}\n//# sourceMappingURL=GlitchEffect.js.map","/*\n * If not stated otherwise in this file or this component's LICENSE file the\n * following copyright and licenses apply:\n *\n * Copyright 2023 Comcast Cable Communications Management, LLC.\n *\n * Licensed under the Apache License, Version 2.0 (the License);\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { updateFloat32ArrayLength4, validateArrayLength4, } from './EffectUtils.js';\nimport { ShaderEffect, } from './ShaderEffect.js';\nexport class FadeOutEffect extends ShaderEffect {\n    static z$__type__Props;\n    name = 'fadeOut';\n    static getEffectKey() {\n        return `fadeOut`;\n    }\n    static uniforms = {\n        fade: {\n            value: 0,\n            method: 'uniform4fv',\n            type: 'vec4',\n            validator: validateArrayLength4,\n            updateProgramValue: updateFloat32ArrayLength4,\n        },\n    };\n    static resolveDefaults(props) {\n        return {\n            fade: props.fade ?? 10,\n        };\n    }\n    static onColorize = `\n  vec2 point = v_textureCoordinate.xy * u_dimensions.xy;\n  vec2 pos1;\n  vec2 pos2;\n  vec2 d;\n  float c;\n  vec4 result = maskColor;\n\n\n  if(fade[0] > 0.0) {\n    pos1 = vec2(point.x, point.y);\n    pos2 = vec2(point.x, point.y + fade[0]);\n    d = pos2 - pos1;\n    c = dot(pos1, d) / dot(d, d);\n    result = mix(vec4(0.0), result, smoothstep(0.0, 1.0, clamp(c, 0.0, 1.0)));\n  }\n\n  if(fade[1] > 0.0) {\n    pos1 = vec2(point.x - u_dimensions.x - fade[1], v_textureCoordinate.y);\n    pos2 = vec2(point.x - u_dimensions.x, v_textureCoordinate.y);\n    d = pos1 - pos2;\n    c = dot(pos2, d) / dot(d, d);\n    result = mix(vec4(0.0), result, smoothstep(0.0, 1.0, clamp(c, 0.0, 1.0)));\n  }\n\n  if(fade[2] > 0.0) {\n    pos1 = vec2(v_textureCoordinate.x, point.y - u_dimensions.y - fade[2]);\n    pos2 = vec2(v_textureCoordinate.x, point.y - u_dimensions.y);\n    d = pos1 - pos2;\n    c = dot(pos2, d) / dot(d, d);\n    result = mix(vec4(0.0), result, smoothstep(0.0, 1.0, clamp(c, 0.0, 1.0)));\n  }\n\n  if(fade[3] > 0.0) {\n    pos1 = vec2(point.x, point.y);\n    pos2 = vec2(point.x + fade[3], point.y);\n    d = pos2 - pos1;\n    c = dot(pos1, d) / dot(d, d);\n    result = mix(vec4(0.0), result, smoothstep(0.0, 1.0, clamp(c, 0.0, 1.0)));\n  }\n\n  return result;\n  `;\n}\n//# sourceMappingURL=FadeOutEffect.js.map","/*\n * If not stated otherwise in this file or this component's LICENSE file the\n * following copyright and licenses apply:\n *\n * Copyright 2023 Comcast Cable Communications Management, LLC.\n *\n * Licensed under the Apache License, Version 2.0 (the License);\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { getNormalizedRgbaComponents } from '../../../../lib/utils.js';\nimport { updateFloat32ArrayLength2, updateFloat32ArrayLengthN, } from './EffectUtils.js';\nimport { ShaderEffect, } from './ShaderEffect.js';\nexport class RadialGradientEffect extends ShaderEffect {\n    static z$__type__Props;\n    name = 'radialGradient';\n    static getEffectKey(props) {\n        return `radialGradient${props.colors.length}`;\n    }\n    static resolveDefaults(props) {\n        const colors = props.colors ?? [0xff000000, 0xffffffff];\n        let stops = props.stops || [];\n        if (stops.length === 0 || stops.length !== colors.length) {\n            const colorsL = colors.length;\n            let i = 0;\n            const tmp = stops;\n            for (; i < colorsL; i++) {\n                if (stops[i]) {\n                    tmp[i] = stops[i];\n                    if (stops[i - 1] === undefined && tmp[i - 2] !== undefined) {\n                        tmp[i - 1] = tmp[i - 2] + (stops[i] - tmp[i - 2]) / 2;\n                    }\n                }\n                else {\n                    tmp[i] = i * (1 / (colors.length - 1));\n                }\n            }\n            stops = tmp;\n        }\n        return {\n            colors,\n            stops,\n            width: props.width ?? 0,\n            height: props.height ?? props.width ?? 0,\n            pivot: props.pivot ?? [0.5, 0.5],\n        };\n    }\n    static uniforms = {\n        width: {\n            value: 0,\n            method: 'uniform1f',\n            type: 'float',\n        },\n        height: {\n            value: 0,\n            method: 'uniform1f',\n            type: 'float',\n        },\n        pivot: {\n            value: [0.5, 0.5],\n            updateProgramValue: updateFloat32ArrayLength2,\n            method: 'uniform2fv',\n            type: 'vec2',\n        },\n        colors: {\n            value: 0xffffffff,\n            validator: (rgbas) => {\n                return rgbas.reduce((acc, val) => acc.concat(getNormalizedRgbaComponents(val)), []);\n            },\n            updateProgramValue: updateFloat32ArrayLengthN,\n            size: (props) => props.colors.length,\n            method: 'uniform4fv',\n            type: 'vec4',\n        },\n        stops: {\n            value: [],\n            size: (props) => props.colors.length,\n            method: 'uniform1fv',\n            type: 'float',\n        },\n    };\n    static ColorLoop = (amount) => {\n        let loop = '';\n        for (let i = 2; i < amount; i++) {\n            loop += `colorOut = mix(colorOut, colors[${i}], clamp((dist - stops[${i - 1}]) / (stops[${i}] - stops[${i - 1}]), 0.0, 1.0));`;\n        }\n        return loop;\n    };\n    static onColorize = (props) => {\n        const colors = props.colors.length || 1;\n        return `\n      vec2 point = v_textureCoordinate.xy * u_dimensions;\n      vec2 projection = vec2(pivot.x * u_dimensions.x, pivot.y * u_dimensions.y);\n\n      float dist = length((point - projection) / vec2(width, height));\n\n      float stopCalc = (dist - stops[0]) / (stops[1] - stops[0]);\n      vec4 colorOut = mix(colors[0], colors[1], stopCalc);\n      ${this.ColorLoop(colors)}\n      return mix(maskColor, colorOut, clamp(colorOut.a, 0.0, 1.0));\n    `;\n    };\n}\n//# sourceMappingURL=RadialGradientEffect.js.map","/*\n * If not stated otherwise in this file or this component's LICENSE file the\n * following copyright and licenses apply:\n *\n * Copyright 2023 Comcast Cable Communications Management, LLC.\n *\n * Licensed under the Apache License, Version 2.0 (the License);\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { getNormalizedRgbaComponents } from '../../../../lib/utils.js';\nimport { updateShaderEffectColor } from './EffectUtils.js';\nimport { ShaderEffect, } from './ShaderEffect.js';\n/**\n * The RadialProgressEffect renders a border along all edges of an element\n */\nexport class RadialProgressEffect extends ShaderEffect {\n    static z$__type__Props;\n    name = 'radialProgress';\n    static getEffectKey() {\n        return `radialProgress`;\n    }\n    static resolveDefaults(props) {\n        return {\n            width: props.width ?? 10,\n            progress: props.progress ?? 0.5,\n            offset: props.offset ?? 0,\n            range: props.range ?? Math.PI * 2,\n            rounded: props.rounded ?? false,\n            radius: props.radius ?? 1,\n            color: props.color ?? 0xffffffff,\n        };\n    }\n    static uniforms = {\n        width: {\n            value: 0,\n            method: 'uniform1f',\n            type: 'float',\n        },\n        progress: {\n            value: 0.5,\n            method: 'uniform1f',\n            type: 'float',\n        },\n        offset: {\n            value: 0,\n            method: 'uniform1f',\n            type: 'float',\n        },\n        range: {\n            value: 0,\n            method: 'uniform1f',\n            type: 'float',\n        },\n        rounded: {\n            value: 0,\n            method: 'uniform1f',\n            type: 'float',\n            validator: (value) => {\n                return value ? 1 : 0;\n            },\n        },\n        radius: {\n            value: 1,\n            method: 'uniform1f',\n            type: 'float',\n        },\n        color: {\n            value: 0xffffffff,\n            updateProgramValue: updateShaderEffectColor,\n            method: 'uniform4fv',\n            type: 'vec4',\n        },\n    };\n    static methods = {\n        rotateUV: `\n    vec2 function(vec2 uv, float d) {\n      float s = sin(d);\n      float c = cos(d);\n      mat2 rotMatrix = mat2(c, -s, s, c);\n      return uv * rotMatrix;\n    }\n    `,\n        drawDot: `\n    float function(vec2 uv, vec2 p, float r) {\n      uv += p;\n      float circle = length(uv) - r;\n      return clamp(-circle, 0.0, 1.0);\n    }\n    `,\n    };\n    static onEffectMask = `\n    float outerRadius = radius * u_dimensions.y * 0.5;\n\n    float endAngle = range * progress - 0.0005;\n\n    vec2 uv = v_textureCoordinate.xy * u_dimensions.xy - u_dimensions * 0.5;\n\n    uv = $rotateUV(uv, -(offset));\n    float linewidth = width * u_pixelRatio;\n    float circle = length(uv) - (outerRadius - linewidth) ;\n    circle = abs(circle) - linewidth;\n    circle = clamp(-circle, 0.0, 1.0);\n\n    float angle = (atan(uv.x, -uv.y) / 3.14159265359 * 0.5);\n    float p = endAngle / (PI * 2.);\n\n    circle *= step(fract(angle), fract(p));\n\n    circle = rounded < 1. ? circle : max(circle, $drawDot(uv, vec2(0, outerRadius - linewidth), linewidth));\n    circle = rounded < 1. ? circle : max(circle, $drawDot($rotateUV(uv, -(endAngle)), vec2(0, outerRadius - linewidth), linewidth));\n\n    return mix(shaderColor, maskColor, circle);\n  `;\n    static onColorize = `\n    return color;\n  `;\n}\n//# sourceMappingURL=RadialProgressEffect.js.map","import { updateWebSafeRadius, validateArrayLength4 } from './EffectUtils.js';\nimport { ShaderEffect, } from './ShaderEffect.js';\n/**\n * Masks the current maskcolor a holepunch effect with rounded corners similar to {@link RoundedRectangle}\n */\nexport class HolePunchEffect extends ShaderEffect {\n    static z$__type__Props;\n    name = 'holePunch';\n    static getEffectKey() {\n        return `holePunch`;\n    }\n    static uniforms = {\n        x: {\n            value: 0,\n            method: 'uniform1f',\n            type: 'float',\n        },\n        y: {\n            value: 0,\n            method: 'uniform1f',\n            type: 'float',\n        },\n        width: {\n            value: 0,\n            method: 'uniform1f',\n            type: 'float',\n        },\n        height: {\n            value: 0,\n            method: 'uniform1f',\n            type: 'float',\n        },\n        radius: {\n            value: 0,\n            method: 'uniform4fv',\n            type: 'vec4',\n            updateOnBind: true,\n            validator: validateArrayLength4,\n            updateProgramValue: updateWebSafeRadius,\n        },\n    };\n    static resolveDefaults(props) {\n        return {\n            x: props.x || 0,\n            y: props.y || 0,\n            width: props.width || 50,\n            height: props.height || 50,\n            radius: props.radius ?? 0,\n        };\n    }\n    static methods = {\n        fillMask: `\n      float function(float dist) {\n        return clamp(-dist, 0.0, 1.0);\n      }\n    `,\n        boxDist: `\n      float function(vec2 p, vec2 size, float radius) {\n        size -= vec2(radius);\n        vec2 d = abs(p) - size;\n        return min(max(d.x, d.y), 0.0) + length(max(d, 0.0)) - radius;\n      }\n    `,\n    };\n    static onShaderMask = `\n  vec2 halfDimensions = u_dimensions * 0.5;\n  vec2 size = vec2(width, height) * 0.5;\n  vec2 basePos = v_textureCoordinate.xy * u_dimensions.xy - vec2(x, y);\n  vec2 pos = basePos - size;\n  float r = radius[0] * step(pos.x, 0.5) * step(pos.y, 0.5);\n  r = r + radius[1] * step(0.5, pos.x) * step(pos.y, 0.5);\n  r = r + radius[2] * step(0.5, pos.x) * step(0.5, pos.y);\n  r = r + radius[3] * step(pos.x, 0.5) * step(0.5, pos.y);\n  return $boxDist(pos, size, r);\n  `;\n    static onEffectMask = `\n  return mix(maskColor, vec4(0.0), $fillMask(shaderMask));\n  `;\n}\n//# sourceMappingURL=HolePunchEffect.js.map","/*\n * If not stated otherwise in this file or this component's LICENSE file the\n * following copyright and licenses apply:\n *\n * Copyright 2023 Comcast Cable Communications Management, LLC.\n *\n * Licensed under the Apache License, Version 2.0 (the License);\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { CoreShader } from '../../CoreShader.js';\nexport const ROUNDED_RECTANGLE_SHADER_TYPE = 'RoundedRectangle';\nexport class UnsupportedShader extends CoreShader {\n    shType;\n    constructor(shType) {\n        super();\n        this.shType = shType;\n        if (shType !== ROUNDED_RECTANGLE_SHADER_TYPE) {\n            console.warn('Unsupported shader:', shType);\n        }\n    }\n    bindRenderOp() {\n        // noop\n    }\n    bindProps() {\n        // noop\n    }\n    attach() {\n        // noop\n    }\n    detach() {\n        // noop\n    }\n}\n//# sourceMappingURL=UnsupportedShader.js.map","/**\n * Shader Controller Class\n *\n * @remarks\n * This class is used to control shader props.\n */\nexport class ShaderController {\n    type;\n    shader;\n    resolvedProps;\n    props;\n    constructor(type, shader, props, stage) {\n        this.type = type;\n        this.shader = shader;\n        this.resolvedProps = props;\n        const keys = Object.keys(props);\n        const l = keys.length;\n        const definedProps = {};\n        for (let i = 0; i < l; i++) {\n            const name = keys[i];\n            Object.defineProperty(definedProps, name, {\n                get: () => {\n                    return this.resolvedProps[name];\n                },\n                set: (value) => {\n                    this.resolvedProps[name] = value;\n                    stage.requestRender();\n                },\n            });\n        }\n        this.props = definedProps;\n    }\n    getResolvedProps() {\n        return this.resolvedProps;\n    }\n}\n//# sourceMappingURL=ShaderController.js.map","export class DynamicShaderController {\n    shader;\n    resolvedProps;\n    props;\n    type;\n    constructor(shader, props, shManager) {\n        this.shader = shader;\n        this.type = 'DynamicShader';\n        this.resolvedProps = props;\n        const effectConstructors = shManager.getRegisteredEffects();\n        const definedProps = {};\n        const effects = props.effects;\n        const effectsLength = effects.length;\n        for (let i = 0; i < effectsLength; i++) {\n            const { name: effectName, props: effectProps, type: effectType, } = effects[i];\n            if (effectName === undefined) {\n                continue;\n            }\n            const definedEffectProps = {};\n            const propEntries = Object.keys(effectProps);\n            const propEntriesLength = propEntries.length;\n            for (let j = 0; j < propEntriesLength; j++) {\n                const propName = propEntries[j];\n                Object.defineProperty(definedEffectProps, propName, {\n                    get: () => {\n                        return this.resolvedProps.effects[i].props[propName].value;\n                    },\n                    set: (value) => {\n                        const target = this.resolvedProps.effects[i].props[propName];\n                        target.value = value;\n                        if (target.hasValidator) {\n                            value = target.validatedValue = effectConstructors[effectType]\n                                .uniforms[propName]?.validator(value, effectProps);\n                        }\n                        if (target.hasProgramValueUpdater) {\n                            effectConstructors[effectType].uniforms[propName]\n                                ?.updateProgramValue(target);\n                        }\n                        else {\n                            target.programValue = value;\n                        }\n                        shManager.renderer.stage.requestRender();\n                    },\n                });\n            }\n            Object.defineProperty(definedProps, effectName, {\n                get: () => {\n                    return definedEffectProps;\n                },\n            });\n        }\n        this.props = definedProps;\n    }\n    getResolvedProps() {\n        return this.resolvedProps;\n    }\n}\n//# sourceMappingURL=DynamicShaderController.js.map","import { DefaultShader } from './renderers/webgl/shaders/DefaultShader.js';\nimport { DefaultShaderBatched } from './renderers/webgl/shaders/DefaultShaderBatched.js';\nimport { DynamicShader, } from './renderers/webgl/shaders/DynamicShader.js';\nimport { RoundedRectangle } from './renderers/webgl/shaders/RoundedRectangle.js';\nimport { SdfShader } from './renderers/webgl/shaders/SdfShader.js';\nimport { RadiusEffect } from './renderers/webgl/shaders/effects/RadiusEffect.js';\nimport { BorderEffect } from './renderers/webgl/shaders/effects/BorderEffect.js';\nimport { LinearGradientEffect, } from './renderers/webgl/shaders/effects/LinearGradientEffect.js';\nimport { GrayscaleEffect, } from './renderers/webgl/shaders/effects/GrayscaleEffect.js';\nimport { BorderRightEffect } from './renderers/webgl/shaders/effects/BorderRightEffect.js';\nimport { BorderTopEffect } from './renderers/webgl/shaders/effects/BorderTopEffect.js';\nimport { BorderBottomEffect } from './renderers/webgl/shaders/effects/BorderBottomEffect.js';\nimport { BorderLeftEffect } from './renderers/webgl/shaders/effects/BorderLeftEffect.js';\nimport { GlitchEffect, } from './renderers/webgl/shaders/effects/GlitchEffect.js';\nimport { FadeOutEffect, } from './renderers/webgl/shaders/effects/FadeOutEffect.js';\nimport { RadialGradientEffect, } from './renderers/webgl/shaders/effects/RadialGradientEffect.js';\nimport { RadialProgressEffect, } from './renderers/webgl/shaders/effects/RadialProgressEffect.js';\nimport { HolePunchEffect, } from './renderers/webgl/shaders/effects/HolePunchEffect.js';\nimport { WebGlCoreShader } from './renderers/webgl/WebGlCoreShader.js';\nimport { UnsupportedShader } from './renderers/canvas/shaders/UnsupportedShader.js';\nimport { ShaderController } from '../main-api/ShaderController.js';\nimport { DynamicShaderController, } from '../main-api/DynamicShaderController.js';\nexport class CoreShaderManager {\n    shCache = new Map();\n    shConstructors = {};\n    attachedShader = null;\n    effectConstructors = {};\n    renderer;\n    constructor() {\n        this.registerShaderType('DefaultShader', DefaultShader);\n        this.registerShaderType('DefaultShaderBatched', DefaultShaderBatched);\n        this.registerShaderType('RoundedRectangle', RoundedRectangle);\n        this.registerShaderType('DynamicShader', DynamicShader);\n        this.registerShaderType('SdfShader', SdfShader);\n        this.registerEffectType('border', BorderEffect);\n        this.registerEffectType('borderBottom', BorderBottomEffect);\n        this.registerEffectType('borderLeft', BorderLeftEffect);\n        this.registerEffectType('borderRight', BorderRightEffect);\n        this.registerEffectType('borderTop', BorderTopEffect);\n        this.registerEffectType('fadeOut', FadeOutEffect);\n        this.registerEffectType('linearGradient', LinearGradientEffect);\n        this.registerEffectType('radialGradient', RadialGradientEffect);\n        this.registerEffectType('grayscale', GrayscaleEffect);\n        this.registerEffectType('glitch', GlitchEffect);\n        this.registerEffectType('radius', RadiusEffect);\n        this.registerEffectType('radialProgress', RadialProgressEffect);\n        this.registerEffectType('holePunch', HolePunchEffect);\n    }\n    registerShaderType(shType, shClass) {\n        this.shConstructors[shType] = shClass;\n    }\n    registerEffectType(effectType, effectClass) {\n        this.effectConstructors[effectType] = effectClass;\n    }\n    getRegisteredEffects() {\n        return this.effectConstructors;\n    }\n    getRegisteredShaders() {\n        return this.shConstructors;\n    }\n    /**\n     * Loads a shader (if not already loaded) and returns a controller for it.\n     *\n     * @param shType\n     * @param props\n     * @returns\n     */\n    loadShader(shType, props) {\n        if (!this.renderer) {\n            throw new Error(`Renderer is not been defined`);\n        }\n        const ShaderClass = this.shConstructors[shType];\n        if (!ShaderClass) {\n            throw new Error(`Shader type \"${shType}\" is not registered`);\n        }\n        if (this.renderer.mode === 'canvas' &&\n            ShaderClass.prototype instanceof WebGlCoreShader) {\n            return this._createShaderCtr(shType, new UnsupportedShader(shType), props);\n        }\n        if (shType === 'DynamicShader') {\n            return this.loadDynamicShader(props);\n        }\n        const resolvedProps = ShaderClass.resolveDefaults(props);\n        const cacheKey = ShaderClass.makeCacheKey(resolvedProps) || ShaderClass.name;\n        if (cacheKey && this.shCache.has(cacheKey)) {\n            return this._createShaderCtr(shType, this.shCache.get(cacheKey), resolvedProps);\n        }\n        // @ts-expect-error ShaderClass WILL accept a Renderer\n        const shader = new ShaderClass(this.renderer, props);\n        if (cacheKey) {\n            this.shCache.set(cacheKey, shader);\n        }\n        return this._createShaderCtr(shType, shader, resolvedProps);\n    }\n    loadDynamicShader(props) {\n        if (!this.renderer) {\n            throw new Error(`Renderer is not been defined`);\n        }\n        const resolvedProps = DynamicShader.resolveDefaults(props, this.effectConstructors);\n        const cacheKey = DynamicShader.makeCacheKey(resolvedProps, this.effectConstructors);\n        if (cacheKey && this.shCache.has(cacheKey)) {\n            return this._createDynShaderCtr(this.shCache.get(cacheKey), resolvedProps);\n        }\n        const shader = new DynamicShader(this.renderer, props, this.effectConstructors);\n        if (cacheKey) {\n            this.shCache.set(cacheKey, shader);\n        }\n        return this._createDynShaderCtr(shader, resolvedProps);\n    }\n    _createShaderCtr(type, shader, props) {\n        return new ShaderController(type, shader, props, this.renderer.stage);\n    }\n    _createDynShaderCtr(shader, props) {\n        return new DynamicShaderController(shader, props, this);\n    }\n    useShader(shader) {\n        if (this.attachedShader === shader) {\n            return;\n        }\n        if (this.attachedShader) {\n            this.attachedShader.detach();\n        }\n        shader.attach();\n        this.attachedShader = shader;\n    }\n}\n//# sourceMappingURL=CoreShaderManager.js.map","/*\n * If not stated otherwise in this file or this component's LICENSE file the\n * following copyright and licenses apply:\n *\n * Copyright 2023 Comcast Cable Communications Management, LLC.\n *\n * Licensed under the Apache License, Version 2.0 (the License);\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nconst trPropSetterDefaults = {\n    x: (state, value) => {\n        state.props.x = value;\n    },\n    y: (state, value) => {\n        state.props.y = value;\n    },\n    width: (state, value) => {\n        state.props.width = value;\n    },\n    height: (state, value) => {\n        state.props.height = value;\n    },\n    color: (state, value) => {\n        state.props.color = value;\n    },\n    zIndex: (state, value) => {\n        state.props.zIndex = value;\n    },\n    fontFamily: (state, value) => {\n        state.props.fontFamily = value;\n    },\n    fontWeight: (state, value) => {\n        state.props.fontWeight = value;\n    },\n    fontStyle: (state, value) => {\n        state.props.fontStyle = value;\n    },\n    fontStretch: (state, value) => {\n        state.props.fontStretch = value;\n    },\n    fontSize: (state, value) => {\n        state.props.fontSize = value;\n    },\n    text: (state, value) => {\n        state.props.text = value;\n    },\n    textAlign: (state, value) => {\n        state.props.textAlign = value;\n    },\n    contain: (state, value) => {\n        state.props.contain = value;\n    },\n    offsetY: (state, value) => {\n        state.props.offsetY = value;\n    },\n    scrollable: (state, value) => {\n        state.props.scrollable = value;\n    },\n    scrollY: (state, value) => {\n        state.props.scrollY = value;\n    },\n    letterSpacing: (state, value) => {\n        state.props.letterSpacing = value;\n    },\n    lineHeight: (state, value) => {\n        state.props.lineHeight = value;\n    },\n    maxLines: (state, value) => {\n        state.props.maxLines = value;\n    },\n    textBaseline: (state, value) => {\n        state.props.textBaseline = value;\n    },\n    verticalAlign: (state, value) => {\n        state.props.verticalAlign = value;\n    },\n    overflowSuffix: (state, value) => {\n        state.props.overflowSuffix = value;\n    },\n    debug: (state, value) => {\n        state.props.debug = value;\n    },\n};\nexport class TextRenderer {\n    stage;\n    set;\n    constructor(stage) {\n        this.stage = stage;\n        const propSetters = {\n            ...trPropSetterDefaults,\n            ...this.getPropertySetters(),\n        };\n        // For each prop setter add a wrapper method that checks if the prop is\n        // different before calling the setter\n        this.set = Object.freeze(Object.fromEntries(Object.entries(propSetters).map(([key, setter]) => {\n            return [\n                key,\n                (state, value) => {\n                    if (state.props[key] !== value) {\n                        setter(state, value);\n                        // Assume any prop change will require a render\n                        // This is required because otherwise a paused RAF will result\n                        // in renders when text props are changed.\n                        this.stage.requestRender();\n                    }\n                },\n            ];\n        })));\n    }\n    setStatus(state, status, error) {\n        // Don't emit the same status twice\n        if (state.status === status) {\n            return;\n        }\n        state.status = status;\n        state.emitter.emit(status, error);\n    }\n    /**\n     * Allows the CoreTextNode to communicate changes to the isRenderable state of\n     * the itself.\n     *\n     * @param state\n     * @param renderable\n     */\n    setIsRenderable(state, renderable) {\n        state.isRenderable = renderable;\n    }\n    /**\n     * Destroy/Clean up the state object\n     *\n     * @remarks\n     * Opposite of createState(). Frees any event listeners / resources held by\n     * the state that may not reliably get garbage collected.\n     *\n     * @param state\n     */\n    destroyState(state) {\n        this.setStatus(state, 'destroyed');\n        state.emitter.removeAllListeners();\n    }\n    /**\n     * Schedule a state update via queueMicrotask\n     *\n     * @remarks\n     * This method is used to schedule a state update via queueMicrotask. This\n     * method should be called whenever a state update is needed, and it will\n     * ensure that the state is only updated once per microtask.\n     * @param state\n     * @returns\n     */\n    scheduleUpdateState(state) {\n        if (state.updateScheduled) {\n            return;\n        }\n        state.updateScheduled = true;\n        queueMicrotask(() => {\n            // If the state has been destroyed, don't update it\n            if (state.status === 'destroyed') {\n                return;\n            }\n            state.updateScheduled = false;\n            this.updateState(state);\n        });\n    }\n}\n//# sourceMappingURL=TextRenderer.js.map","/*\n * If not stated otherwise in this file or this component's LICENSE file the\n * following copyright and licenses apply:\n *\n * Copyright 2023 Comcast Cable Communications Management, LLC.\n *\n * Licensed under the Apache License, Version 2.0 (the License);\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * Class that keeps track of the invocations of Context methods when\n * the `enableContextSpy` renderer option is enabled.\n */\nexport class ContextSpy {\n    data = {};\n    reset() {\n        this.data = {};\n    }\n    increment(name) {\n        if (!this.data[name]) {\n            this.data[name] = 0;\n        }\n        this.data[name]++;\n    }\n    getData() {\n        return { ...this.data };\n    }\n}\n//# sourceMappingURL=ContextSpy.js.map","import { bytesToMb } from './utils.js';\n/**\n * LRU (Least Recently Used) style memory manager for textures\n *\n * @remarks\n * This class is responsible for managing the memory usage of textures\n * in the Renderer. It keeps track of the memory used by each texture\n * and triggers a cleanup when the memory usage exceeds a critical\n * threshold (`criticalThreshold`).\n *\n * The cleanup process will free up non-renderable textures until the\n * memory usage is below a target threshold (`targetThresholdLevel`).\n *\n * The memory manager's clean up process will also be triggered when the\n * scene is idle for a certain amount of time (`cleanupInterval`).\n */\nexport class TextureMemoryManager {\n    stage;\n    memUsed = 0;\n    loadedTextures = new Map();\n    criticalThreshold;\n    targetThreshold;\n    cleanupInterval;\n    debugLogging;\n    lastCleanupTime = 0;\n    criticalCleanupRequested = false;\n    /**\n     * The current frame time in milliseconds\n     *\n     * @remarks\n     * This is used to determine when to perform Idle Texture Cleanups.\n     *\n     * Set by stage via `updateFrameTime` method.\n     */\n    frameTime = 0;\n    constructor(stage, settings) {\n        this.stage = stage;\n        const { criticalThreshold } = settings;\n        this.criticalThreshold = Math.round(criticalThreshold);\n        const targetFraction = Math.max(0, Math.min(1, settings.targetThresholdLevel));\n        this.targetThreshold = Math.round(criticalThreshold * targetFraction);\n        this.cleanupInterval = settings.cleanupInterval;\n        this.debugLogging = settings.debugLogging;\n        if (settings.debugLogging) {\n            let lastMemUse = 0;\n            setInterval(() => {\n                if (lastMemUse !== this.memUsed) {\n                    lastMemUse = this.memUsed;\n                    console.log(`[TextureMemoryManager] Memory used: ${bytesToMb(this.memUsed)} mb / ${bytesToMb(this.criticalThreshold)} mb (${((this.memUsed / this.criticalThreshold) *\n                        100).toFixed(1)}%)`);\n                }\n            }, 1000);\n        }\n        // If the threshold is 0, we disable the memory manager by replacing the\n        // setTextureMemUse method with a no-op function.\n        if (criticalThreshold === 0) {\n            // eslint-disable-next-line @typescript-eslint/no-empty-function\n            this.setTextureMemUse = () => { };\n        }\n    }\n    setTextureMemUse(texture, byteSize) {\n        if (this.loadedTextures.has(texture)) {\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            this.memUsed -= this.loadedTextures.get(texture);\n        }\n        if (byteSize === 0) {\n            this.loadedTextures.delete(texture);\n            return;\n        }\n        else {\n            this.memUsed += byteSize;\n            this.loadedTextures.set(texture, byteSize);\n        }\n        if (this.memUsed > this.criticalThreshold) {\n            this.criticalCleanupRequested = true;\n        }\n    }\n    checkCleanup() {\n        return (this.criticalCleanupRequested ||\n            (this.memUsed > this.targetThreshold &&\n                this.frameTime - this.lastCleanupTime >= this.cleanupInterval));\n    }\n    cleanup() {\n        const critical = this.criticalCleanupRequested;\n        this.lastCleanupTime = this.frameTime;\n        this.criticalCleanupRequested = false;\n        if (critical) {\n            this.stage.queueFrameEvent('criticalCleanup', {\n                memUsed: this.memUsed,\n                criticalThreshold: this.criticalThreshold,\n            });\n        }\n        if (this.debugLogging) {\n            console.log(`[TextureMemoryManager] Cleaning up textures. Critical: ${critical}`);\n        }\n        /**\n         * Sort the loaded textures by renderability, then by last touch time.\n         *\n         * This will ensure that the array is ordered by the following:\n         * - Non-renderable textures, starting at the least recently rendered\n         * - Renderable textures, starting at the least recently rendered\n         */\n        const textures = [...this.loadedTextures.keys()].sort((textureA, textureB) => {\n            const txARenderable = textureA.renderable;\n            const txBRenderable = textureB.renderable;\n            if (txARenderable === txBRenderable) {\n                return (textureA.lastRenderableChangeTime -\n                    textureB.lastRenderableChangeTime);\n            }\n            else if (txARenderable) {\n                return 1;\n            }\n            else if (txBRenderable) {\n                return -1;\n            }\n            return 0;\n        });\n        // Free non-renderable textures until we reach the target threshold\n        const memTarget = this.targetThreshold;\n        const txManager = this.stage.txManager;\n        for (const texture of textures) {\n            if (texture.renderable) {\n                // Stop at the first renderable texture (The rest are renderable because of the sort above)\n                // We don't want to free renderable textures because they will just likely be reloaded in the next frame\n                break;\n            }\n            if (texture.preventCleanup === false) {\n                texture.ctxTexture.free();\n                txManager.removeTextureFromCache(texture);\n            }\n            if (this.memUsed <= memTarget) {\n                // Stop once we've freed enough textures to reach under the target threshold\n                break;\n            }\n        }\n        if (this.memUsed >= this.criticalThreshold) {\n            this.stage.queueFrameEvent('criticalCleanupFailed', {\n                memUsed: this.memUsed,\n                criticalThreshold: this.criticalThreshold,\n            });\n            console.warn(`[TextureMemoryManager] Memory usage above critical threshold after cleanup: ${this.memUsed}`);\n        }\n    }\n    /**\n     * Get the current texture memory usage information\n     *\n     * @remarks\n     * This method is for debugging purposes and returns information about the\n     * current memory usage of the textures in the Renderer.\n     */\n    getMemoryInfo() {\n        let renderableTexturesLoaded = 0;\n        const renderableMemUsed = [...this.loadedTextures.keys()].reduce(\n        // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n        (acc, texture) => {\n            renderableTexturesLoaded += texture.renderable ? 1 : 0;\n            return (acc + (texture.renderable ? this.loadedTextures.get(texture) : 0));\n        }, 0);\n        return {\n            criticalThreshold: this.criticalThreshold,\n            targetThreshold: this.targetThreshold,\n            renderableMemUsed,\n            memUsed: this.memUsed,\n            renderableTexturesLoaded,\n            loadedTextures: this.loadedTextures.size,\n        };\n    }\n}\n//# sourceMappingURL=TextureMemoryManager.js.map","/*\n * If not stated otherwise in this file or this component's LICENSE file the\n * following copyright and licenses apply:\n *\n * Copyright 2023 Comcast Cable Communications Management, LLC.\n *\n * Licensed under the Apache License, Version 2.0 (the License);\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nexport class CoreContextTexture {\n    textureSource;\n    memManager;\n    constructor(memManager, textureSource) {\n        this.memManager = memManager;\n        this.textureSource = textureSource;\n    }\n    setTextureMemUse(byteSize) {\n        this.memManager.setTextureMemUse(this.textureSource, byteSize);\n    }\n    get renderable() {\n        return this.textureSource.renderable;\n    }\n}\n//# sourceMappingURL=CoreContextTexture.js.map","/*\n * If not stated otherwise in this file or this component's LICENSE file the\n * following copyright and licenses apply:\n *\n * Copyright 2023 Comcast Cable Communications Management, LLC.\n *\n * Licensed under the Apache License, Version 2.0 (the License);\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { CoreContextTexture } from './CoreContextTexture.js';\nexport class CoreRenderer {\n    options;\n    mode;\n    stage;\n    //// Core Managers\n    txManager;\n    txMemManager;\n    shManager;\n    rttNodes = [];\n    constructor(options) {\n        this.options = options;\n        this.stage = options.stage;\n        this.txManager = options.txManager;\n        this.txMemManager = options.txMemManager;\n        this.shManager = options.shManager;\n    }\n}\n//# sourceMappingURL=CoreRenderer.js.map","/*\n * If not stated otherwise in this file or this component's LICENSE file the\n * following copyright and licenses apply:\n *\n * Copyright 2023 Comcast Cable Communications Management, LLC.\n *\n * Licensed under the Apache License, Version 2.0 (the License);\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { CoreNode, UpdateType } from './CoreNode.js';\nimport { assertTruthy } from '../utils.js';\nimport { Matrix3d } from './lib/Matrix3d.js';\n/**\n * An CoreNode in the Renderer scene graph that renders text.\n *\n * @remarks\n * A Text Node is the second graphical building block of the Renderer scene\n * graph. It renders text using a specific text renderer that is automatically\n * chosen based on the font requested and what type of fonts are installed\n * into an app.\n *\n * The text renderer can be overridden by setting the `textRendererOverride`\n *\n * The `texture` and `shader` properties are managed by loaded text renderer and\n * should not be set directly.\n *\n * For non-text rendering, see {@link CoreNode}.\n */\nexport class CoreTextNode extends CoreNode {\n    textRenderer;\n    trState;\n    _textRendererOverride = null;\n    constructor(stage, props, textRenderer) {\n        super(stage, props);\n        this._textRendererOverride = props.textRendererOverride;\n        this.textRenderer = textRenderer;\n        const textRendererState = this.createState({\n            x: this.absX,\n            y: this.absY,\n            width: props.width,\n            height: props.height,\n            textAlign: props.textAlign,\n            color: props.color,\n            zIndex: props.zIndex,\n            contain: props.contain,\n            scrollable: props.scrollable,\n            scrollY: props.scrollY,\n            offsetY: props.offsetY,\n            letterSpacing: props.letterSpacing,\n            debug: props.debug,\n            fontFamily: props.fontFamily,\n            fontSize: props.fontSize,\n            fontStretch: props.fontStretch,\n            fontStyle: props.fontStyle,\n            fontWeight: props.fontWeight,\n            text: props.text,\n            lineHeight: props.lineHeight,\n            maxLines: props.maxLines,\n            textBaseline: props.textBaseline,\n            verticalAlign: props.verticalAlign,\n            overflowSuffix: props.overflowSuffix,\n        });\n        this.trState = textRendererState;\n    }\n    onTextLoaded = () => {\n        const { contain } = this;\n        const setWidth = this.trState.props.width;\n        const setHeight = this.trState.props.height;\n        const calcWidth = this.trState.textW || 0;\n        const calcHeight = this.trState.textH || 0;\n        if (contain === 'both') {\n            this.props.width = setWidth;\n            this.props.height = setHeight;\n        }\n        else if (contain === 'width') {\n            this.props.width = setWidth;\n            this.props.height = calcHeight;\n        }\n        else if (contain === 'none') {\n            this.props.width = calcWidth;\n            this.props.height = calcHeight;\n        }\n        this.updateLocalTransform();\n        // Incase the RAF loop has been stopped already before text was loaded,\n        // we request a render so it can be drawn.\n        this.stage.requestRender();\n        this.emit('loaded', {\n            type: 'text',\n            dimensions: {\n                width: this.trState.textW || 0,\n                height: this.trState.textH || 0,\n            },\n        });\n    };\n    onTextFailed = (target, error) => {\n        this.emit('failed', {\n            type: 'text',\n            error,\n        });\n    };\n    get width() {\n        return this.props.width;\n    }\n    set width(value) {\n        this.props.width = value;\n        this.textRenderer.set.width(this.trState, value);\n        // If not containing, we must update the local transform to account for the\n        // new width\n        if (this.contain === 'none') {\n            this.setUpdateType(UpdateType.Local);\n        }\n    }\n    get height() {\n        return this.props.height;\n    }\n    set height(value) {\n        this.props.height = value;\n        this.textRenderer.set.height(this.trState, value);\n        // If not containing in the horizontal direction, we must update the local\n        // transform to account for the new height\n        if (this.contain !== 'both') {\n            this.setUpdateType(UpdateType.Local);\n        }\n    }\n    get color() {\n        return this.trState.props.color;\n    }\n    set color(value) {\n        this.textRenderer.set.color(this.trState, value);\n    }\n    get text() {\n        return this.trState.props.text;\n    }\n    set text(value) {\n        this.textRenderer.set.text(this.trState, value);\n    }\n    get textRendererOverride() {\n        return this._textRendererOverride;\n    }\n    set textRendererOverride(value) {\n        this._textRendererOverride = value;\n        this.textRenderer.destroyState(this.trState);\n        const textRenderer = this.stage.resolveTextRenderer(this.trState.props, this._textRendererOverride);\n        if (!textRenderer) {\n            console.warn('Text Renderer not found for font', this.trState.props.fontFamily);\n            return;\n        }\n        this.textRenderer = textRenderer;\n        this.trState = this.createState(this.trState.props);\n    }\n    get fontSize() {\n        return this.trState.props.fontSize;\n    }\n    set fontSize(value) {\n        this.textRenderer.set.fontSize(this.trState, value);\n    }\n    get fontFamily() {\n        return this.trState.props.fontFamily;\n    }\n    set fontFamily(value) {\n        this.textRenderer.set.fontFamily(this.trState, value);\n    }\n    get fontStretch() {\n        return this.trState.props.fontStretch;\n    }\n    set fontStretch(value) {\n        this.textRenderer.set.fontStretch(this.trState, value);\n    }\n    get fontStyle() {\n        return this.trState.props.fontStyle;\n    }\n    set fontStyle(value) {\n        this.textRenderer.set.fontStyle(this.trState, value);\n    }\n    get fontWeight() {\n        return this.trState.props.fontWeight;\n    }\n    set fontWeight(value) {\n        this.textRenderer.set.fontWeight(this.trState, value);\n    }\n    get textAlign() {\n        return this.trState.props.textAlign;\n    }\n    set textAlign(value) {\n        this.textRenderer.set.textAlign(this.trState, value);\n    }\n    get contain() {\n        return this.trState.props.contain;\n    }\n    set contain(value) {\n        this.textRenderer.set.contain(this.trState, value);\n    }\n    get scrollable() {\n        return this.trState.props.scrollable;\n    }\n    set scrollable(value) {\n        this.textRenderer.set.scrollable(this.trState, value);\n    }\n    get scrollY() {\n        return this.trState.props.scrollY;\n    }\n    set scrollY(value) {\n        this.textRenderer.set.scrollY(this.trState, value);\n    }\n    get offsetY() {\n        return this.trState.props.offsetY;\n    }\n    set offsetY(value) {\n        this.textRenderer.set.offsetY(this.trState, value);\n    }\n    get letterSpacing() {\n        return this.trState.props.letterSpacing;\n    }\n    set letterSpacing(value) {\n        this.textRenderer.set.letterSpacing(this.trState, value);\n    }\n    get lineHeight() {\n        return this.trState.props.lineHeight;\n    }\n    set lineHeight(value) {\n        this.textRenderer.set.lineHeight(this.trState, value);\n    }\n    get maxLines() {\n        return this.trState.props.maxLines;\n    }\n    set maxLines(value) {\n        this.textRenderer.set.maxLines(this.trState, value);\n    }\n    get textBaseline() {\n        return this.trState.props.textBaseline;\n    }\n    set textBaseline(value) {\n        this.textRenderer.set.textBaseline(this.trState, value);\n    }\n    get verticalAlign() {\n        return this.trState.props.verticalAlign;\n    }\n    set verticalAlign(value) {\n        this.textRenderer.set.verticalAlign(this.trState, value);\n    }\n    get overflowSuffix() {\n        return this.trState.props.overflowSuffix;\n    }\n    set overflowSuffix(value) {\n        this.textRenderer.set.overflowSuffix(this.trState, value);\n    }\n    get debug() {\n        return this.trState.props.debug;\n    }\n    set debug(value) {\n        this.textRenderer.set.debug(this.trState, value);\n    }\n    update(delta, parentClippingRect) {\n        super.update(delta, parentClippingRect);\n        assertTruthy(this.globalTransform);\n        // globalTransform is updated in super.update(delta)\n        this.textRenderer.set.x(this.trState, this.globalTransform.tx);\n        this.textRenderer.set.y(this.trState, this.globalTransform.ty);\n    }\n    checkRenderProps() {\n        if (this.trState && this.trState.props.text !== '') {\n            return true;\n        }\n        return super.checkRenderProps();\n    }\n    onChangeIsRenderable(isRenderable) {\n        super.onChangeIsRenderable(isRenderable);\n        this.textRenderer.setIsRenderable(this.trState, isRenderable);\n    }\n    renderQuads(renderer) {\n        assertTruthy(this.globalTransform);\n        // If the text renderer does not support rendering quads, fallback to the\n        // default renderQuads method\n        if (!this.textRenderer.renderQuads) {\n            super.renderQuads(renderer);\n            return;\n        }\n        // If the text renderer does support rendering quads, use it...\n        // Prevent quad rendering if parent has a render texture\n        // and this node is not the render texture\n        if (this.parentHasRenderTexture) {\n            if (!renderer.renderToTextureActive) {\n                return;\n            }\n            // Prevent quad rendering if parent render texture is not the active render texture\n            if (this.parentRenderTexture !== renderer.activeRttNode) {\n                return;\n            }\n        }\n        if (this.parentHasRenderTexture && this.props.parent?.rtt) {\n            this.globalTransform = Matrix3d.identity();\n            if (this.localTransform) {\n                this.globalTransform.multiply(this.localTransform);\n            }\n        }\n        assertTruthy(this.globalTransform);\n        this.textRenderer.renderQuads(this.trState, this.globalTransform, this.clippingRect, this.worldAlpha, this.parentHasRenderTexture, this.framebufferDimensions);\n    }\n    /**\n     * Destroy the node and cleanup all resources\n     */\n    destroy() {\n        super.destroy();\n        this.textRenderer.destroyState(this.trState);\n    }\n    /**\n     * Resolve a text renderer and a new state based on the current text renderer props provided\n     * @param props\n     * @returns\n     */\n    createState(props) {\n        const textRendererState = this.textRenderer.createState(props, this);\n        textRendererState.emitter.on('loaded', this.onTextLoaded);\n        textRendererState.emitter.on('failed', this.onTextFailed);\n        this.textRenderer.scheduleUpdateState(textRendererState);\n        return textRendererState;\n    }\n}\n//# sourceMappingURL=CoreTextNode.js.map","export function santizeCustomDataMap(d) {\n    const validTypes = {\n        boolean: true,\n        string: true,\n        number: true,\n        undefined: true,\n    };\n    const keys = Object.keys(d);\n    for (let i = 0; i < keys.length; i++) {\n        const key = keys[i];\n        if (!key) {\n            continue;\n        }\n        const value = d[key];\n        const valueType = typeof value;\n        // Typescript doesn't understand the above const valueType \\_()_/\n        // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n        // @ts-ignore-next-line\n        if (valueType === 'string' && value.length > 2048) {\n            console.warn(`Custom Data value for ${key} is too long, it will be truncated to 2048 characters`);\n            // same here, see above comment, this can only be a string at this point\n            // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n            // @ts-ignore-next-line\n            // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment, @typescript-eslint/no-unsafe-call\n            d[key] = value.substring(0, 2048);\n        }\n        if (!validTypes[valueType]) {\n            console.warn(`Custom Data value for ${key} is not a boolean, string, or number, it will be ignored`);\n            delete d[key];\n        }\n    }\n    return d;\n}\n//# sourceMappingURL=utils.js.map","/*\n * If not stated otherwise in this file or this component's LICENSE file the\n * following copyright and licenses apply:\n *\n * Copyright 2023 Comcast Cable Communications Management, LLC.\n *\n * Licensed under the Apache License, Version 2.0 (the License);\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { startLoop, getTimeStamp } from './platform.js';\nimport { assertTruthy, setPremultiplyMode } from '../utils.js';\nimport { AnimationManager } from './animations/AnimationManager.js';\nimport { CoreNode } from './CoreNode.js';\nimport { CoreTextureManager } from './CoreTextureManager.js';\nimport { TrFontManager } from './text-rendering/TrFontManager.js';\nimport { CoreShaderManager } from './CoreShaderManager.js';\nimport { TextRenderer, } from './text-rendering/renderers/TextRenderer.js';\nimport { EventEmitter } from '../common/EventEmitter.js';\nimport { ContextSpy } from './lib/ContextSpy.js';\nimport { TextureMemoryManager, } from './TextureMemoryManager.js';\nimport { CoreRenderer } from './renderers/CoreRenderer.js';\nimport { CoreTextNode } from './CoreTextNode.js';\nimport { santizeCustomDataMap } from '../main-api/utils.js';\nconst bufferMemory = 2e6;\nconst autoStart = true;\nexport class Stage {\n    options;\n    /// Module Instances\n    animationManager;\n    txManager;\n    txMemManager;\n    fontManager;\n    textRenderers;\n    shManager;\n    renderer;\n    root;\n    boundsMargin;\n    defShaderCtr;\n    /**\n     * Renderer Event Bus for the Stage to emit events onto\n     *\n     * @remarks\n     * In reality this is just the RendererMain instance, which is an EventEmitter.\n     * this allows us to directly emit events from the Stage to RendererMain\n     * without having to set up forwarding handlers.\n     */\n    eventBus;\n    /// State\n    deltaTime = 0;\n    lastFrameTime = 0;\n    currentFrameTime = 0;\n    fpsNumFrames = 0;\n    fpsElapsedTime = 0;\n    renderRequested = false;\n    frameEventQueue = [];\n    fontResolveMap = {};\n    /// Debug data\n    contextSpy = null;\n    /**\n     * Stage constructor\n     */\n    constructor(options) {\n        this.options = options;\n        const { canvas, clearColor, appWidth, appHeight, boundsMargin, enableContextSpy, numImageWorkers, textureMemory, renderEngine, fontEngines, } = options;\n        this.eventBus = options.eventBus;\n        this.txManager = new CoreTextureManager(numImageWorkers);\n        this.txMemManager = new TextureMemoryManager(this, textureMemory);\n        this.shManager = new CoreShaderManager();\n        this.animationManager = new AnimationManager();\n        this.contextSpy = enableContextSpy ? new ContextSpy() : null;\n        let bm = [0, 0, 0, 0];\n        if (boundsMargin) {\n            bm = Array.isArray(boundsMargin)\n                ? boundsMargin\n                : [boundsMargin, boundsMargin, boundsMargin, boundsMargin];\n        }\n        this.boundsMargin = bm;\n        const rendererOptions = {\n            stage: this,\n            canvas,\n            pixelRatio: options.devicePhysicalPixelRatio * options.deviceLogicalPixelRatio,\n            clearColor: clearColor ?? 0xff000000,\n            bufferMemory,\n            txManager: this.txManager,\n            txMemManager: this.txMemManager,\n            shManager: this.shManager,\n            contextSpy: this.contextSpy,\n        };\n        this.renderer = new renderEngine(rendererOptions);\n        const renderMode = this.renderer.mode || 'webgl';\n        this.defShaderCtr = this.renderer.getDefShaderCtr();\n        setPremultiplyMode(renderMode);\n        // Must do this after renderer is created\n        this.txManager.renderer = this.renderer;\n        // Create text renderers\n        this.textRenderers = {};\n        fontEngines.forEach((fontEngineConstructor) => {\n            const fontEngineInstance = new fontEngineConstructor(this);\n            const className = fontEngineInstance.type;\n            if (className === 'sdf' && renderMode === 'canvas') {\n                console.warn('SdfTextRenderer is not compatible with Canvas renderer. Skipping...');\n                return;\n            }\n            if (fontEngineInstance instanceof TextRenderer) {\n                if (className === 'canvas') {\n                    this.textRenderers['canvas'] =\n                        fontEngineInstance;\n                }\n                else if (className === 'sdf') {\n                    this.textRenderers['sdf'] = fontEngineInstance;\n                }\n            }\n        });\n        if (Object.keys(this.textRenderers).length === 0) {\n            console.warn('No text renderers available. Your text will not render.');\n        }\n        this.fontManager = new TrFontManager(this.textRenderers);\n        // create root node\n        const rootNode = new CoreNode(this, {\n            x: 0,\n            y: 0,\n            width: appWidth,\n            height: appHeight,\n            alpha: 1,\n            autosize: false,\n            clipping: false,\n            color: 0x00000000,\n            colorTop: 0x00000000,\n            colorBottom: 0x00000000,\n            colorLeft: 0x00000000,\n            colorRight: 0x00000000,\n            colorTl: 0x00000000,\n            colorTr: 0x00000000,\n            colorBl: 0x00000000,\n            colorBr: 0x00000000,\n            zIndex: 0,\n            zIndexLocked: 0,\n            scaleX: 1,\n            scaleY: 1,\n            mountX: 0,\n            mountY: 0,\n            mount: 0,\n            pivot: 0.5,\n            pivotX: 0.5,\n            pivotY: 0.5,\n            rotation: 0,\n            parent: null,\n            texture: null,\n            textureOptions: {},\n            shader: this.defShaderCtr,\n            rtt: false,\n            src: null,\n            scale: 1,\n            preventCleanup: false,\n        });\n        this.root = rootNode;\n        // execute platform start loop\n        if (autoStart) {\n            startLoop(this);\n        }\n    }\n    updateFrameTime() {\n        const newFrameTime = getTimeStamp();\n        this.lastFrameTime = this.currentFrameTime;\n        this.currentFrameTime = newFrameTime;\n        this.deltaTime = !this.lastFrameTime\n            ? 100 / 6\n            : newFrameTime - this.lastFrameTime;\n        this.txManager.frameTime = newFrameTime;\n        this.txMemManager.frameTime = newFrameTime;\n        // This event is emitted at the beginning of the frame (before any updates\n        // or rendering), so no need to to use `stage.queueFrameEvent` here.\n        this.eventBus.emit('frameTick', {\n            time: this.currentFrameTime,\n            delta: this.deltaTime,\n        });\n    }\n    /**\n     * Update animations\n     */\n    updateAnimations() {\n        const { animationManager } = this;\n        if (!this.root) {\n            return;\n        }\n        // step animation\n        animationManager.update(this.deltaTime);\n    }\n    /**\n     * Check if the scene has updates\n     */\n    hasSceneUpdates() {\n        return !!this.root.updateType || this.renderRequested;\n    }\n    /**\n     * Start a new frame draw\n     */\n    drawFrame() {\n        const { renderer, renderRequested } = this;\n        assertTruthy(renderer);\n        // Update tree if needed\n        if (this.root.updateType !== 0) {\n            this.root.update(this.deltaTime, this.root.clippingRect);\n        }\n        // Reset render operations and clear the canvas\n        renderer.reset();\n        // Check if we need to cleanup textures\n        if (this.txMemManager.criticalCleanupRequested) {\n            this.txMemManager.cleanup();\n        }\n        // If we have RTT nodes draw them first\n        // So we can use them as textures in the main scene\n        if (renderer.rttNodes.length > 0) {\n            renderer.renderRTTNodes();\n        }\n        // Fill quads buffer\n        this.addQuads(this.root);\n        // Perform render pass\n        renderer?.render();\n        this.calculateFps();\n        // Reset renderRequested flag if it was set\n        if (renderRequested) {\n            this.renderRequested = false;\n        }\n    }\n    /**\n     * Queue an event to be emitted after the current/next frame is rendered\n     *\n     * @remarks\n     * When we are operating in the context of the render loop, we may want to\n     * emit events that are related to the current frame. However, we generally do\n     * NOT want to emit events directly in the middle of the render loop, since\n     * this could enable event handlers to modify the scene graph and cause\n     * unexpected behavior. Instead, we queue up events to be emitted and then\n     * flush the queue after the frame has been rendered.\n     *\n     * @param name\n     * @param data\n     */\n    queueFrameEvent(name, data) {\n        this.frameEventQueue.push([name, data]);\n    }\n    /**\n     * Emit all queued frame events\n     *\n     * @remarks\n     * This method should be called after the frame has been rendered to emit\n     * all events that were queued during the frame.\n     *\n     * See {@link queueFrameEvent} for more information.\n     */\n    flushFrameEvents() {\n        for (const [name, data] of this.frameEventQueue) {\n            this.eventBus.emit(name, data);\n        }\n        this.frameEventQueue = [];\n    }\n    calculateFps() {\n        // If there's an FPS update interval, emit the FPS update event\n        // when the specified interval has elapsed.\n        const { fpsUpdateInterval } = this.options;\n        if (fpsUpdateInterval) {\n            this.fpsNumFrames++;\n            this.fpsElapsedTime += this.deltaTime;\n            if (this.fpsElapsedTime >= fpsUpdateInterval) {\n                const fps = Math.round((this.fpsNumFrames * 1000) / this.fpsElapsedTime);\n                this.fpsNumFrames = 0;\n                this.fpsElapsedTime = 0;\n                this.queueFrameEvent('fpsUpdate', {\n                    fps,\n                    contextSpyData: this.contextSpy?.getData() ?? null,\n                });\n                this.contextSpy?.reset();\n            }\n        }\n    }\n    addQuads(node) {\n        assertTruthy(this.renderer && node.globalTransform);\n        if (node.isRenderable) {\n            node.renderQuads(this.renderer);\n        }\n        for (let i = 0; i < node.children.length; i++) {\n            const child = node.children[i];\n            if (!child) {\n                continue;\n            }\n            if (child?.worldAlpha === 0) {\n                continue;\n            }\n            this.addQuads(child);\n        }\n    }\n    /**\n     * Request a render pass without forcing an update\n     */\n    requestRender() {\n        this.renderRequested = true;\n    }\n    /**\n     * Given a font name, and possible renderer override, return the best compatible text renderer.\n     *\n     * @remarks\n     * Will try to return a canvas renderer if no other suitable renderer can be resolved.\n     *\n     * @param fontFamily\n     * @param textRendererOverride\n     * @returns\n     */\n    resolveTextRenderer(trProps, textRendererOverride = null) {\n        const fontCacheString = `${trProps.fontFamily}${trProps.fontStyle}${trProps.fontWeight}${trProps.fontStretch}${textRendererOverride ? textRendererOverride : ''}`;\n        // check our resolve cache first\n        if (this.fontResolveMap[fontCacheString] !== undefined) {\n            return this.fontResolveMap[fontCacheString];\n        }\n        // Resolve the text renderer\n        let rendererId = textRendererOverride;\n        let overrideFallback = false;\n        // Check if the override is valid (if one is provided)\n        if (rendererId) {\n            const possibleRenderer = this.textRenderers[rendererId];\n            if (!possibleRenderer) {\n                console.warn(`Text renderer override '${rendererId}' not found.`);\n                rendererId = null;\n                overrideFallback = true;\n            }\n            else if (!possibleRenderer.canRenderFont(trProps)) {\n                console.warn(`Cannot use override text renderer '${rendererId}' for font`, trProps);\n                rendererId = null;\n                overrideFallback = true;\n            }\n        }\n        if (!rendererId) {\n            // Iterate through the text renderers and find the first one that can render the font\n            for (const [trId, tr] of Object.entries(this.textRenderers)) {\n                if (tr.canRenderFont(trProps)) {\n                    rendererId = trId;\n                    break;\n                }\n            }\n            if (!rendererId && this.textRenderers.canvas !== undefined) {\n                // If no renderer can be found, use the canvas renderer\n                rendererId = 'canvas';\n            }\n        }\n        if (overrideFallback) {\n            console.warn(`Falling back to text renderer ${String(rendererId)}`);\n        }\n        if (!rendererId) {\n            // silently fail if no renderer can be found, the error is already created\n            // at the constructor level\n            return null;\n        }\n        // By now we are guaranteed to have a valid rendererId (at least Canvas);\n        const resolvedTextRenderer = this.textRenderers[rendererId];\n        assertTruthy(resolvedTextRenderer, 'resolvedTextRenderer undefined');\n        // cache the resolved renderer for future use with these trProps\n        this.fontResolveMap[fontCacheString] = resolvedTextRenderer;\n        // Need to explicitly cast to TextRenderer because TS doesn't like\n        // the covariant state argument in the setter method map\n        return resolvedTextRenderer;\n    }\n    /**\n     * Create a shader controller instance\n     *\n     * @param type\n     * @param props\n     * @returns\n     */\n    createShaderCtr(type, props) {\n        return this.shManager.loadShader(type, props);\n    }\n    createNode(props) {\n        const resolvedProps = this.resolveNodeDefaults(props);\n        return new CoreNode(this, resolvedProps);\n    }\n    createTextNode(props) {\n        const fontSize = props.fontSize ?? 16;\n        const resolvedProps = {\n            ...this.resolveNodeDefaults(props),\n            text: props.text ?? '',\n            textRendererOverride: props.textRendererOverride ?? null,\n            fontSize,\n            fontFamily: props.fontFamily ?? 'sans-serif',\n            fontStyle: props.fontStyle ?? 'normal',\n            fontWeight: props.fontWeight ?? 'normal',\n            fontStretch: props.fontStretch ?? 'normal',\n            textAlign: props.textAlign ?? 'left',\n            contain: props.contain ?? 'none',\n            scrollable: props.scrollable ?? false,\n            scrollY: props.scrollY ?? 0,\n            offsetY: props.offsetY ?? 0,\n            letterSpacing: props.letterSpacing ?? 0,\n            lineHeight: props.lineHeight,\n            maxLines: props.maxLines ?? 0,\n            textBaseline: props.textBaseline ?? 'alphabetic',\n            verticalAlign: props.verticalAlign ?? 'middle',\n            overflowSuffix: props.overflowSuffix ?? '...',\n            debug: props.debug ?? {},\n            shaderProps: null,\n        };\n        const resolvedTextRenderer = this.resolveTextRenderer(resolvedProps, props.textRendererOverride);\n        if (!resolvedTextRenderer) {\n            throw new Error(`No compatible text renderer found for ${resolvedProps.fontFamily}`);\n        }\n        return new CoreTextNode(this, resolvedProps, resolvedTextRenderer);\n    }\n    /**\n     * Resolves the default property values for a Node\n     *\n     * @remarks\n     * This method is used internally by the RendererMain to resolve the default\n     * property values for a Node. It is exposed publicly so that it can be used\n     * by Core Driver implementations.\n     *\n     * @param props\n     * @returns\n     */\n    resolveNodeDefaults(props) {\n        const color = props.color ?? 0xffffffff;\n        const colorTl = props.colorTl ?? props.colorTop ?? props.colorLeft ?? color;\n        const colorTr = props.colorTr ?? props.colorTop ?? props.colorRight ?? color;\n        const colorBl = props.colorBl ?? props.colorBottom ?? props.colorLeft ?? color;\n        const colorBr = props.colorBr ?? props.colorBottom ?? props.colorRight ?? color;\n        const data = santizeCustomDataMap(props.data ?? {});\n        return {\n            x: props.x ?? 0,\n            y: props.y ?? 0,\n            width: props.width ?? 0,\n            height: props.height ?? 0,\n            alpha: props.alpha ?? 1,\n            autosize: props.autosize ?? false,\n            clipping: props.clipping ?? false,\n            color,\n            colorTop: props.colorTop ?? color,\n            colorBottom: props.colorBottom ?? color,\n            colorLeft: props.colorLeft ?? color,\n            colorRight: props.colorRight ?? color,\n            colorBl,\n            colorBr,\n            colorTl,\n            colorTr,\n            zIndex: props.zIndex ?? 0,\n            zIndexLocked: props.zIndexLocked ?? 0,\n            parent: props.parent ?? null,\n            texture: props.texture ?? null,\n            textureOptions: props.textureOptions ?? {},\n            shader: props.shader ?? this.defShaderCtr,\n            // Since setting the `src` will trigger a texture load, we need to set it after\n            // we set the texture. Otherwise, problems happen.\n            src: props.src ?? null,\n            srcHeight: props.srcHeight,\n            srcWidth: props.srcWidth,\n            srcX: props.srcX,\n            srcY: props.srcY,\n            scale: props.scale ?? null,\n            scaleX: props.scaleX ?? props.scale ?? 1,\n            scaleY: props.scaleY ?? props.scale ?? 1,\n            mount: props.mount ?? 0,\n            mountX: props.mountX ?? props.mount ?? 0,\n            mountY: props.mountY ?? props.mount ?? 0,\n            pivot: props.pivot ?? 0.5,\n            pivotX: props.pivotX ?? props.pivot ?? 0.5,\n            pivotY: props.pivotY ?? props.pivot ?? 0.5,\n            rotation: props.rotation ?? 0,\n            rtt: props.rtt ?? false,\n            data: data,\n            preventCleanup: props.preventCleanup ?? false,\n            imageType: props.imageType,\n        };\n    }\n}\n//# sourceMappingURL=Stage.js.map","/*\n * If not stated otherwise in this file or this component's LICENSE file the\n * following copyright and licenses apply:\n *\n * Copyright 2023 Comcast Cable Communications Management, LLC.\n *\n * Licensed under the Apache License, Version 2.0 (the License);\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { EventEmitter } from '../common/EventEmitter.js';\nimport { assertTruthy, isProductionEnvironment } from '../utils.js';\nimport { Stage } from '../core/Stage.js';\nimport { CoreNode } from '../core/CoreNode.js';\nimport {} from '../core/CoreTextNode.js';\n/**\n * The Renderer Main API\n *\n * @remarks\n * This is the primary class used to configure and operate the Renderer.\n *\n * It is used to create and destroy Nodes, as well as Texture and Shader\n * references.\n *\n * Example:\n * ```ts\n * import { RendererMain, MainCoreDriver } from '@lightningjs/renderer';\n *\n * // Initialize the Renderer\n * const renderer = new RendererMain(\n *   {\n *     appWidth: 1920,\n *     appHeight: 1080\n *   },\n *   'app',\n *   new MainCoreDriver(),\n * );\n * ```\n *\n * ## Events\n * - `fpsUpdate`\n *   - Emitted every `fpsUpdateInterval` milliseconds with the current FPS\n * - `frameTick`\n *   - Emitted every frame tick\n * - `idle`\n *   - Emitted when the renderer is idle (no changes to the scene\n *     graph/animations running)\n * - `criticalCleanup`\n *  - Emitted when the Texture Memory Manager Cleanup process is triggered\n *  - Payload: { memUsed: number, criticalThreshold: number }\n *    - `memUsed` - The amount of memory (in bytes) used by textures before the\n *       cleanup process\n *    - `criticalThreshold` - The critical threshold (in bytes)\n * - `criticalCleanupFailed`\n *   - Emitted when the Texture Memory Manager Cleanup process is unable to free\n *     up enough texture memory to reach below the critical threshold.\n *     This can happen when there is not enough non-renderable textures to\n *     free up.\n *   - Payload (object with keys):\n *     - `memUsed` - The amount of memory (in bytes) used by textures after\n *       the cleanup process\n *     - `criticalThreshold` - The critical threshold (in bytes)\n */\nexport class RendererMain extends EventEmitter {\n    root;\n    canvas;\n    settings;\n    stage;\n    inspector = null;\n    /**\n     * Constructs a new Renderer instance\n     *\n     * @param settings Renderer settings\n     * @param target Element ID or HTMLElement to insert the canvas into\n     * @param driver Core Driver to use\n     */\n    constructor(settings, target) {\n        super();\n        const resolvedTxSettings = {\n            criticalThreshold: settings.textureMemory?.criticalThreshold || 124e6,\n            targetThresholdLevel: settings.textureMemory?.targetThresholdLevel || 0.5,\n            cleanupInterval: settings.textureMemory?.cleanupInterval || 30000,\n            debugLogging: settings.textureMemory?.debugLogging || false,\n        };\n        const resolvedSettings = {\n            appWidth: settings.appWidth || 1920,\n            appHeight: settings.appHeight || 1080,\n            textureMemory: resolvedTxSettings,\n            boundsMargin: settings.boundsMargin || 0,\n            deviceLogicalPixelRatio: settings.deviceLogicalPixelRatio || 1,\n            devicePhysicalPixelRatio: settings.devicePhysicalPixelRatio || window.devicePixelRatio,\n            clearColor: settings.clearColor ?? 0x00000000,\n            fpsUpdateInterval: settings.fpsUpdateInterval || 0,\n            numImageWorkers: settings.numImageWorkers !== undefined ? settings.numImageWorkers : 2,\n            enableContextSpy: settings.enableContextSpy ?? false,\n            inspector: settings.inspector ?? false,\n            renderEngine: settings.renderEngine,\n            quadBufferSize: settings.quadBufferSize ?? 4 * 1024 * 1024,\n            fontEngines: settings.fontEngines,\n        };\n        this.settings = resolvedSettings;\n        const { appWidth, appHeight, deviceLogicalPixelRatio, devicePhysicalPixelRatio, inspector, } = resolvedSettings;\n        const deviceLogicalWidth = appWidth * deviceLogicalPixelRatio;\n        const deviceLogicalHeight = appHeight * deviceLogicalPixelRatio;\n        const canvas = document.createElement('canvas');\n        this.canvas = canvas;\n        canvas.width = deviceLogicalWidth * devicePhysicalPixelRatio;\n        canvas.height = deviceLogicalHeight * devicePhysicalPixelRatio;\n        canvas.style.width = `${deviceLogicalWidth}px`;\n        canvas.style.height = `${deviceLogicalHeight}px`;\n        // Initialize the stage\n        this.stage = new Stage({\n            appWidth: this.settings.appWidth,\n            appHeight: this.settings.appHeight,\n            boundsMargin: this.settings.boundsMargin,\n            clearColor: this.settings.clearColor,\n            canvas: this.canvas,\n            deviceLogicalPixelRatio: this.settings.deviceLogicalPixelRatio,\n            devicePhysicalPixelRatio: this.settings.devicePhysicalPixelRatio,\n            enableContextSpy: this.settings.enableContextSpy,\n            fpsUpdateInterval: this.settings.fpsUpdateInterval,\n            numImageWorkers: this.settings.numImageWorkers,\n            renderEngine: this.settings.renderEngine,\n            textureMemory: resolvedTxSettings,\n            eventBus: this,\n            quadBufferSize: this.settings.quadBufferSize,\n            fontEngines: this.settings.fontEngines,\n        });\n        // Extract the root node\n        this.root = this.stage.root;\n        // Get the target element and attach the canvas to it\n        let targetEl;\n        if (typeof target === 'string') {\n            targetEl = document.getElementById(target);\n        }\n        else {\n            targetEl = target;\n        }\n        if (!targetEl) {\n            throw new Error('Could not find target element');\n        }\n        targetEl.appendChild(canvas);\n        // Initialize inspector (if enabled)\n        if (inspector && !isProductionEnvironment()) {\n            this.inspector = new inspector(canvas, resolvedSettings);\n        }\n    }\n    /**\n     * Create a new scene graph node\n     *\n     * @remarks\n     * A node is the main graphical building block of the Renderer scene graph. It\n     * can be a container for other nodes, or it can be a leaf node that renders a\n     * solid color, gradient, image, or specific texture, using a specific shader.\n     *\n     * To create a text node, see {@link createTextNode}.\n     *\n     * See {@link CoreNode} for more details.\n     *\n     * @param props\n     * @returns\n     */\n    createNode(props) {\n        assertTruthy(this.stage, 'Stage is not initialized');\n        const node = this.stage.createNode(props);\n        if (this.inspector) {\n            return this.inspector.createNode(node);\n        }\n        // FIXME onDestroy event? node.once('beforeDestroy'\n        // FIXME onCreate event?\n        return node;\n    }\n    /**\n     * Create a new scene graph text node\n     *\n     * @remarks\n     * A text node is the second graphical building block of the Renderer scene\n     * graph. It renders text using a specific text renderer that is automatically\n     * chosen based on the font requested and what type of fonts are installed\n     * into an app.\n     *\n     * See {@link ITextNode} for more details.\n     *\n     * @param props\n     * @returns\n     */\n    createTextNode(props) {\n        const textNode = this.stage.createTextNode(props);\n        if (this.inspector) {\n            return this.inspector.createTextNode(textNode);\n        }\n        return textNode;\n    }\n    /**\n     * Destroy a node\n     *\n     * @remarks\n     * This method destroys a node\n     *\n     * @param node\n     * @returns\n     */\n    destroyNode(node) {\n        if (this.inspector) {\n            this.inspector.destroyNode(node.id);\n        }\n        return node.destroy();\n    }\n    /**\n     * Create a new texture reference\n     *\n     * @remarks\n     * This method creates a new reference to a texture. The texture is not\n     * loaded until it is used on a node.\n     *\n     * It can be assigned to a node's `texture` property, or it can be used\n     * when creating a SubTexture.\n     *\n     * @param textureType\n     * @param props\n     * @param options\n     * @returns\n     */\n    createTexture(textureType, props) {\n        return this.stage.txManager.loadTexture(textureType, props);\n    }\n    /**\n     * Create a new shader controller for a shader type\n     *\n     * @remarks\n     * This method creates a new Shader Controller for a specific shader type.\n     *\n     * If the shader has not been loaded yet, it will be loaded. Otherwise, the\n     * existing shader will be reused.\n     *\n     * It can be assigned to a Node's `shader` property.\n     *\n     * @param shaderType\n     * @param props\n     * @returns\n     */\n    createShader(shaderType, props) {\n        return this.stage.shManager.loadShader(shaderType, props);\n    }\n    /**\n     * Create a new Dynamic Shader controller\n     *\n     * @remarks\n     * A Dynamic Shader is a shader that can be composed of an array of mulitple\n     * effects. Each effect can be animated or changed after creation (provided\n     * the effect is given a name).\n     *\n     * Example:\n     * ```ts\n     * renderer.createNode({\n     *   shader: renderer.createDynamicShader([\n     *     renderer.createEffect('radius', {\n     *       radius: 0\n     *     }, 'effect1'),\n     *     renderer.createEffect('border', {\n     *       color: 0xff00ffff,\n     *       width: 10,\n     *     }, 'effect2'),\n     *   ]),\n     * });\n     * ```\n     *\n     * @param effects\n     * @returns\n     */\n    createDynamicShader(effects) {\n        return this.stage.shManager.loadDynamicShader({\n            effects: effects,\n        });\n    }\n    /**\n     * Create an effect to be used in a Dynamic Shader\n     *\n     * @remark\n     * The {name} parameter is optional but required if you want to animate the effect\n     * or change the effect's properties after creation.\n     *\n     * See {@link createDynamicShader} for an example.\n     *\n     * @param type\n     * @param props\n     * @param name\n     * @returns\n     */\n    createEffect(type, props, name) {\n        return {\n            name,\n            type,\n            props,\n        };\n    }\n    /**\n     * Get a Node by its ID\n     *\n     * @param id\n     * @returns\n     */\n    getNodeById(id) {\n        const root = this.stage?.root;\n        if (!root) {\n            return null;\n        }\n        const findNode = (node) => {\n            if (node.id === id) {\n                return node;\n            }\n            for (const child of node.children) {\n                const found = findNode(child);\n                if (found) {\n                    return found;\n                }\n            }\n            return null;\n        };\n        return findNode(root);\n    }\n    toggleFreeze() {\n        throw new Error('Not implemented');\n    }\n    advanceFrame() {\n        throw new Error('Not implemented');\n    }\n    getBufferInfo() {\n        return this.stage.renderer.getBufferInfo();\n    }\n    /**\n     * Re-render the current frame without advancing any running animations.\n     *\n     * @remarks\n     * Any state changes will be reflected in the re-rendered frame. Useful for\n     * debugging.\n     *\n     * May not do anything if the render loop is running on a separate worker.\n     */\n    rerender() {\n        throw new Error('Not implemented');\n    }\n}\n//# sourceMappingURL=Renderer.js.map","/*\n * If not stated otherwise in this file or this component's LICENSE file the\n * following copyright and licenses apply:\n *\n * Copyright 2023 Comcast Cable Communications Management, LLC.\n *\n * Licensed under the Apache License, Version 2.0 (the License);\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { EventEmitter } from '../../../common/EventEmitter.js';\nexport class TrFontFace extends EventEmitter {\n    fontFamily;\n    descriptors;\n    loaded = false;\n    metrics = null;\n    constructor(options) {\n        super();\n        const { fontFamily, descriptors, metrics } = options;\n        if (metrics) {\n            // Normalize metrics to be in the range of 0 to 1\n            this.metrics = {\n                ascender: metrics.ascender / metrics.unitsPerEm,\n                descender: metrics.descender / metrics.unitsPerEm,\n                lineGap: metrics.lineGap / metrics.unitsPerEm,\n            };\n        }\n        this.fontFamily = fontFamily;\n        this.descriptors = {\n            style: 'normal',\n            weight: 'normal',\n            stretch: 'normal',\n            ...descriptors,\n        };\n    }\n    /**\n     * Convert a TrFontFaceDescriptors to a FontFaceDescriptors which differ slightly\n     *\n     * @param descriptors\n     * @returns\n     */\n    static convertToCssFontFaceDescriptors(descriptors) {\n        return {\n            style: descriptors.style,\n            weight: typeof descriptors.weight === 'number'\n                ? `${descriptors.weight}`\n                : descriptors.weight,\n            stretch: descriptors.stretch,\n            unicodeRange: descriptors.unicodeRange,\n            featureSettings: descriptors.featureSettings,\n            display: descriptors.display,\n        };\n    }\n}\n//# sourceMappingURL=TrFontFace.js.map","/*\n * If not stated otherwise in this file or this component's LICENSE file the\n * following copyright and licenses apply:\n *\n * Copyright 2023 Comcast Cable Communications Management, LLC.\n *\n * Licensed under the Apache License, Version 2.0 (the License);\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { TrFontFace, } from './TrFontFace.js';\nexport class WebTrFontFace extends TrFontFace {\n    fontFace;\n    fontUrl;\n    constructor(options) {\n        super(options);\n        const { fontFamily, fontUrl } = options;\n        // Filter out parentheses from fontUrl\n        const fontUrlWithoutParentheses = fontUrl.replace(/\\(|\\)/g, '');\n        // Defaults for descriptors resolved in the super constructor\n        const determinedDescriptors = this.descriptors;\n        // Convert TrFontFaceDescriptors to CSS FontFaceDescriptors\n        const cssDescriptors = {\n            style: determinedDescriptors.style,\n            weight: typeof determinedDescriptors.weight === 'number'\n                ? `${determinedDescriptors.weight}`\n                : determinedDescriptors.weight,\n            stretch: determinedDescriptors.stretch,\n            unicodeRange: determinedDescriptors.unicodeRange,\n            featureSettings: determinedDescriptors.featureSettings,\n            display: determinedDescriptors.display,\n        };\n        const fontFace = new FontFace(fontFamily, `url(${fontUrlWithoutParentheses})`, cssDescriptors);\n        if (fontUrlWithoutParentheses.length > 0) {\n            fontFace\n                .load()\n                .then(() => {\n                // eslint-disable-next-line @typescript-eslint/no-unnecessary-type-assertion\n                this.loaded = true;\n                this.emit('loaded');\n            })\n                .catch(console.error);\n        }\n        else {\n            // Default font\n            // eslint-disable-next-line @typescript-eslint/no-unnecessary-type-assertion\n            this.loaded = true;\n            this.emit('loaded');\n        }\n        this.fontFace = fontFace;\n        this.fontUrl = fontUrl;\n    }\n}\n//# sourceMappingURL=WebTrFontFace.js.map","/*\n * If not stated otherwise in this file or this component's LICENSE file the\n * following copyright and licenses apply:\n *\n * Copyright 2023 Comcast Cable Communications Management, LLC.\n *\n * Licensed under the Apache License, Version 2.0 (the License);\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nexport class CoreRenderOp {\n}\n//# sourceMappingURL=CoreRenderOp.js.map","/*\n * If not stated otherwise in this file or this component's LICENSE file the\n * following copyright and licenses apply:\n *\n * Copyright 2023 Comcast Cable Communications Management, LLC.\n *\n * Licensed under the Apache License, Version 2.0 (the License);\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { CoreRenderOp } from '../CoreRenderOp.js';\nimport { WebGlCoreShader } from './WebGlCoreShader.js';\nconst MAX_TEXTURES = 8; // TODO: get from gl\n/**\n * Can render multiple quads with multiple textures (up to vertex shader texture limit)\n *\n */\nexport class WebGlCoreRenderOp extends CoreRenderOp {\n    glw;\n    options;\n    buffers;\n    shader;\n    shaderProps;\n    alpha;\n    clippingRect;\n    dimensions;\n    bufferIdx;\n    zIndex;\n    renderToTexture;\n    parentHasRenderTexture;\n    framebufferDimensions;\n    length = 0;\n    numQuads = 0;\n    textures = [];\n    maxTextures;\n    constructor(glw, options, buffers, shader, shaderProps, alpha, clippingRect, dimensions, bufferIdx, zIndex, renderToTexture, parentHasRenderTexture, framebufferDimensions) {\n        super();\n        this.glw = glw;\n        this.options = options;\n        this.buffers = buffers;\n        this.shader = shader;\n        this.shaderProps = shaderProps;\n        this.alpha = alpha;\n        this.clippingRect = clippingRect;\n        this.dimensions = dimensions;\n        this.bufferIdx = bufferIdx;\n        this.zIndex = zIndex;\n        this.renderToTexture = renderToTexture;\n        this.parentHasRenderTexture = parentHasRenderTexture;\n        this.framebufferDimensions = framebufferDimensions;\n        this.maxTextures = shader.supportsIndexedTextures\n            ? glw.getParameter(glw.MAX_VERTEX_TEXTURE_IMAGE_UNITS)\n            : 1;\n    }\n    addTexture(texture) {\n        const { textures, maxTextures } = this;\n        const existingIdx = textures.findIndex((t) => t === texture);\n        if (existingIdx !== -1) {\n            return existingIdx;\n        }\n        const newIdx = textures.length;\n        if (newIdx >= maxTextures) {\n            return 0xffffffff;\n        }\n        this.textures.push(texture);\n        return newIdx;\n    }\n    draw() {\n        const { glw, shader, shaderProps, options } = this;\n        const { shManager } = options;\n        shManager.useShader(shader);\n        shader.bindRenderOp(this, shaderProps);\n        // TODO: Reduce calculations required\n        const quadIdx = (this.bufferIdx / 24) * 6 * 2;\n        // Clipping\n        if (this.clippingRect.valid) {\n            const { x, y, width, height } = this.clippingRect;\n            const pixelRatio = options.pixelRatio;\n            const canvasHeight = options.canvas.height;\n            const clipX = Math.round(x * pixelRatio);\n            const clipWidth = Math.round(width * pixelRatio);\n            const clipHeight = Math.round(height * pixelRatio);\n            const clipY = Math.round(canvasHeight - clipHeight - y * pixelRatio);\n            glw.setScissorTest(true);\n            glw.scissor(clipX, clipY, clipWidth, clipHeight);\n        }\n        else {\n            glw.setScissorTest(false);\n        }\n        glw.drawElements(glw.TRIANGLES, 6 * this.numQuads, glw.UNSIGNED_SHORT, quadIdx);\n    }\n}\n//# sourceMappingURL=WebGlCoreRenderOp.js.map","/*\n * If not stated otherwise in this file or this component's LICENSE file the\n * following copyright and licenses apply:\n *\n * Copyright 2023 Comcast Cable Communications Management, LLC.\n *\n * Licensed under the Apache License, Version 2.0 (the License);\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * Get device specific webgl parameters\n * @param glw\n */\nexport function getWebGlParameters(glw) {\n    const params = {\n        MAX_RENDERBUFFER_SIZE: 0,\n        MAX_TEXTURE_SIZE: 0,\n        // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment, @typescript-eslint/no-explicit-any\n        MAX_VIEWPORT_DIMS: 0,\n        MAX_VERTEX_TEXTURE_IMAGE_UNITS: 0,\n        MAX_TEXTURE_IMAGE_UNITS: 0,\n        MAX_COMBINED_TEXTURE_IMAGE_UNITS: 0,\n        MAX_VERTEX_ATTRIBS: 0,\n        MAX_VARYING_VECTORS: 0,\n        MAX_VERTEX_UNIFORM_VECTORS: 0,\n        MAX_FRAGMENT_UNIFORM_VECTORS: 0,\n    };\n    // Map over all parameters and get them\n    const keys = Object.keys(params);\n    keys.forEach((key) => {\n        // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\n        params[key] = glw.getParameter(glw[key]);\n    });\n    return params;\n}\n/**\n * Get device webgl extensions\n * @param glw\n */\nexport function getWebGlExtensions(glw) {\n    const extensions = {\n        ANGLE_instanced_arrays: null,\n        WEBGL_compressed_texture_s3tc: null,\n        WEBGL_compressed_texture_astc: null,\n        WEBGL_compressed_texture_etc: null,\n        WEBGL_compressed_texture_etc1: null,\n        WEBGL_compressed_texture_pvrtc: null,\n        WEBKIT_WEBGL_compressed_texture_pvrtc: null,\n        WEBGL_compressed_texture_s3tc_srgb: null,\n        OES_vertex_array_object: null,\n    };\n    // Map over all extensions and get them\n    const keys = Object.keys(extensions);\n    keys.forEach((key) => {\n        // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\n        extensions[key] = glw.getExtension(key);\n    });\n    return extensions;\n}\n/**\n * Allocate big memory chunk that we\n * can re-use to draw quads\n *\n * @param glw\n * @param size\n */\nexport function createIndexBuffer(glw, size) {\n    const maxQuads = ~~(size / 80);\n    const indices = new Uint16Array(maxQuads * 6);\n    for (let i = 0, j = 0; i < maxQuads; i += 6, j += 4) {\n        indices[i] = j;\n        indices[i + 1] = j + 1;\n        indices[i + 2] = j + 2;\n        indices[i + 3] = j + 2;\n        indices[i + 4] = j + 1;\n        indices[i + 5] = j + 3;\n    }\n    const buffer = glw.createBuffer();\n    glw.elementArrayBufferData(buffer, indices, glw.STATIC_DRAW);\n}\n/**\n * Checks if an object is of type HTMLImageElement.\n * This is used because we cant check for HTMLImageElement directly when the\n * renderer is running in a seperate web worker context.\n *\n * @param obj\n * @returns\n */\nexport function isHTMLImageElement(obj) {\n    return (obj !== null &&\n        typeof obj === 'object' &&\n        obj.constructor &&\n        obj.constructor.name === 'HTMLImageElement');\n}\n//# sourceMappingURL=RendererUtils.js.map","/*\n * If not stated otherwise in this file or this component's LICENSE file the\n * following copyright and licenses apply:\n *\n * Copyright 2023 Comcast Cable Communications Management, LLC.\n *\n * Licensed under the Apache License, Version 2.0 (the License);\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { assertTruthy } from '../../../utils.js';\nimport { isPowerOfTwo } from '../../utils.js';\nimport { CoreContextTexture } from '../CoreContextTexture.js';\nimport { isHTMLImageElement } from './internal/RendererUtils.js';\nconst TRANSPARENT_TEXTURE_DATA = new Uint8Array([0, 0, 0, 0]);\n/**\n * A wrapper around a WebGLTexture that handles loading the texture data\n * from a Texture source and uploading it to the GPU as well as freeing\n * the uploaded texture.\n *\n * @remarks\n * When accessing the ctxTexture property, the texture will be loaded if\n * it hasn't been already. ctxTexture will always return a valid WebGLTexture\n * and trigger the loading/uploading of the texture's data if it hasn't been\n * loaded yet.\n */\nexport class WebGlCoreCtxTexture extends CoreContextTexture {\n    glw;\n    _nativeCtxTexture = null;\n    _state = 'freed';\n    _w = 0;\n    _h = 0;\n    constructor(glw, memManager, textureSource) {\n        super(memManager, textureSource);\n        this.glw = glw;\n    }\n    get ctxTexture() {\n        if (this._state === 'freed') {\n            this.load();\n        }\n        assertTruthy(this._nativeCtxTexture);\n        return this._nativeCtxTexture;\n    }\n    get w() {\n        return this._w;\n    }\n    get h() {\n        return this._h;\n    }\n    /**\n     * Load the texture data from the Texture source and upload it to the GPU\n     *\n     * @remarks\n     * This method is called automatically when accessing the ctxTexture property\n     * if the texture hasn't been loaded yet. But it can also be called manually\n     * to force the texture to be pre-loaded prior to accessing the ctxTexture\n     * property.\n     */\n    load() {\n        // If the texture is already loading or loaded, don't load it again.\n        if (this._state === 'loading' || this._state === 'loaded') {\n            return;\n        }\n        this._state = 'loading';\n        this.textureSource.setState('loading');\n        this._nativeCtxTexture = this.createNativeCtxTexture();\n        this.onLoadRequest()\n            .then(({ width, height }) => {\n            // If the texture has been freed while loading, return early.\n            if (this._state === 'freed') {\n                return;\n            }\n            this._state = 'loaded';\n            this._w = width;\n            this._h = height;\n            // Update the texture source's width and height so that it can be used\n            // for rendering.\n            this.textureSource.setState('loaded', { width, height });\n        })\n            .catch((err) => {\n            // If the texture has been freed while loading, return early.\n            if (this._state === 'freed') {\n                return;\n            }\n            this._state = 'failed';\n            this.textureSource.setState('failed', err);\n            console.error(err);\n        });\n    }\n    /**\n     * Called when the texture data needs to be loaded and uploaded to a texture\n     */\n    async onLoadRequest() {\n        const { glw } = this;\n        // Set to a 1x1 transparent texture\n        glw.texImage2D(0, glw.RGBA, 1, 1, 0, glw.RGBA, glw.UNSIGNED_BYTE, null);\n        this.setTextureMemUse(TRANSPARENT_TEXTURE_DATA.byteLength);\n        const textureData = await this.textureSource?.getTextureData();\n        // If the texture has been freed while loading, return early.\n        if (!this._nativeCtxTexture) {\n            assertTruthy(this._state === 'freed');\n            return { width: 0, height: 0 };\n        }\n        let width = 0;\n        let height = 0;\n        assertTruthy(this._nativeCtxTexture);\n        glw.activeTexture(0);\n        // If textureData is null, the texture is empty (0, 0) and we don't need to\n        // upload any data to the GPU.\n        if (window.ImageBitmap && textureData.data instanceof ImageBitmap ||\n            textureData.data instanceof ImageData ||\n            // not using typeof HTMLImageElement due to web worker\n            isHTMLImageElement(textureData.data)) {\n            const data = textureData.data;\n            width = data.width;\n            height = data.height;\n            glw.bindTexture(this._nativeCtxTexture);\n            glw.pixelStorei(glw.UNPACK_PREMULTIPLY_ALPHA_WEBGL, !!textureData.premultiplyAlpha);\n            glw.texImage2D(0, glw.RGBA, glw.RGBA, glw.UNSIGNED_BYTE, data);\n            this.setTextureMemUse(width * height * 4);\n            // generate mipmaps for power-of-2 textures or in WebGL2RenderingContext\n            if (glw.isWebGl2() || (isPowerOfTwo(width) && isPowerOfTwo(height))) {\n                glw.generateMipmap();\n            }\n        }\n        else if (textureData.data === null) {\n            width = 0;\n            height = 0;\n            // Reset to a 1x1 transparent texture\n            glw.bindTexture(this._nativeCtxTexture);\n            glw.texImage2D(0, glw.RGBA, 1, 1, 0, glw.RGBA, glw.UNSIGNED_BYTE, TRANSPARENT_TEXTURE_DATA);\n            this.setTextureMemUse(TRANSPARENT_TEXTURE_DATA.byteLength);\n        }\n        else if ('mipmaps' in textureData.data && textureData.data.mipmaps) {\n            const { mipmaps, width = 0, height = 0, type, glInternalFormat, } = textureData.data;\n            const view = type === 'ktx'\n                ? new DataView(mipmaps[0] ?? new ArrayBuffer(0))\n                : mipmaps[0];\n            glw.bindTexture(this._nativeCtxTexture);\n            glw.compressedTexImage2D(0, glInternalFormat, width, height, 0, view);\n            glw.texParameteri(glw.TEXTURE_WRAP_S, glw.CLAMP_TO_EDGE);\n            glw.texParameteri(glw.TEXTURE_WRAP_T, glw.CLAMP_TO_EDGE);\n            glw.texParameteri(glw.TEXTURE_MAG_FILTER, glw.LINEAR);\n            glw.texParameteri(glw.TEXTURE_MIN_FILTER, glw.LINEAR);\n            this.setTextureMemUse(view.byteLength);\n        }\n        else {\n            console.error(`WebGlCoreCtxTexture.onLoadRequest: Unexpected textureData returned`, textureData);\n        }\n        return {\n            width,\n            height,\n        };\n    }\n    /**\n     * Free the WebGLTexture from the GPU\n     *\n     * @returns\n     */\n    free() {\n        if (this._state === 'freed') {\n            return;\n        }\n        this._state = 'freed';\n        this.textureSource.setState('freed');\n        this._w = 0;\n        this._h = 0;\n        if (!this._nativeCtxTexture) {\n            return;\n        }\n        const { glw } = this;\n        glw.deleteTexture(this._nativeCtxTexture);\n        this.setTextureMemUse(0);\n        this._nativeCtxTexture = null;\n    }\n    /**\n     * Create native context texture\n     *\n     * @remarks\n     * When this method returns the returned texture will be bound to the GL context state.\n     *\n     * @param width\n     * @param height\n     * @returns\n     */\n    createNativeCtxTexture() {\n        const { glw } = this;\n        const nativeTexture = glw.createTexture();\n        if (!nativeTexture) {\n            throw new Error('Could not create WebGL Texture');\n        }\n        // On initial load request, create a 1x1 transparent texture to use until\n        // the texture data is finally loaded.\n        glw.activeTexture(0);\n        glw.bindTexture(nativeTexture);\n        // linear texture filtering\n        glw.texParameteri(glw.TEXTURE_MAG_FILTER, glw.LINEAR);\n        glw.texParameteri(glw.TEXTURE_MIN_FILTER, glw.LINEAR);\n        // texture wrapping method\n        glw.texParameteri(glw.TEXTURE_WRAP_S, glw.CLAMP_TO_EDGE);\n        glw.texParameteri(glw.TEXTURE_WRAP_T, glw.CLAMP_TO_EDGE);\n        return nativeTexture;\n    }\n}\n//# sourceMappingURL=WebGlCoreCtxTexture.js.map","/*\n * If not stated otherwise in this file or this component's LICENSE file the\n * following copyright and licenses apply:\n *\n * Copyright 2023 Comcast Cable Communications Management, LLC.\n *\n * Licensed under the Apache License, Version 2.0 (the License);\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { WebGlCoreCtxTexture } from './WebGlCoreCtxTexture.js';\nexport class WebGlCoreCtxSubTexture extends WebGlCoreCtxTexture {\n    constructor(glw, memManager, textureSource) {\n        super(glw, memManager, textureSource);\n    }\n    async onLoadRequest() {\n        const props = await this.textureSource.getTextureData();\n        return {\n            width: props.data?.width || 0,\n            height: props.data?.height || 0,\n        };\n    }\n}\n//# sourceMappingURL=WebGlCoreCtxSubTexture.js.map","/*\n * If not stated otherwise in this file or this component's LICENSE file the\n * following copyright and licenses apply:\n *\n * Copyright 2023 Comcast Cable Communications Management, LLC.\n *\n * Licensed under the Apache License, Version 2.0 (the License);\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * Represents a collection of WebGL Buffers along with their associated\n * vertex attribute formats.\n */\nexport class BufferCollection {\n    config;\n    constructor(config) {\n        this.config = config;\n    }\n    /**\n     * Get the WebGLBuffer associated with the given attribute name if it exists.\n     *\n     * @param attributeName\n     * @returns\n     */\n    getBuffer(attributeName) {\n        return this.config.find((item) => item.attributes[attributeName])?.buffer;\n    }\n    /**\n     * Get the AttributeInfo associated with the given attribute name if it exists.\n     *\n     * @param attributeName\n     * @returns\n     */\n    getAttributeInfo(attributeName) {\n        return this.config.find((item) => item.attributes[attributeName])\n            ?.attributes[attributeName];\n    }\n}\n//# sourceMappingURL=BufferCollection.js.map","/*\n * If not stated otherwise in this file or this component's LICENSE file the\n * following copyright and licenses apply:\n *\n * Copyright 2023 Comcast Cable Communications Management, LLC.\n *\n * Licensed under the Apache License, Version 2.0 (the License);\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * Generic WebGL Utility Functions\n *\n * @remarks\n * Nothing here should be coupled to Renderer logic / types.\n *\n * @param gl\n * @returns\n */\nexport function isWebGl2(gl) {\n    return (self.WebGL2RenderingContext && gl instanceof self.WebGL2RenderingContext);\n}\n//# sourceMappingURL=WebGlUtils.js.map","/* eslint-disable @typescript-eslint/no-unsafe-return */\n/* eslint-disable @typescript-eslint/no-explicit-any */\n/* eslint-disable @typescript-eslint/no-unsafe-argument */\nimport { assertTruthy } from '../../utils.js';\nimport { isWebGl2 } from '../renderers/webgl/internal/WebGlUtils.js';\n/**\n * Optimized WebGL Context Wrapper\n *\n * @remarks\n * This class contains the subset of the WebGLRenderingContext & WebGL2RenderingContext\n * API that is used by the renderer. Select high volume WebGL methods include\n * caching optimizations to avoid making WebGL calls if the state is already set\n * to the desired value.\n *\n * While most methods contained are direct passthroughs to the WebGL context,\n * some methods combine multiple WebGL calls into one for convenience, modify\n * arguments to be more convenient, or are replaced by more specific methods.\n *\n * Not all methods are optimized. Only methods that are called frequently\n * and/or have a high cost are optimized.\n *\n * A subset of GLenum constants are also exposed as properties on this class\n * for convenience.\n */\nexport class WebGlContextWrapper {\n    gl;\n    //#region Cached WebGL State\n    activeTextureUnit = 0;\n    texture2dUnits;\n    texture2dParams = new WeakMap();\n    scissorEnabled;\n    scissorX;\n    scissorY;\n    scissorWidth;\n    scissorHeight;\n    blendEnabled;\n    blendSrcRgb;\n    blendDstRgb;\n    blendSrcAlpha;\n    blendDstAlpha;\n    boundArrayBuffer;\n    boundElementArrayBuffer;\n    curProgram;\n    programUniforms = new WeakMap();\n    //#endregion Cached WebGL State\n    //#region Canvas\n    canvas;\n    //#endregion Canvas\n    //#region WebGL Enums\n    MAX_RENDERBUFFER_SIZE;\n    MAX_TEXTURE_SIZE;\n    MAX_VIEWPORT_DIMS;\n    MAX_VERTEX_TEXTURE_IMAGE_UNITS;\n    MAX_TEXTURE_IMAGE_UNITS;\n    MAX_COMBINED_TEXTURE_IMAGE_UNITS;\n    MAX_VERTEX_ATTRIBS;\n    MAX_VARYING_VECTORS;\n    MAX_VERTEX_UNIFORM_VECTORS;\n    MAX_FRAGMENT_UNIFORM_VECTORS;\n    TEXTURE_MAG_FILTER;\n    TEXTURE_MIN_FILTER;\n    TEXTURE_WRAP_S;\n    TEXTURE_WRAP_T;\n    LINEAR;\n    CLAMP_TO_EDGE;\n    RGBA;\n    UNSIGNED_BYTE;\n    UNPACK_PREMULTIPLY_ALPHA_WEBGL;\n    UNPACK_FLIP_Y_WEBGL;\n    FLOAT;\n    TRIANGLES;\n    UNSIGNED_SHORT;\n    ONE;\n    ONE_MINUS_SRC_ALPHA;\n    VERTEX_SHADER;\n    FRAGMENT_SHADER;\n    STATIC_DRAW;\n    COMPILE_STATUS;\n    LINK_STATUS;\n    DYNAMIC_DRAW;\n    COLOR_ATTACHMENT0;\n    //#endregion WebGL Enums\n    constructor(gl) {\n        this.gl = gl;\n        // The following code extracts the current state of the WebGL context\n        // to our local JavaScript cached version of it. This is so we can\n        // avoid making WebGL calls if we don't need to.\n        // We could assume that the WebGL context is in a default state, but\n        // in the future we may want to support restoring a broken WebGL context\n        // and this will help with that.\n        this.activeTextureUnit =\n            gl.getParameter(gl.ACTIVE_TEXTURE) - gl.TEXTURE0;\n        const maxTextureUnits = gl.getParameter(gl.MAX_TEXTURE_IMAGE_UNITS);\n        // save current texture units\n        this.texture2dUnits = new Array(maxTextureUnits)\n            .fill(undefined)\n            .map((_, i) => {\n            this.activeTexture(i);\n            return gl.getParameter(gl.TEXTURE_BINDING_2D);\n        });\n        // restore active texture unit\n        this.activeTexture(this.activeTextureUnit);\n        this.scissorEnabled = gl.isEnabled(gl.SCISSOR_TEST);\n        const scissorBox = gl.getParameter(gl.SCISSOR_BOX);\n        this.scissorX = scissorBox[0];\n        this.scissorY = scissorBox[1];\n        this.scissorWidth = scissorBox[2];\n        this.scissorHeight = scissorBox[3];\n        this.blendEnabled = gl.isEnabled(gl.BLEND);\n        this.blendSrcRgb = gl.getParameter(gl.BLEND_SRC_RGB);\n        this.blendDstRgb = gl.getParameter(gl.BLEND_DST_RGB);\n        this.blendSrcAlpha = gl.getParameter(gl.BLEND_SRC_ALPHA);\n        this.blendDstAlpha = gl.getParameter(gl.BLEND_DST_ALPHA);\n        this.boundArrayBuffer = gl.getParameter(gl.ARRAY_BUFFER_BINDING);\n        this.boundElementArrayBuffer = gl.getParameter(gl.ELEMENT_ARRAY_BUFFER_BINDING);\n        this.curProgram = gl.getParameter(gl.CURRENT_PROGRAM);\n        this.canvas = gl.canvas;\n        // Extract GLenums\n        this.MAX_RENDERBUFFER_SIZE = gl.MAX_RENDERBUFFER_SIZE;\n        this.MAX_TEXTURE_SIZE = gl.MAX_TEXTURE_SIZE;\n        this.MAX_VIEWPORT_DIMS = gl.MAX_VIEWPORT_DIMS;\n        this.MAX_VERTEX_TEXTURE_IMAGE_UNITS = gl.MAX_VERTEX_TEXTURE_IMAGE_UNITS;\n        this.MAX_TEXTURE_IMAGE_UNITS = gl.MAX_TEXTURE_IMAGE_UNITS;\n        this.MAX_COMBINED_TEXTURE_IMAGE_UNITS = gl.MAX_COMBINED_TEXTURE_IMAGE_UNITS;\n        this.MAX_VERTEX_ATTRIBS = gl.MAX_VERTEX_ATTRIBS;\n        this.MAX_VARYING_VECTORS = gl.MAX_VARYING_VECTORS;\n        this.MAX_VERTEX_UNIFORM_VECTORS = gl.MAX_VERTEX_UNIFORM_VECTORS;\n        this.MAX_FRAGMENT_UNIFORM_VECTORS = gl.MAX_FRAGMENT_UNIFORM_VECTORS;\n        this.TEXTURE_MAG_FILTER = gl.TEXTURE_MAG_FILTER;\n        this.TEXTURE_MIN_FILTER = gl.TEXTURE_MIN_FILTER;\n        this.TEXTURE_WRAP_S = gl.TEXTURE_WRAP_S;\n        this.TEXTURE_WRAP_T = gl.TEXTURE_WRAP_T;\n        this.LINEAR = gl.LINEAR;\n        this.CLAMP_TO_EDGE = gl.CLAMP_TO_EDGE;\n        this.RGBA = gl.RGBA;\n        this.UNSIGNED_BYTE = gl.UNSIGNED_BYTE;\n        this.UNPACK_PREMULTIPLY_ALPHA_WEBGL = gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL;\n        this.UNPACK_FLIP_Y_WEBGL = gl.UNPACK_FLIP_Y_WEBGL;\n        this.FLOAT = gl.FLOAT;\n        this.TRIANGLES = gl.TRIANGLES;\n        this.UNSIGNED_SHORT = gl.UNSIGNED_SHORT;\n        this.ONE = gl.ONE;\n        this.ONE_MINUS_SRC_ALPHA = gl.ONE_MINUS_SRC_ALPHA;\n        this.MAX_VERTEX_TEXTURE_IMAGE_UNITS = gl.MAX_VERTEX_TEXTURE_IMAGE_UNITS;\n        this.TRIANGLES = gl.TRIANGLES;\n        this.UNSIGNED_SHORT = gl.UNSIGNED_SHORT;\n        this.VERTEX_SHADER = gl.VERTEX_SHADER;\n        this.FRAGMENT_SHADER = gl.FRAGMENT_SHADER;\n        this.STATIC_DRAW = gl.STATIC_DRAW;\n        this.COMPILE_STATUS = gl.COMPILE_STATUS;\n        this.LINK_STATUS = gl.LINK_STATUS;\n        this.DYNAMIC_DRAW = gl.DYNAMIC_DRAW;\n        this.COLOR_ATTACHMENT0 = gl.COLOR_ATTACHMENT0;\n    }\n    /**\n     * Returns true if the WebGL context is WebGL2\n     *\n     * @returns\n     */\n    isWebGl2() {\n        return isWebGl2(this.gl);\n    }\n    /**\n     * ```\n     * gl.activeTexture(textureUnit + gl.TEXTURE0);\n     * ```\n     *\n     * @remarks\n     * **WebGL Difference**: `textureUnit` is based from 0, not `gl.TEXTURE0`.\n     *\n     * @param textureUnit\n     */\n    activeTexture(textureUnit) {\n        const { gl } = this;\n        if (this.activeTextureUnit !== textureUnit) {\n            gl.activeTexture(textureUnit + gl.TEXTURE0);\n            this.activeTextureUnit = textureUnit;\n        }\n    }\n    /**\n     * ```\n     * gl.bindTexture(gl.TEXTURE_2D, texture);\n     * ```\n     * @remarks\n     * **WebGL Difference**: Bind target is always `gl.TEXTURE_2D`\n     *\n     * @param texture\n     */\n    bindTexture(texture) {\n        const { gl, activeTextureUnit, texture2dUnits } = this;\n        if (texture2dUnits[activeTextureUnit] === texture) {\n            return;\n        }\n        texture2dUnits[activeTextureUnit] = texture;\n        gl.bindTexture(this.gl.TEXTURE_2D, texture);\n    }\n    _getActiveTexture() {\n        const { activeTextureUnit, texture2dUnits } = this;\n        return texture2dUnits[activeTextureUnit];\n    }\n    /**\n     * ```\n     * gl.texParameteri(gl.TEXTURE_2D, pname, param);\n     * ```\n     * @remarks\n     * **WebGL Difference**: Bind target is always `gl.TEXTURE_2D`\n     *\n     * @param pname\n     * @param param\n     * @returns\n     */\n    texParameteri(pname, param) {\n        const { gl, texture2dParams } = this;\n        const activeTexture = this._getActiveTexture();\n        if (!activeTexture) {\n            throw new Error('No active texture');\n        }\n        let textureParams = texture2dParams.get(activeTexture);\n        if (!textureParams) {\n            textureParams = {};\n            texture2dParams.set(activeTexture, textureParams);\n        }\n        if (textureParams[pname] === param) {\n            return;\n        }\n        textureParams[pname] = param;\n        gl.texParameteri(gl.TEXTURE_2D, pname, param);\n    }\n    texImage2D(level, internalFormat, widthOrFormat, heightOrType, borderOrSource, format, type, pixels) {\n        const { gl } = this;\n        if (format) {\n            gl.texImage2D(gl.TEXTURE_2D, level, internalFormat, widthOrFormat, heightOrType, borderOrSource, format, type, pixels);\n        }\n        else {\n            gl.texImage2D(gl.TEXTURE_2D, level, internalFormat, widthOrFormat, heightOrType, borderOrSource);\n        }\n    }\n    /**\n     * ```\n     * gl.compressedTexImage2D(gl.TEXTURE_2D, level, internalFormat, width, height, border, data);\n     * ```\n     *\n     * @remarks\n     * **WebGL Difference**: Bind target is always `gl.TEXTURE_2D`\n     */\n    compressedTexImage2D(level, internalformat, width, height, border, data) {\n        const { gl } = this;\n        gl.compressedTexImage2D(gl.TEXTURE_2D, level, internalformat, width, height, border, data);\n    }\n    /**\n     * ```\n     * gl.pixelStorei(pname, param);\n     * ```\n     *\n     * @param pname\n     * @param param\n     */\n    pixelStorei(pname, param) {\n        const { gl } = this;\n        gl.pixelStorei(pname, param);\n    }\n    /**\n     * ```\n     * gl.generateMipmap(gl.TEXTURE_2D);\n     * ```\n     *\n     * @remarks\n     * **WebGL Difference**: Bind target is always `gl.TEXTURE_2D`\n     */\n    generateMipmap() {\n        const { gl } = this;\n        gl.generateMipmap(gl.TEXTURE_2D);\n    }\n    /**\n     * ```\n     * gl.createTexture();\n     * ```\n     *\n     * @returns\n     */\n    createTexture() {\n        const { gl } = this;\n        return gl.createTexture();\n    }\n    /**\n     * ```\n     * gl.deleteTexture(texture);\n     * ```\n     *\n     * @param texture\n     */\n    deleteTexture(texture) {\n        const { gl } = this;\n        if (texture) {\n            this.texture2dParams.delete(texture);\n        }\n        gl.deleteTexture(texture);\n    }\n    /**\n     * ```\n     * gl.viewport(x, y, width, height);\n     * ```\n     */\n    viewport(x, y, width, height) {\n        const { gl } = this;\n        gl.viewport(x, y, width, height);\n    }\n    /**\n     * ```\n     * gl.clearColor(red, green, blue, alpha);\n     * ```\n     *\n     * @param red\n     * @param green\n     * @param blue\n     * @param alpha\n     */\n    clearColor(red, green, blue, alpha) {\n        const { gl } = this;\n        gl.clearColor(red, green, blue, alpha);\n    }\n    /**\n     * ```\n     * gl[\"enable\"|\"disable\"](gl.SCISSOR_TEST);\n     * ```\n     * @param enable\n     */\n    setScissorTest(enable) {\n        const { gl, scissorEnabled } = this;\n        if (enable === scissorEnabled) {\n            return;\n        }\n        if (enable) {\n            gl.enable(gl.SCISSOR_TEST);\n        }\n        else {\n            gl.disable(gl.SCISSOR_TEST);\n        }\n        this.scissorEnabled = enable;\n    }\n    /**\n     * ```\n     * gl.scissor(x, y, width, height);\n     * ```\n     *\n     * @param x\n     * @param y\n     * @param width\n     * @param height\n     */\n    scissor(x, y, width, height) {\n        const { gl, scissorX, scissorY, scissorWidth, scissorHeight } = this;\n        if (x !== scissorX ||\n            y !== scissorY ||\n            width !== scissorWidth ||\n            height !== scissorHeight) {\n            gl.scissor(x, y, width, height);\n            this.scissorX = x;\n            this.scissorY = y;\n            this.scissorWidth = width;\n            this.scissorHeight = height;\n        }\n    }\n    /**\n     * ```\n     * gl[\"enable\"|\"disable\"](gl.BLEND);\n     * ```\n     *\n     * @param blend\n     * @returns\n     */\n    setBlend(blend) {\n        const { gl, blendEnabled } = this;\n        if (blend === blendEnabled) {\n            return;\n        }\n        if (blend) {\n            gl.enable(gl.BLEND);\n        }\n        else {\n            gl.disable(gl.BLEND);\n        }\n        this.blendEnabled = blend;\n    }\n    /**\n     * ```\n     * gl.blendFunc(src, dst);\n     * ```\n     *\n     * @param src\n     * @param dst\n     */\n    blendFunc(src, dst) {\n        const { gl, blendSrcRgb, blendDstRgb, blendSrcAlpha, blendDstAlpha } = this;\n        if (src !== blendSrcRgb ||\n            dst !== blendDstRgb ||\n            src !== blendSrcAlpha ||\n            dst !== blendDstAlpha) {\n            gl.blendFunc(src, dst);\n            this.blendSrcRgb = src;\n            this.blendDstRgb = dst;\n            this.blendSrcAlpha = src;\n            this.blendDstAlpha = dst;\n        }\n    }\n    /**\n     * ```\n     * gl.createBuffer();\n     * ```\n     *\n     * @returns\n     */\n    createBuffer() {\n        const { gl } = this;\n        return gl.createBuffer();\n    }\n    /**\n     * ```\n     * gl.createFramebuffer();\n     * ```\n     * @returns\n     */\n    createFramebuffer() {\n        const { gl } = this;\n        return gl.createFramebuffer();\n    }\n    /**\n     * ```\n     * gl.bindFramebuffer(gl.FRAMEBUFFER, framebuffer);\n     * ```\n     *\n     * @param framebuffer\n     */\n    bindFramebuffer(framebuffer) {\n        const { gl } = this;\n        gl.bindFramebuffer(gl.FRAMEBUFFER, framebuffer);\n    }\n    /**\n     * ```\n     * gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, texture, 0);\n     * ```\n     * @remarks\n     * **WebGL Difference**: Bind target is always `gl.FRAMEBUFFER` and textarget is always `gl.TEXTURE_2D`\n     */\n    framebufferTexture2D(attachment, texture, level) {\n        const { gl } = this;\n        gl.framebufferTexture2D(gl.FRAMEBUFFER, attachment, gl.TEXTURE_2D, texture, level);\n    }\n    /**\n     * ```\n     * gl.clear(gl.COLOR_BUFFER_BIT);\n     * ```\n     *\n     * @remarks\n     * **WebGL Difference**: Clear mask is always `gl.COLOR_BUFFER_BIT`\n     */\n    clear() {\n        const { gl } = this;\n        gl.clear(gl.COLOR_BUFFER_BIT);\n    }\n    /**\n     * ```\n     * gl.bindBuffer(gl.ARRAY_BUFFER, buffer);\n     * gl.bufferData(gl.ARRAY_BUFFER, data, usage);\n     * ```\n     *\n     * @remarks\n     * **WebGL Combo**: `gl.bindBuffer` and `gl.bufferData` are combined into one function.\n     *\n     * @param buffer\n     * @param data\n     * @param usage\n     */\n    arrayBufferData(buffer, data, usage) {\n        const { gl, boundArrayBuffer } = this;\n        if (boundArrayBuffer !== buffer) {\n            gl.bindBuffer(gl.ARRAY_BUFFER, buffer);\n            this.boundArrayBuffer = buffer;\n        }\n        gl.bufferData(gl.ARRAY_BUFFER, data, usage);\n    }\n    /**\n     * ```\n     * gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, buffer);\n     * gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, data, usage);\n     * ```\n     * @remarks\n     * **WebGL Combo**: `gl.bindBuffer` and `gl.bufferData` are combined into one function.\n     *\n     * @param buffer\n     * @param data\n     * @param usage\n     */\n    elementArrayBufferData(buffer, data, usage) {\n        const { gl, boundElementArrayBuffer } = this;\n        if (boundElementArrayBuffer !== buffer) {\n            gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, buffer);\n            this.boundElementArrayBuffer = buffer;\n        }\n        gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, data, usage);\n    }\n    /**\n     * ```\n     * gl.bindBuffer(gl.ARRAY_BUFFER, buffer);\n     * gl.vertexAttribPointer(index, size, type, normalized, stride, offset);\n     * ```\n     *\n     * @remarks\n     * **WebGL Combo**: `gl.bindBuffer` and `gl.vertexAttribPointer` are combined into one function.\n     *\n     * @param buffer\n     * @param index\n     * @param size\n     * @param type\n     * @param normalized\n     * @param stride\n     * @param offset\n     */\n    vertexAttribPointer(buffer, index, size, type, normalized, stride, offset) {\n        const { gl, boundArrayBuffer } = this;\n        if (boundArrayBuffer !== buffer) {\n            gl.bindBuffer(gl.ARRAY_BUFFER, buffer);\n            this.boundArrayBuffer = buffer;\n        }\n        gl.vertexAttribPointer(index, size, type, normalized, stride, offset);\n    }\n    /**\n     * ```\n     * gl.useProgram(program);\n     * ```\n     *\n     * @param program\n     * @returns\n     */\n    useProgram(program) {\n        const { gl, curProgram } = this;\n        if (curProgram === program) {\n            return;\n        }\n        gl.useProgram(program);\n        this.curProgram = program;\n    }\n    setUniform(type, location, ...args) {\n        const { gl, programUniforms } = this;\n        let uniforms = programUniforms.get(this.curProgram);\n        if (!uniforms) {\n            uniforms = new Map();\n            programUniforms.set(this.curProgram, uniforms);\n        }\n        const uniformArgs = uniforms.get(location);\n        if (!uniformArgs || !compareArrays(uniformArgs, args)) {\n            uniforms.set(location, args);\n            gl[type](location, ...args);\n        }\n    }\n    /**\n     * ```\n     * gl.getParameter(pname);\n     * ```\n     *\n     * @param pname\n     * @returns\n     */\n    getParameter(pname) {\n        const { gl } = this;\n        return gl.getParameter(pname);\n    }\n    /**\n     * ```\n     * gl.drawElements(mode, count, type, offset);\n     * ```\n     *\n     * @param mode\n     * @param count\n     * @param type\n     * @param offset\n     */\n    drawElements(mode, count, type, offset) {\n        const { gl } = this;\n        gl.drawElements(mode, count, type, offset);\n    }\n    /**\n     * ```\n     * gl.drawArrays(mode, first, count);\n     * ```\n     *\n     * @param name\n     * @returns\n     */\n    getExtension(name) {\n        const { gl } = this;\n        return gl.getExtension(name);\n    }\n    /**\n     * ```\n     * gl.createVertexArray();\n     * ```\n     *\n     * @returns\n     */\n    createVertexArray() {\n        const { gl } = this;\n        assertTruthy(gl instanceof WebGL2RenderingContext);\n        return gl.createVertexArray();\n    }\n    /**\n     * ```\n     * gl.bindVertexArray(vertexArray);\n     * ```\n     *\n     * @param vertexArray\n     */\n    bindVertexArray(vertexArray) {\n        const { gl } = this;\n        assertTruthy(gl instanceof WebGL2RenderingContext);\n        gl.bindVertexArray(vertexArray);\n    }\n    /**\n     * ```\n     * gl.getAttribLocation(program, name);\n     * ```\n     *\n     * @param program\n     * @param name\n     * @returns\n     */\n    getAttribLocation(program, name) {\n        const { gl } = this;\n        return gl.getAttribLocation(program, name);\n    }\n    /**\n     * ```\n     * gl.getUniformLocation(program, name);\n     * ```\n     *\n     * @param program\n     * @param name\n     * @returns\n     */\n    getUniformLocation(program, name) {\n        const { gl } = this;\n        return gl.getUniformLocation(program, name);\n    }\n    /**\n     * ```\n     * gl.enableVertexAttribArray(index);\n     * ```\n     *\n     * @param index\n     */\n    enableVertexAttribArray(index) {\n        const { gl } = this;\n        gl.enableVertexAttribArray(index);\n    }\n    /**\n     * ```\n     * gl.disableVertexAttribArray(index);\n     * ```\n     *\n     * @param index\n     */\n    disableVertexAttribArray(index) {\n        const { gl } = this;\n        gl.disableVertexAttribArray(index);\n    }\n    /**\n     * ```\n     * gl.createShader(type);\n     * ```\n     *\n     * @param type\n     * @returns\n     */\n    createShader(type) {\n        const { gl } = this;\n        return gl.createShader(type);\n    }\n    /**\n     * ```\n     * gl.compileShader(shader);\n     * ```\n     *\n     * @param shader\n     * @returns\n     */\n    compileShader(shader) {\n        const { gl } = this;\n        gl.compileShader(shader);\n    }\n    /**\n     * ```\n     * gl.attachShader(program, shader);\n     * ```\n     *\n     * @param program\n     * @param shader\n     */\n    attachShader(program, shader) {\n        const { gl } = this;\n        gl.attachShader(program, shader);\n    }\n    /**\n     * ```\n     * gl.linkProgram(program);\n     * ```\n     *\n     * @param program\n     */\n    linkProgram(program) {\n        const { gl } = this;\n        gl.linkProgram(program);\n    }\n    /**\n     * ```\n     * gl.deleteProgram(shader);\n     * ```\n     *\n     * @param shader\n     */\n    deleteProgram(shader) {\n        const { gl } = this;\n        gl.deleteProgram(shader);\n    }\n    /**\n     * ```\n     * gl.getShaderParameter(shader, pname);\n     * ```\n     *\n     * @param shader\n     * @param pname\n     */\n    getShaderParameter(shader, pname) {\n        const { gl } = this;\n        return gl.getShaderParameter(shader, pname);\n    }\n    /**\n     * ```\n     * gl.getShaderInfoLog(shader);\n     * ```\n     *\n     * @param shader\n     */\n    getShaderInfoLog(shader) {\n        const { gl } = this;\n        return gl.getShaderInfoLog(shader);\n    }\n    /**\n     * ```\n     * gl.createProgram();\n     * ```\n     *\n     * @returns\n     */\n    createProgram() {\n        const { gl } = this;\n        return gl.createProgram();\n    }\n    /**\n     * ```\n     * gl.getProgramParameter(program, pname);\n     * ```\n     *\n     * @param program\n     * @param pname\n     * @returns\n     */\n    getProgramParameter(program, pname) {\n        const { gl } = this;\n        return gl.getProgramParameter(program, pname);\n    }\n    /**\n     * ```\n     * gl.getProgramInfoLog(program);\n     * ```\n     *\n     * @param program\n     * @returns\n     */\n    getProgramInfoLog(program) {\n        const { gl } = this;\n        return gl.getProgramInfoLog(program);\n    }\n    /**\n     * ```\n     * gl.shaderSource(shader, source);\n     * ```\n     *\n     * @param shader\n     * @param source\n     */\n    shaderSource(shader, source) {\n        const { gl } = this;\n        gl.shaderSource(shader, source);\n    }\n    /**\n     * ```\n     * gl.deleteShader(shader);\n     * ```\n     *\n     * @param shader\n     */\n    deleteShader(shader) {\n        const { gl } = this;\n        gl.deleteShader(shader);\n    }\n}\n/**\n * Compare two arrays for equality.\n *\n * @remarks\n * This function will not try to compare nested arrays or Float32Arrays and\n * instead will always return false when they are encountered.\n *\n * @param a\n * @param b\n * @returns\n */\nexport function compareArrays(a, b) {\n    if (a.length !== b.length) {\n        return false;\n    }\n    return a.every((v, i) => {\n        // Don't bother to compare nested arrays or Float32Arrays\n        if (Array.isArray(v) || v instanceof Float32Array) {\n            return false;\n        }\n        else {\n            return v === b[i];\n        }\n    });\n}\n//# sourceMappingURL=WebGlContextWrapper.js.map","/*\n * If not stated otherwise in this file or this component's LICENSE file the\n * following copyright and licenses apply:\n *\n * Copyright 2024 Comcast Cable Communications Management, LLC.\n *\n * Licensed under the Apache License, Version 2.0 (the License);\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { assertTruthy } from '../../../utils.js';\nimport { WebGlCoreCtxTexture } from './WebGlCoreCtxTexture.js';\nexport class WebGlCoreCtxRenderTexture extends WebGlCoreCtxTexture {\n    framebuffer;\n    constructor(glw, memManager, textureSource) {\n        super(glw, memManager, textureSource);\n        // Create Framebuffer object\n        const framebuffer = glw.createFramebuffer();\n        assertTruthy(framebuffer, 'Unable to create framebuffer');\n        this.framebuffer = framebuffer;\n    }\n    async onLoadRequest() {\n        const { glw } = this;\n        const nativeTexture = (this._nativeCtxTexture =\n            this.createNativeCtxTexture());\n        const { width, height } = this.textureSource;\n        // Set the dimensions of the render texture\n        glw.texImage2D(0, glw.RGBA, width, height, 0, glw.RGBA, glw.UNSIGNED_BYTE, null);\n        // Update the texture memory manager\n        this.setTextureMemUse(width * height * 4);\n        // Bind the framebuffer\n        glw.bindFramebuffer(this.framebuffer);\n        // Attach the texture to the framebuffer\n        glw.framebufferTexture2D(glw.COLOR_ATTACHMENT0, nativeTexture, 0);\n        // Unbind the framebuffer\n        glw.bindFramebuffer(null);\n        return {\n            width,\n            height,\n        };\n    }\n}\n//# sourceMappingURL=WebGlCoreCtxRenderTexture.js.map","/*\n * If not stated otherwise in this file or this component's LICENSE file the\n * following copyright and licenses apply:\n *\n * Copyright 2023 Comcast Cable Communications Management, LLC.\n *\n * Licensed under the Apache License, Version 2.0 (the License);\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { assertTruthy, createWebGLContext, hasOwn } from '../../../utils.js';\nimport { CoreRenderer, } from '../CoreRenderer.js';\nimport { WebGlCoreRenderOp } from './WebGlCoreRenderOp.js';\nimport { createIndexBuffer, getWebGlParameters, getWebGlExtensions, } from './internal/RendererUtils.js';\nimport { WebGlCoreCtxTexture } from './WebGlCoreCtxTexture.js';\nimport { Texture } from '../../textures/Texture.js';\nimport { ColorTexture } from '../../textures/ColorTexture.js';\nimport { SubTexture } from '../../textures/SubTexture.js';\nimport { WebGlCoreCtxSubTexture } from './WebGlCoreCtxSubTexture.js';\nimport { CoreShaderManager } from '../../CoreShaderManager.js';\nimport { BufferCollection } from './internal/BufferCollection.js';\nimport { compareRect, getNormalizedRgbaComponents, } from '../../lib/utils.js';\nimport { WebGlCoreShader } from './WebGlCoreShader.js';\nimport { WebGlContextWrapper } from '../../lib/WebGlContextWrapper.js';\nimport { RenderTexture } from '../../textures/RenderTexture.js';\nimport { WebGlCoreCtxRenderTexture } from './WebGlCoreCtxRenderTexture.js';\nimport { ImageTexture } from '../../textures/ImageTexture.js';\nconst WORDS_PER_QUAD = 24;\nexport class WebGlCoreRenderer extends CoreRenderer {\n    //// WebGL Native Context and Data\n    glw;\n    system;\n    //// Persistent data\n    quadBuffer;\n    fQuadBuffer;\n    uiQuadBuffer;\n    renderOps = [];\n    //// Render Op / Buffer Filling State\n    curBufferIdx = 0;\n    curRenderOp = null;\n    rttNodes = [];\n    activeRttNode = null;\n    //// Default Shader\n    defShaderCtrl;\n    defaultShader;\n    quadBufferCollection;\n    /**\n     * White pixel texture used by default when no texture is specified.\n     */\n    defaultTexture;\n    quadBufferUsage = 0;\n    /**\n     * Whether the renderer is currently rendering to a texture.\n     */\n    renderToTextureActive = false;\n    constructor(options) {\n        super(options);\n        this.quadBuffer = new ArrayBuffer(this.stage.options.quadBufferSize);\n        this.fQuadBuffer = new Float32Array(this.quadBuffer);\n        this.uiQuadBuffer = new Uint32Array(this.quadBuffer);\n        this.mode = 'webgl';\n        const { canvas, clearColor, bufferMemory } = options;\n        this.defaultTexture = new ColorTexture(this.txManager);\n        // Mark the default texture as ALWAYS renderable\n        // This prevents it from ever being cleaned up.\n        // Fixes https://github.com/lightning-js/renderer/issues/262\n        this.defaultTexture.setRenderableOwner(this, true);\n        // When the default texture is loaded, request a render in case the\n        // RAF is paused. Fixes: https://github.com/lightning-js/renderer/issues/123\n        this.defaultTexture.once('loaded', () => {\n            this.stage.requestRender();\n        });\n        const gl = createWebGLContext(canvas, options.contextSpy);\n        const glw = (this.glw = new WebGlContextWrapper(gl));\n        const color = getNormalizedRgbaComponents(clearColor);\n        glw.viewport(0, 0, canvas.width, canvas.height);\n        glw.clearColor(color[0], color[1], color[2], color[3]);\n        glw.setBlend(true);\n        glw.blendFunc(glw.ONE, glw.ONE_MINUS_SRC_ALPHA);\n        createIndexBuffer(glw, bufferMemory);\n        this.system = {\n            parameters: getWebGlParameters(this.glw),\n            extensions: getWebGlExtensions(this.glw),\n        };\n        this.shManager.renderer = this;\n        this.defShaderCtrl = this.shManager.loadShader('DefaultShader');\n        this.defaultShader = this.defShaderCtrl.shader;\n        const quadBuffer = glw.createBuffer();\n        assertTruthy(quadBuffer);\n        const stride = 6 * Float32Array.BYTES_PER_ELEMENT;\n        this.quadBufferCollection = new BufferCollection([\n            {\n                buffer: quadBuffer,\n                attributes: {\n                    a_position: {\n                        name: 'a_position',\n                        size: 2,\n                        type: glw.FLOAT,\n                        normalized: false,\n                        stride,\n                        offset: 0, // start at the beginning of the buffer\n                    },\n                    a_textureCoordinate: {\n                        name: 'a_textureCoordinate',\n                        size: 2,\n                        type: glw.FLOAT,\n                        normalized: false,\n                        stride,\n                        offset: 2 * Float32Array.BYTES_PER_ELEMENT,\n                    },\n                    a_color: {\n                        name: 'a_color',\n                        size: 4,\n                        type: glw.UNSIGNED_BYTE,\n                        normalized: true,\n                        stride,\n                        offset: 4 * Float32Array.BYTES_PER_ELEMENT,\n                    },\n                    a_textureIndex: {\n                        name: 'a_textureIndex',\n                        size: 1,\n                        type: glw.FLOAT,\n                        normalized: false,\n                        stride,\n                        offset: 5 * Float32Array.BYTES_PER_ELEMENT,\n                    },\n                },\n            },\n        ]);\n    }\n    reset() {\n        const { glw } = this;\n        this.curBufferIdx = 0;\n        this.curRenderOp = null;\n        this.renderOps.length = 0;\n        glw.setScissorTest(false);\n        glw.clear();\n    }\n    getShaderManager() {\n        return this.shManager;\n    }\n    createCtxTexture(textureSource) {\n        if (textureSource instanceof SubTexture) {\n            return new WebGlCoreCtxSubTexture(this.glw, this.txMemManager, textureSource);\n        }\n        else if (textureSource instanceof RenderTexture) {\n            return new WebGlCoreCtxRenderTexture(this.glw, this.txMemManager, textureSource);\n        }\n        return new WebGlCoreCtxTexture(this.glw, this.txMemManager, textureSource);\n    }\n    /**\n     * This function adds a quad (a rectangle composed of two triangles) to the WebGL rendering pipeline.\n     *\n     * It takes a set of options that define the quad's properties, such as its dimensions, colors, texture, shader, and transformation matrix.\n     * The function first updates the shader properties with the current dimensions if necessary, then sets the default texture if none is provided.\n     * It then checks if a new render operation is needed, based on the current shader and clipping rectangle.\n     * If a new render operation is needed, it creates one and updates the current render operation.\n     * The function then adjusts the texture coordinates based on the texture options and adds the texture to the texture manager.\n     *\n     * Finally, it calculates the vertices for the quad, taking into account any transformations, and adds them to the quad buffer.\n     * The function updates the length and number of quads in the current render operation, and updates the current buffer index.\n     */\n    addQuad(params) {\n        const { fQuadBuffer, uiQuadBuffer } = this;\n        const { width, height, colorTl, colorTr, colorBl, colorBr, textureOptions, shader, shaderProps, alpha, clippingRect, tx, ty, ta, tb, tc, td, renderCoords, rtt: renderToTexture, parentHasRenderTexture, framebufferDimensions, } = params;\n        let { texture } = params;\n        /**\n         * If the shader props contain any automatic properties, update it with the\n         * current dimensions that will be used to render the quad.\n         */\n        if (shaderProps && hasOwn(shaderProps, '$dimensions')) {\n            const dimensions = shaderProps.$dimensions;\n            // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\n            dimensions.width = width;\n            dimensions.height = height;\n        }\n        texture = texture ?? this.defaultTexture;\n        assertTruthy(texture instanceof Texture, 'Invalid texture type');\n        let { curBufferIdx: bufferIdx, curRenderOp } = this;\n        const targetDims = {\n            width,\n            height,\n        };\n        const targetShader = shader || this.defaultShader;\n        assertTruthy(targetShader instanceof WebGlCoreShader);\n        if (!this.reuseRenderOp(params)) {\n            // eslint-disable-next-line @typescript-eslint/no-unsafe-argument\n            this.newRenderOp(targetShader, shaderProps, alpha, targetDims, clippingRect, bufferIdx, renderToTexture, parentHasRenderTexture, framebufferDimensions);\n            curRenderOp = this.curRenderOp;\n            assertTruthy(curRenderOp);\n        }\n        const flipX = textureOptions?.flipX ?? false;\n        let flipY = textureOptions?.flipY ?? false;\n        // always flip flipY for render textures\n        if (texture instanceof RenderTexture) {\n            flipY = !flipY;\n        }\n        let texCoordX1 = 0;\n        let texCoordY1 = 0;\n        let texCoordX2 = 1;\n        let texCoordY2 = 1;\n        if (texture instanceof SubTexture) {\n            const { x: tx, y: ty, width: tw, height: th } = texture.props;\n            const { width: parentW = 0, height: parentH = 0 } = texture.parentTexture\n                .dimensions || { width: 0, height: 0 };\n            texCoordX1 = tx / parentW;\n            texCoordX2 = texCoordX1 + tw / parentW;\n            texCoordY1 = ty / parentH;\n            texCoordY2 = texCoordY1 + th / parentH;\n            texture = texture.parentTexture;\n        }\n        const resizeMode = textureOptions?.resizeMode ?? false;\n        if (texture instanceof ImageTexture) {\n            if (resizeMode && texture.dimensions) {\n                const { width: tw, height: th } = texture.dimensions;\n                if (resizeMode.type === 'cover') {\n                    const scaleX = width / tw;\n                    const scaleY = height / th;\n                    const scale = Math.max(scaleX, scaleY);\n                    const precision = 1 / scale;\n                    // Determine based on width\n                    if (scale && scaleX && scaleX < scale) {\n                        const desiredSize = precision * width;\n                        texCoordX1 = (1 - desiredSize / tw) * (resizeMode.clipX ?? 0.5);\n                        texCoordX2 = texCoordX1 + desiredSize / tw;\n                    }\n                    // Determine based on height\n                    if (scale && scaleY && scaleY < scale) {\n                        const desiredSize = precision * height;\n                        texCoordY1 = (1 - desiredSize / th) * (resizeMode.clipY ?? 0.5);\n                        texCoordY2 = texCoordY1 + desiredSize / th;\n                    }\n                }\n            }\n        }\n        // Flip texture coordinates if dictated by texture options\n        if (flipX) {\n            [texCoordX1, texCoordX2] = [texCoordX2, texCoordX1];\n        }\n        if (flipY) {\n            [texCoordY1, texCoordY2] = [texCoordY2, texCoordY1];\n        }\n        const ctxTexture = texture.ctxTexture;\n        assertTruthy(ctxTexture instanceof WebGlCoreCtxTexture);\n        const textureIdx = this.addTexture(ctxTexture, bufferIdx);\n        curRenderOp = this.curRenderOp;\n        assertTruthy(curRenderOp);\n        if (renderCoords) {\n            const { x1, y1, x2, y2, x3, y3, x4, y4 } = renderCoords;\n            // Upper-Left\n            fQuadBuffer[bufferIdx++] = x1; // vertexX\n            fQuadBuffer[bufferIdx++] = y1; // vertexY\n            fQuadBuffer[bufferIdx++] = texCoordX1; // texCoordX\n            fQuadBuffer[bufferIdx++] = texCoordY1; // texCoordY\n            uiQuadBuffer[bufferIdx++] = colorTl; // color\n            fQuadBuffer[bufferIdx++] = textureIdx; // texIndex\n            // Upper-Right\n            fQuadBuffer[bufferIdx++] = x2;\n            fQuadBuffer[bufferIdx++] = y2;\n            fQuadBuffer[bufferIdx++] = texCoordX2;\n            fQuadBuffer[bufferIdx++] = texCoordY1;\n            uiQuadBuffer[bufferIdx++] = colorTr;\n            fQuadBuffer[bufferIdx++] = textureIdx;\n            // Lower-Left\n            fQuadBuffer[bufferIdx++] = x4;\n            fQuadBuffer[bufferIdx++] = y4;\n            fQuadBuffer[bufferIdx++] = texCoordX1;\n            fQuadBuffer[bufferIdx++] = texCoordY2;\n            uiQuadBuffer[bufferIdx++] = colorBl;\n            fQuadBuffer[bufferIdx++] = textureIdx;\n            // Lower-Right\n            fQuadBuffer[bufferIdx++] = x3;\n            fQuadBuffer[bufferIdx++] = y3;\n            fQuadBuffer[bufferIdx++] = texCoordX2;\n            fQuadBuffer[bufferIdx++] = texCoordY2;\n            uiQuadBuffer[bufferIdx++] = colorBr;\n            fQuadBuffer[bufferIdx++] = textureIdx;\n        }\n        else if (tb !== 0 || tc !== 0) {\n            // Upper-Left\n            fQuadBuffer[bufferIdx++] = tx; // vertexX\n            fQuadBuffer[bufferIdx++] = ty; // vertexY\n            fQuadBuffer[bufferIdx++] = texCoordX1; // texCoordX\n            fQuadBuffer[bufferIdx++] = texCoordY1; // texCoordY\n            uiQuadBuffer[bufferIdx++] = colorTl; // color\n            fQuadBuffer[bufferIdx++] = textureIdx; // texIndex\n            // Upper-Right\n            fQuadBuffer[bufferIdx++] = tx + width * ta;\n            fQuadBuffer[bufferIdx++] = ty + width * tc;\n            fQuadBuffer[bufferIdx++] = texCoordX2;\n            fQuadBuffer[bufferIdx++] = texCoordY1;\n            uiQuadBuffer[bufferIdx++] = colorTr;\n            fQuadBuffer[bufferIdx++] = textureIdx;\n            // Lower-Left\n            fQuadBuffer[bufferIdx++] = tx + height * tb;\n            fQuadBuffer[bufferIdx++] = ty + height * td;\n            fQuadBuffer[bufferIdx++] = texCoordX1;\n            fQuadBuffer[bufferIdx++] = texCoordY2;\n            uiQuadBuffer[bufferIdx++] = colorBl;\n            fQuadBuffer[bufferIdx++] = textureIdx;\n            // Lower-Right\n            fQuadBuffer[bufferIdx++] = tx + width * ta + height * tb;\n            fQuadBuffer[bufferIdx++] = ty + width * tc + height * td;\n            fQuadBuffer[bufferIdx++] = texCoordX2;\n            fQuadBuffer[bufferIdx++] = texCoordY2;\n            uiQuadBuffer[bufferIdx++] = colorBr;\n            fQuadBuffer[bufferIdx++] = textureIdx;\n        }\n        else {\n            // Calculate the right corner of the quad\n            // multiplied by the scale\n            const rightCornerX = tx + width * ta;\n            const rightCornerY = ty + height * td;\n            // Upper-Left\n            fQuadBuffer[bufferIdx++] = tx; // vertexX\n            fQuadBuffer[bufferIdx++] = ty; // vertexY\n            fQuadBuffer[bufferIdx++] = texCoordX1; // texCoordX\n            fQuadBuffer[bufferIdx++] = texCoordY1; // texCoordY\n            uiQuadBuffer[bufferIdx++] = colorTl; // color\n            fQuadBuffer[bufferIdx++] = textureIdx; // texIndex\n            // Upper-Right\n            fQuadBuffer[bufferIdx++] = rightCornerX;\n            fQuadBuffer[bufferIdx++] = ty;\n            fQuadBuffer[bufferIdx++] = texCoordX2;\n            fQuadBuffer[bufferIdx++] = texCoordY1;\n            uiQuadBuffer[bufferIdx++] = colorTr;\n            fQuadBuffer[bufferIdx++] = textureIdx;\n            // Lower-Left\n            fQuadBuffer[bufferIdx++] = tx;\n            fQuadBuffer[bufferIdx++] = rightCornerY;\n            fQuadBuffer[bufferIdx++] = texCoordX1;\n            fQuadBuffer[bufferIdx++] = texCoordY2;\n            uiQuadBuffer[bufferIdx++] = colorBl;\n            fQuadBuffer[bufferIdx++] = textureIdx;\n            // Lower-Right\n            fQuadBuffer[bufferIdx++] = rightCornerX;\n            fQuadBuffer[bufferIdx++] = rightCornerY;\n            fQuadBuffer[bufferIdx++] = texCoordX2;\n            fQuadBuffer[bufferIdx++] = texCoordY2;\n            uiQuadBuffer[bufferIdx++] = colorBr;\n            fQuadBuffer[bufferIdx++] = textureIdx;\n        }\n        // Update the length of the current render op\n        curRenderOp.length += WORDS_PER_QUAD;\n        curRenderOp.numQuads++;\n        this.curBufferIdx = bufferIdx;\n    }\n    /**\n     * Replace the existing RenderOp with a new one that uses the specified Shader\n     * and starts at the specified buffer index.\n     *\n     * @param shader\n     * @param bufferIdx\n     */\n    newRenderOp(shader, shaderProps, alpha, dimensions, clippingRect, bufferIdx, renderToTexture, parentHasRenderTexture, framebufferDimensions) {\n        const curRenderOp = new WebGlCoreRenderOp(this.glw, this.options, this.quadBufferCollection, shader, shaderProps, alpha, clippingRect, dimensions, bufferIdx, 0, // Z-Index is only used for explictly added Render Ops\n        renderToTexture, parentHasRenderTexture, framebufferDimensions);\n        this.curRenderOp = curRenderOp;\n        this.renderOps.push(curRenderOp);\n    }\n    /**\n     * Add a texture to the current RenderOp. If the texture cannot be added to the\n     * current RenderOp, a new RenderOp will be created and the texture will be added\n     * to that one.\n     *\n     * If the texture cannot be added to the new RenderOp, an error will be thrown.\n     *\n     * @param texture\n     * @param bufferIdx\n     * @param recursive\n     * @returns Assigned Texture Index of the texture in the render op\n     */\n    addTexture(texture, bufferIdx, recursive) {\n        const { curRenderOp } = this;\n        assertTruthy(curRenderOp);\n        const textureIdx = curRenderOp.addTexture(texture);\n        // TODO: Refactor to be more DRY\n        if (textureIdx === 0xffffffff) {\n            if (recursive) {\n                throw new Error('Unable to add texture to render op');\n            }\n            const { shader, shaderProps, dimensions, clippingRect, alpha } = curRenderOp;\n            this.newRenderOp(shader, shaderProps, alpha, dimensions, clippingRect, bufferIdx);\n            return this.addTexture(texture, bufferIdx, true);\n        }\n        return textureIdx;\n    }\n    /**\n     * Test if the current Render operation can be reused for the specified parameters.\n     * @param params\n     * @returns\n     */\n    reuseRenderOp(params) {\n        const { shader, shaderProps, parentHasRenderTexture, rtt, clippingRect } = params;\n        const targetShader = shader || this.defaultShader;\n        // Switching shader program will require a new render operation\n        if (this.curRenderOp?.shader !== targetShader) {\n            return false;\n        }\n        // Switching clipping rect will require a new render operation\n        if (!compareRect(this.curRenderOp.clippingRect, clippingRect)) {\n            return false;\n        }\n        // Force new render operation if rendering to texture\n        // @todo: This needs to be improved, render operations could also be reused\n        // for rendering to texture\n        if (parentHasRenderTexture || rtt) {\n            return false;\n        }\n        // Check if the shader can batch the shader properties\n        if (this.curRenderOp.shader !== this.defaultShader &&\n            (!shaderProps ||\n                !this.curRenderOp.shader.canBatchShaderProps(this.curRenderOp.shaderProps, shaderProps))) {\n            return false;\n        }\n        // Render operation can be reused\n        return true;\n    }\n    /**\n     * add RenderOp to the render pipeline\n     */\n    addRenderOp(renderable) {\n        this.renderOps.push(renderable);\n        this.curRenderOp = null;\n    }\n    /**\n     * Render the current set of RenderOps to render to the specified surface.\n     *\n     * TODO: 'screen' is the only supported surface at the moment.\n     *\n     * @param surface\n     */\n    render(surface = 'screen') {\n        const { glw, quadBuffer } = this;\n        const arr = new Float32Array(quadBuffer, 0, this.curBufferIdx);\n        const buffer = this.quadBufferCollection.getBuffer('a_position') ?? null;\n        glw.arrayBufferData(buffer, arr, glw.STATIC_DRAW);\n        const doLog = false; // idx++ % 100 === 0;\n        if (doLog) {\n            console.log('renderOps', this.renderOps.length);\n        }\n        this.renderOps.forEach((renderOp, i) => {\n            if (doLog) {\n                console.log('Quads per operation', renderOp.numQuads);\n            }\n            renderOp.draw();\n        });\n        this.quadBufferUsage = this.curBufferIdx * arr.BYTES_PER_ELEMENT;\n    }\n    renderToTexture(node) {\n        for (let i = 0; i < this.rttNodes.length; i++) {\n            if (this.rttNodes[i] === node) {\n                return;\n            }\n        }\n        // @todo: Better bottom up rendering order\n        this.rttNodes.unshift(node);\n    }\n    renderRTTNodes() {\n        const { glw } = this;\n        const { txManager } = this.stage;\n        // Render all associated RTT nodes to their textures\n        for (let i = 0; i < this.rttNodes.length; i++) {\n            const node = this.rttNodes[i];\n            // Skip nodes that don't have RTT updates\n            if (!node || !node.hasRTTupdates) {\n                continue;\n            }\n            // Set the active RTT node to the current node\n            // So we can prevent rendering children of nested RTT nodes\n            this.activeRttNode = node;\n            assertTruthy(node.texture, 'RTT node missing texture');\n            const ctxTexture = node.texture.ctxTexture;\n            assertTruthy(ctxTexture instanceof WebGlCoreCtxRenderTexture);\n            this.renderToTextureActive = true;\n            // Bind the the texture's framebuffer\n            glw.bindFramebuffer(ctxTexture.framebuffer);\n            glw.viewport(0, 0, ctxTexture.w, ctxTexture.h);\n            glw.clear();\n            // Render all associated quads to the texture\n            for (let i = 0; i < node.children.length; i++) {\n                const child = node.children[i];\n                if (!child) {\n                    continue;\n                }\n                child.update(this.stage.deltaTime, {\n                    x: 0,\n                    y: 0,\n                    width: 0,\n                    height: 0,\n                    valid: false,\n                });\n                this.stage.addQuads(child);\n                child.hasRTTupdates = false;\n            }\n            // Render all associated quads to the texture\n            this.render();\n            // Reset render operations\n            this.renderOps.length = 0;\n            node.hasRTTupdates = false;\n        }\n        // Bind the default framebuffer\n        glw.bindFramebuffer(null);\n        glw.viewport(0, 0, this.glw.canvas.width, this.glw.canvas.height);\n        this.renderToTextureActive = false;\n    }\n    removeRTTNode(node) {\n        const index = this.rttNodes.indexOf(node);\n        if (index === -1) {\n            return;\n        }\n        this.rttNodes.splice(index, 1);\n    }\n    getBufferInfo() {\n        const bufferInfo = {\n            totalAvailable: this.stage.options.quadBufferSize,\n            totalUsed: this.quadBufferUsage,\n        };\n        return bufferInfo;\n    }\n    getDefShaderCtr() {\n        return this.defShaderCtrl;\n    }\n}\n//# sourceMappingURL=WebGlCoreRenderer.js.map","/*\n * If not stated otherwise in this file or this component's LICENSE file the\n * following copyright and licenses apply:\n *\n * Copyright 2023 Comcast Cable Communications Management, LLC.\n *\n * Licensed under the Apache License, Version 2.0 (the License);\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nexport const SpecialCodepoints = {\n    LINE_FEED: 0x0a,\n    CARRIAGE_RETURN: 0x0d,\n    SPACE: 0x20,\n    TAB: 0x09,\n    ZERO_WIDTH_SPACE: 0x200b,\n    ZERO_WIDTH_NON_JOINER: 0x200c,\n    ZERO_WIDTH_JOINER: 0x200d,\n    LEFT_TO_RIGHT_MARK: 0x200e,\n    RIGHT_TO_LEFT_MARK: 0x200f,\n    LEFT_TO_RIGHT_EMBEDDING: 0x202a,\n    RIGHT_TO_LEFT_EMBEDDING: 0x202b,\n    POP_DIRECTIONAL_FORMATTING: 0x202c,\n    LEFT_TO_RIGHT_OVERRIDE: 0x202d,\n    RIGHT_TO_LEFT_OVERRIDE: 0x202e,\n    LINE_SEPARATOR: 0x2028,\n    PARAGRAPH_SEPARATOR: 0x2029,\n    OBJECT_REPLACEMENT_CHARACTER: 0xfffc,\n    REPLACEMENT_CHARACTER: 0xfffd,\n    ZERO_WIDTH_NO_BREAK_SPACE: 0xfeff,\n    LEFT_TO_RIGHT_ISOLATE: 0x2066,\n    RIGHT_TO_LEFT_ISOLATE: 0x2067,\n    FIRST_STRONG_ISOLATE: 0x2068,\n    POP_DIRECTIONAL_ISOLATE: 0x2069,\n    INHIBIT_SYMMETRIC_SWAPPING: 0x206a,\n    ACTIVATE_SYMMETRIC_SWAPPING: 0x206b,\n    INHIBIT_ARABIC_FORM_SHAPING: 0x206c,\n    ACTIVATE_ARABIC_FORM_SHAPING: 0x206d,\n    NATIONAL_DIGIT_SHAPES: 0x206e,\n    NOMINAL_DIGIT_SHAPES: 0x206f,\n    LEFT_TO_RIGHT_BOUNDARY: 0x200e,\n    RIGHT_TO_LEFT_BOUNDARY: 0x200f,\n};\n//# sourceMappingURL=SpecialCodepoints.js.map","/*\n * If not stated otherwise in this file or this component's LICENSE file the\n * following copyright and licenses apply:\n *\n * Copyright 2023 Comcast Cable Communications Management, LLC.\n *\n * Licensed under the Apache License, Version 2.0 (the License);\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nexport class FontShaper {\n}\n//# sourceMappingURL=FontShaper.js.map","/*\n * If not stated otherwise in this file or this component's LICENSE file the\n * following copyright and licenses apply:\n *\n * Copyright 2023 Comcast Cable Communications Management, LLC.\n *\n * Licensed under the Apache License, Version 2.0 (the License);\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { SpecialCodepoints } from '../../../renderers/SdfTextRenderer/internal/SpecialCodepoints.js';\nimport { FontShaper, } from './FontShaper.js';\nexport class SdfFontShaper extends FontShaper {\n    data;\n    glyphMap;\n    kernings;\n    constructor(data, glyphMap) {\n        super();\n        this.data = data;\n        this.glyphMap = glyphMap;\n        const kernings = (this.kernings = {});\n        data.kernings.forEach((kerning) => {\n            const second = kerning.second;\n            const firsts = (kernings[second] = kernings[second] || {});\n            firsts[kerning.first] = kerning.amount;\n        });\n        this.kernings = kernings;\n    }\n    *shapeText(props, codepoints) {\n        let codepointResult;\n        let lastGlyphId = undefined;\n        while ((codepointResult = codepoints.peek()) && !codepointResult.done) {\n            const codepoint = codepointResult.value;\n            const glyph = this.glyphMap.get(codepoint);\n            codepoints.next();\n            if (glyph !== undefined) {\n                // We found a glyph for this codepoint\n                // Yield the mapped glyph info\n                /**\n                 * Kerning includes any possible additional letter spacing\n                 */\n                const kerning = lastGlyphId !== undefined\n                    ? (this.kernings[glyph.id]?.[lastGlyphId] || 0) +\n                        props.letterSpacing\n                    : 0;\n                lastGlyphId = glyph.id;\n                yield {\n                    mapped: true,\n                    glyphId: glyph.id,\n                    codepoint,\n                    cluster: codepoints.lastIndex,\n                    xAdvance: glyph.xadvance + kerning,\n                    yAdvance: 0,\n                    xOffset: glyph.xoffset + kerning,\n                    yOffset: glyph.yoffset,\n                    xBearing: 0,\n                    yBearing: 0,\n                    width: glyph.width,\n                    height: glyph.height,\n                };\n            }\n            else {\n                // We didn't find a glyph for this codepoint\n                // Yield the unmapped codepoint info\n                // If this codepoint is a linebreak, we should reset the last glyph id\n                // so that the next glyph will not be kerned with the last glyph of the\n                // previous line.\n                if (codepoint === SpecialCodepoints.LINE_FEED) {\n                    lastGlyphId = undefined;\n                }\n                yield {\n                    mapped: false,\n                    codepoint,\n                    cluster: codepoints.lastIndex,\n                };\n            }\n        }\n    }\n}\n//# sourceMappingURL=SdfFontShaper.js.map","/*\n * If not stated otherwise in this file or this component's LICENSE file the\n * following copyright and licenses apply:\n *\n * Copyright 2023 Comcast Cable Communications Management, LLC.\n *\n * Licensed under the Apache License, Version 2.0 (the License);\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n// import type { Renderer } from '../../../Renderer';\nimport { assertTruthy } from '../../../../utils.js';\nimport { WebGlCoreRenderer } from '../../../renderers/webgl/WebGlCoreRenderer.js';\nimport { ImageTexture } from '../../../textures/ImageTexture.js';\nimport { TrFontFace, } from '../TrFontFace.js';\nimport { SdfFontShaper } from './internal/SdfFontShaper.js';\nexport class SdfTrFontFace extends TrFontFace {\n    type;\n    texture;\n    /**\n     * Height of the tallest character in the font including the whitespace above it\n     * in SDF/vertex units.\n     */\n    maxCharHeight = 0;\n    data;\n    shaper;\n    glyphMap = new Map();\n    constructor(type, options) {\n        super(options);\n        const { atlasUrl, atlasDataUrl, stage } = options;\n        this.type = type;\n        const renderer = stage.renderer;\n        assertTruthy(renderer instanceof WebGlCoreRenderer, 'SDF Font Faces can only be used with the WebGL Renderer');\n        // Load image\n        this.texture = stage.txManager.loadTexture('ImageTexture', {\n            src: atlasUrl,\n            // IMPORTANT: The SDF shader requires the alpha channel to NOT be\n            // premultiplied on the atlas texture. If it is premultiplied, the\n            // rendering of SDF glyphs (especially single-channel SDF fonts) will\n            // be very jagged.\n            premultiplyAlpha: false,\n        });\n        this.texture.on('loaded', () => {\n            this.checkLoaded();\n            // Make sure we mark the stage for a re-render (in case the font's texture was freed and reloaded)\n            stage.requestRender();\n        });\n        // Pre-load it\n        this.texture.ctxTexture.load();\n        // Set this.data to the fetched data from dataUrl\n        fetch(atlasDataUrl)\n            .then(async (response) => {\n            // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\n            this.data = await response.json();\n            assertTruthy(this.data);\n            // Add all the glyphs to the glyph map\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            let maxCharHeight = 0;\n            this.data.chars.forEach((glyph) => {\n                this.glyphMap.set(glyph.id, glyph);\n                const charHeight = glyph.yoffset + glyph.height;\n                if (charHeight > maxCharHeight) {\n                    maxCharHeight = charHeight;\n                }\n            });\n            // eslint-disable-next-line @typescript-eslint/no-unnecessary-type-assertion\n            this.maxCharHeight = maxCharHeight;\n            // We know `data` is defined here, because we just set it\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            this.shaper = new SdfFontShaper(this.data, this.glyphMap);\n            // If the metrics aren't provided explicitly in the font face options,\n            // Gather them from the metrics added by the msdf-generator tool ()\n            // If they are missing then we throw an error.\n            if (!this.metrics) {\n                if (this.data?.lightningMetrics) {\n                    const { ascender, descender, lineGap, unitsPerEm } = this.data.lightningMetrics;\n                    this.metrics = {\n                        ascender: ascender / unitsPerEm,\n                        descender: descender / unitsPerEm,\n                        lineGap: lineGap / unitsPerEm,\n                    };\n                }\n                else {\n                    throw new Error(`Font metrics not found in ${this.type} font ${this.fontFamily}. ` +\n                        'Make sure you are using the latest version of the Lightning ' +\n                        '3 `msdf-generator` tool to generate your SDF fonts.');\n                }\n            }\n            this.checkLoaded();\n        })\n            .catch(console.error);\n    }\n    getAtlasEntry(glyphId) {\n        const glyph = this.glyphMap.get(glyphId);\n        if (glyph === undefined) {\n            throw new Error(`Glyph ${glyphId} not found in font ${this.fontFamily}`);\n        }\n        return {\n            x: glyph.x,\n            y: glyph.y,\n            width: glyph.width,\n            height: glyph.height,\n        };\n    }\n    checkLoaded() {\n        if (this.loaded)\n            return;\n        if (this.texture.state === 'loaded' && this.data) {\n            this.loaded = true;\n            this.emit('loaded');\n        }\n    }\n}\n//# sourceMappingURL=SdfTrFontFace.js.map","/*\n * If not stated otherwise in this file or this component's LICENSE file the\n * following copyright and licenses apply:\n *\n * Copyright 2023 Comcast Cable Communications Management, LLC.\n *\n * Licensed under the Apache License, Version 2.0 (the License);\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * Number of floating point numbers that represent a single glyph in the SDF vertex buffer.\n *\n * @remarks\n * The vertex buffer contains:\n *  - 6 vertex positions\n *  - 6 texture coordinates\n *  - = 12 positions/coordinates per glyph\n *\n * Each vertex position and texture coordinate consist of 2 floating point numbers (x/y).\n * So there are 12 * 2 = 24 floating point numbers that make up a single glyph.\n */\nexport const FLOATS_PER_GLYPH = 24;\n//# sourceMappingURL=constants.js.map","/*\n * If not stated otherwise in this file or this component's LICENSE file the\n * following copyright and licenses apply:\n *\n * Copyright 2023 Comcast Cable Communications Management, LLC.\n *\n * Licensed under the Apache License, Version 2.0 (the License);\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { assertTruthy } from '../../../../../utils.js';\n/**\n * Gets the start conditions for the layout loop.\n *\n * @remarks\n * Returns `undefined` if the layout loop should not be run.\n *\n * @param fontSize\n * @param fontSizeRatio\n * @param sdfLineHeight\n * @param renderWindow\n * @param lineCache\n * @param textH\n * @returns\n */\nexport function getStartConditions(sdfFontSize, sdfLineHeight, fontFace, verticalAlign, offsetY, fontSizeRatio, renderWindow, lineCache, textH) {\n    // State variables\n    const startLineIndex = Math.min(Math.max(renderWindow.firstLineIdx, 0), lineCache.length);\n    const sdfStartX = 0;\n    const { metrics } = fontFace;\n    assertTruthy(metrics, 'Font metrics not loaded');\n    assertTruthy(fontFace.data, 'Font data not loaded');\n    /**\n     * Bare line height is the distance between the ascender and descender of the font.\n     * without the line gap metric.\n     */\n    const sdfBareLineHeight = (metrics.ascender - metrics.descender) * sdfFontSize;\n    let sdfVerticalAlignYOffset = 0;\n    if (verticalAlign === 'middle') {\n        sdfVerticalAlignYOffset = (sdfLineHeight - sdfBareLineHeight) / 2;\n    }\n    else if (verticalAlign === 'bottom') {\n        sdfVerticalAlignYOffset = sdfLineHeight - sdfBareLineHeight;\n    }\n    const sdfOffsetY = offsetY / fontSizeRatio;\n    /**\n     * This is the position from the top of the text drawing line to where the\n     * baseline of the text will be according to the encoded positioning data for\n     * each glyph in the SDF data. This also happens to be the ascender value\n     * that is encoded into the font data.\n     */\n    const sdfEncodedAscender = fontFace.data.common.base;\n    /**\n     * This is the ascender that is configured and overridable in the font face.\n     */\n    const sdfConfiguredAscender = metrics.ascender * sdfFontSize;\n    /**\n     * If the configured ascender is different from the SDF data's encoded\n     * ascender, the offset of the text will be adjusted by the difference.\n     */\n    const sdfAscenderAdjOffset = sdfConfiguredAscender - sdfEncodedAscender;\n    const sdfStartY = sdfOffsetY +\n        sdfAscenderAdjOffset +\n        startLineIndex * sdfLineHeight +\n        sdfVerticalAlignYOffset; // TODO: Figure out what determines the initial y offset of text.\n    // Don't attempt to render anything if we know we're starting past the established end of the text\n    if (textH && sdfStartY >= textH / fontSizeRatio) {\n        return;\n    }\n    return {\n        sdfX: sdfStartX,\n        sdfY: sdfStartY,\n        lineIndex: startLineIndex,\n    };\n}\n//# sourceMappingURL=getStartConditions.js.map","/*\n * If not stated otherwise in this file or this component's LICENSE file the\n * following copyright and licenses apply:\n *\n * Copyright 2023 Comcast Cable Communications Management, LLC.\n *\n * Licensed under the Apache License, Version 2.0 (the License);\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * A wrapper Generator class that makes a generator peekable.\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport class PeekableIterator {\n    iterator;\n    peekBuffer = [];\n    _lastIndex;\n    constructor(iterator, indexBase = 0) {\n        this.iterator = iterator;\n        this.iterator = iterator;\n        this._lastIndex = indexBase - 1;\n        this.peekBuffer = [];\n    }\n    next() {\n        const nextResult = this.peekBuffer.length > 0\n            ? // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n                this.peekBuffer.pop()\n            : this.iterator.next();\n        if (nextResult.done) {\n            this._lastIndex = -1;\n        }\n        else {\n            this._lastIndex++;\n        }\n        return nextResult;\n    }\n    peek() {\n        if (this.peekBuffer.length > 0) {\n            // We know that the buffer is not empty, so we can safely use the\n            // non-null assertion operator\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            return this.peekBuffer[0];\n        }\n        const result = this.iterator.next();\n        this.peekBuffer.push(result);\n        return result;\n    }\n    get lastIndex() {\n        return this._lastIndex;\n    }\n}\n//# sourceMappingURL=PeekableGenerator.js.map","/*\n * If not stated otherwise in this file or this component's LICENSE file the\n * following copyright and licenses apply:\n *\n * Copyright 2023 Comcast Cable Communications Management, LLC.\n *\n * Licensed under the Apache License, Version 2.0 (the License);\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n// Reversible Generator Wrapper Class\n/**\n * Generator function that yields each Unicode code point in the given string.\n */\nexport function* getUnicodeCodepoints(text, start = 0) {\n    let i = start;\n    while (i < text.length) {\n        const codePoint = text.codePointAt(i);\n        if (codePoint === undefined) {\n            throw new Error('Invalid Unicode code point');\n        }\n        yield codePoint;\n        i += codePoint <= 0xffff ? 1 : 2;\n    }\n}\n//# sourceMappingURL=getUnicodeCodepoints.js.map","/*\n * If not stated otherwise in this file or this component's LICENSE file the\n * following copyright and licenses apply:\n *\n * Copyright 2023 Comcast Cable Communications Management, LLC.\n *\n * Licensed under the Apache License, Version 2.0 (the License);\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { PeekableIterator } from './PeekableGenerator.js';\nimport { getUnicodeCodepoints } from './getUnicodeCodepoints.js';\n/**\n * Measures a single-line of text width ignoring any unmapped glyphs including line breaks\n *\n * @param text\n * @param shaperProps\n * @param shaper\n * @returns\n */\nexport function measureText(text, shaperProps, shaper) {\n    const glyphs = shaper.shapeText(shaperProps, new PeekableIterator(getUnicodeCodepoints(text, 0), 0));\n    let width = 0;\n    for (const glyph of glyphs) {\n        if (glyph.mapped) {\n            width += glyph.xAdvance;\n        }\n    }\n    return width;\n}\n//# sourceMappingURL=measureText.js.map","/*\n * If not stated otherwise in this file or this component's LICENSE file the\n * following copyright and licenses apply:\n *\n * Copyright 2023 Comcast Cable Communications Management, LLC.\n *\n * Licensed under the Apache License, Version 2.0 (the License);\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { assertTruthy } from '../../../../../utils.js';\nimport { PeekableIterator } from './PeekableGenerator.js';\nimport { getUnicodeCodepoints } from './getUnicodeCodepoints.js';\nimport { measureText } from './measureText.js';\nexport function layoutText(curLineIndex, startX, startY, text, textAlign, width, height, fontSize, lineHeight, letterSpacing, \n/**\n * Mutated\n */\nvertexBuffer, contain, \n/**\n * Mutated\n */\nlineCache, rwSdf, trFontFace, forceFullLayoutCalc, scrollable, overflowSuffix, maxLines) {\n    assertTruthy(trFontFace, 'Font face must be loaded');\n    assertTruthy(trFontFace.loaded, 'Font face must be loaded');\n    assertTruthy(trFontFace.data, 'Font face must be loaded');\n    assertTruthy(trFontFace.shaper, 'Font face must be loaded');\n    // Regardless of fontSize (or other scaling properties), we layout the vertices of each glyph\n    // using the fixed coordinate space determined by font size used to produce the atlas.\n    // Scaling for display is handled by shader uniforms inexpensively.\n    // So we have:\n    //  - vertex space: the space in which the vertices of each glyph are laid out\n    //  - screen space: the screen pixel space\n    // Input properties such as x, y, w, fontSize, letterSpacing, etc. are all expressed in screen space.\n    // We convert these to the vertex space by dividing them the `fontSizeRatio` factor.\n    /**\n     * See above\n     */\n    const fontSizeRatio = fontSize / trFontFace.data.info.size;\n    /**\n     * `lineHeight` in vertex coordinates\n     */\n    const vertexLineHeight = lineHeight / fontSizeRatio;\n    /**\n     * `w` in vertex coordinates\n     */\n    const vertexW = width / fontSizeRatio;\n    /**\n     * `letterSpacing` in vertex coordinates\n     */\n    const vertexLSpacing = letterSpacing / fontSizeRatio;\n    const startingLineCacheEntry = lineCache[curLineIndex];\n    const startingCodepointIndex = startingLineCacheEntry?.codepointIndex || 0;\n    const startingMaxX = startingLineCacheEntry?.maxX || 0;\n    const startingMaxY = startingLineCacheEntry?.maxY || 0;\n    let maxX = startingMaxX;\n    let maxY = startingMaxY;\n    let curX = startX;\n    let curY = startY;\n    let bufferOffset = 0;\n    /**\n     * Buffer offset to last word boundry. This is -1 when we aren't in a word boundry.\n     */\n    const lastWord = {\n        codepointIndex: -1,\n        bufferOffset: -1,\n        xStart: -1,\n    };\n    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    const shaper = trFontFace.shaper;\n    const shaperProps = {\n        letterSpacing: vertexLSpacing,\n    };\n    // Get glyphs\n    let glyphs = shaper.shapeText(shaperProps, new PeekableIterator(getUnicodeCodepoints(text, startingCodepointIndex), startingCodepointIndex));\n    let glyphResult;\n    let curLineBufferStart = -1;\n    const bufferLineInfos = [];\n    const vertexTruncateHeight = height / fontSizeRatio;\n    const overflowSuffVertexWidth = measureText(overflowSuffix, shaperProps, shaper);\n    // Line-by-line layout\n    let moreLines = true;\n    while (moreLines) {\n        const nextLineWillFit = (maxLines === 0 || curLineIndex + 1 < maxLines) &&\n            (contain !== 'both' ||\n                scrollable ||\n                curY + vertexLineHeight + trFontFace.maxCharHeight <=\n                    vertexTruncateHeight);\n        const lineVertexW = nextLineWillFit\n            ? vertexW\n            : vertexW - overflowSuffVertexWidth;\n        /**\n         * Vertex X position to the beginning of the last word boundary. This becomes -1 when we start traversing a word.\n         */\n        let xStartLastWordBoundary = 0;\n        const lineIsBelowWindowTop = curY + trFontFace.maxCharHeight >= rwSdf.y1;\n        const lineIsAboveWindowBottom = curY <= rwSdf.y2;\n        const lineIsWithinWindow = lineIsBelowWindowTop && lineIsAboveWindowBottom;\n        // Layout glyphs in this line\n        // Any break statements in this while loop will trigger a line break\n        while ((glyphResult = glyphs.next()) && !glyphResult.done) {\n            const glyph = glyphResult.value;\n            if (curLineIndex === lineCache.length) {\n                lineCache.push({\n                    codepointIndex: glyph.cluster,\n                    maxY,\n                    maxX,\n                });\n            }\n            else if (curLineIndex > lineCache.length) {\n                throw new Error('Unexpected lineCache length');\n            }\n            // If we encounter a word boundary (white space or newline) we invalidate\n            // the lastWord and set the xStartLastWordBoundary if we haven't already.\n            if (glyph.codepoint === 32 || glyph.codepoint === 10) {\n                if (lastWord.codepointIndex !== -1) {\n                    lastWord.codepointIndex = -1;\n                    xStartLastWordBoundary = curX;\n                }\n            }\n            else if (lastWord.codepointIndex === -1) {\n                lastWord.codepointIndex = glyph.cluster;\n                lastWord.bufferOffset = bufferOffset;\n                lastWord.xStart = xStartLastWordBoundary;\n            }\n            if (glyph.mapped) {\n                // Mapped glyph\n                const charEndX = curX + glyph.xOffset + glyph.width;\n                // Word wrap check\n                if (\n                // We are containing the text\n                contain !== 'none' &&\n                    // The current glyph reaches outside the contained width\n                    charEndX >= lineVertexW &&\n                    // There is a last word that we can break to the next line\n                    lastWord.codepointIndex !== -1 &&\n                    // Prevents infinite loop when a single word is longer than the width\n                    lastWord.xStart > 0) {\n                    // The current word is about to go off the edge of the container width\n                    // Reinitialize the iterator starting at the last word\n                    // and proceeding to the next line\n                    if (nextLineWillFit) {\n                        glyphs = shaper.shapeText(shaperProps, new PeekableIterator(getUnicodeCodepoints(text, lastWord.codepointIndex), lastWord.codepointIndex));\n                        bufferOffset = lastWord.bufferOffset;\n                        break;\n                    }\n                    else {\n                        glyphs = shaper.shapeText(shaperProps, new PeekableIterator(getUnicodeCodepoints(overflowSuffix, 0), 0));\n                        curX = lastWord.xStart;\n                        bufferOffset = lastWord.bufferOffset;\n                        // HACK: For the rest of the line when inserting the overflow suffix,\n                        // set contain = 'none' to prevent an infinite loop.\n                        contain = 'none';\n                    }\n                }\n                else {\n                    // This glyph fits, so we can add it to the buffer\n                    const quadX = curX + glyph.xOffset;\n                    const quadY = curY + glyph.yOffset;\n                    // Only add to buffer for rendering if the line is within the render window\n                    if (lineIsWithinWindow) {\n                        if (curLineBufferStart === -1) {\n                            curLineBufferStart = bufferOffset;\n                        }\n                        const atlasEntry = trFontFace.getAtlasEntry(glyph.glyphId);\n                        // Add texture coordinates\n                        const u = atlasEntry.x / trFontFace.data.common.scaleW;\n                        const v = atlasEntry.y / trFontFace.data.common.scaleH;\n                        const uvWidth = atlasEntry.width / trFontFace.data.common.scaleW;\n                        const uvHeight = atlasEntry.height / trFontFace.data.common.scaleH;\n                        // TODO: (Performance) We can optimize this by using ELEMENT_ARRAY_BUFFER\n                        // eliminating the need to duplicate vertices\n                        // Top-left\n                        vertexBuffer[bufferOffset++] = quadX;\n                        vertexBuffer[bufferOffset++] = quadY;\n                        vertexBuffer[bufferOffset++] = u;\n                        vertexBuffer[bufferOffset++] = v;\n                        // Top-right\n                        vertexBuffer[bufferOffset++] = quadX + glyph.width;\n                        vertexBuffer[bufferOffset++] = quadY;\n                        vertexBuffer[bufferOffset++] = u + uvWidth;\n                        vertexBuffer[bufferOffset++] = v;\n                        // Bottom-left\n                        vertexBuffer[bufferOffset++] = quadX;\n                        vertexBuffer[bufferOffset++] = quadY + glyph.height;\n                        vertexBuffer[bufferOffset++] = u;\n                        vertexBuffer[bufferOffset++] = v + uvHeight;\n                        // Bottom-right\n                        vertexBuffer[bufferOffset++] = quadX + glyph.width;\n                        vertexBuffer[bufferOffset++] = quadY + glyph.height;\n                        vertexBuffer[bufferOffset++] = u + uvWidth;\n                        vertexBuffer[bufferOffset++] = v + uvHeight;\n                    }\n                    maxY = Math.max(maxY, quadY + glyph.height);\n                    maxX = Math.max(maxX, quadX + glyph.width);\n                    curX += glyph.xAdvance;\n                }\n            }\n            else {\n                // Unmapped character\n                // Handle newlines\n                if (glyph.codepoint === 10) {\n                    if (nextLineWillFit) {\n                        // The whole line fit, so we can break to the next line\n                        break;\n                    }\n                    else {\n                        // The whole line won't fit, so we need to add the overflow suffix\n                        glyphs = shaper.shapeText(shaperProps, new PeekableIterator(getUnicodeCodepoints(overflowSuffix, 0), 0));\n                        // HACK: For the rest of the line when inserting the overflow suffix,\n                        // set contain = 'none' to prevent an infinite loop.\n                        contain = 'none';\n                    }\n                }\n            }\n        }\n        // Prepare for the next line...\n        if (curLineBufferStart !== -1) {\n            bufferLineInfos.push({\n                bufferStart: curLineBufferStart,\n                bufferEnd: bufferOffset,\n            });\n            curLineBufferStart = -1;\n        }\n        curX = 0;\n        curY += vertexLineHeight;\n        curLineIndex++;\n        lastWord.codepointIndex = -1;\n        xStartLastWordBoundary = 0;\n        // Figure out if there are any more lines to render...\n        if (!forceFullLayoutCalc && contain === 'both' && curY > rwSdf.y2) {\n            // Stop layout calculation early (for performance purposes) if:\n            // - We're not forcing a full layout calculation (for width/height calculation)\n            // - ...and we're containing the text vertically+horizontally (contain === 'both')\n            // - ...and we have a render window\n            // - ...and the next line is below the bottom of the render window\n            moreLines = false;\n        }\n        else if (glyphResult && glyphResult.done) {\n            // If we've reached the end of the text, we know we're done\n            moreLines = false;\n        }\n        else if (!nextLineWillFit) {\n            // If we're contained vertically+horizontally (contain === 'both')\n            // but not scrollable and the next line won't fit, we're done.\n            moreLines = false;\n        }\n    }\n    // Use textAlign to determine if we need to adjust the x position of the text\n    // in the buffer line by line\n    if (textAlign === 'center') {\n        const vertexTextW = contain === 'none' ? maxX : vertexW;\n        for (let i = 0; i < bufferLineInfos.length; i++) {\n            const line = bufferLineInfos[i];\n            // - 4 = the x position of a rightmost vertex\n            const lineWidth = \n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            vertexBuffer[line.bufferEnd - 4] - vertexBuffer[line.bufferStart];\n            const xOffset = (vertexTextW - lineWidth) / 2;\n            for (let j = line.bufferStart; j < line.bufferEnd; j += 4) {\n                // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n                vertexBuffer[j] += xOffset;\n            }\n        }\n    }\n    else if (textAlign === 'right') {\n        const vertexTextW = contain === 'none' ? maxX : vertexW;\n        for (let i = 0; i < bufferLineInfos.length; i++) {\n            const line = bufferLineInfos[i];\n            const lineWidth = line.bufferEnd === line.bufferStart\n                ? 0\n                : // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n                    vertexBuffer[line.bufferEnd - 4] - vertexBuffer[line.bufferStart];\n            const xOffset = vertexTextW - lineWidth;\n            for (let j = line.bufferStart; j < line.bufferEnd; j += 4) {\n                // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n                vertexBuffer[j] += xOffset;\n            }\n        }\n    }\n    assertTruthy(glyphResult);\n    return {\n        bufferNumFloats: bufferOffset,\n        bufferNumQuads: bufferOffset / 16,\n        layoutNumCharacters: glyphResult.done\n            ? text.length - startingCodepointIndex\n            : glyphResult.value.cluster - startingCodepointIndex + 1,\n        fullyProcessed: !!glyphResult.done,\n        maxX,\n        maxY,\n        numLines: lineCache.length,\n    };\n}\n//# sourceMappingURL=layoutText.js.map","/*\n * If not stated otherwise in this file or this component's LICENSE file the\n * following copyright and licenses apply:\n *\n * Copyright 2023 Comcast Cable Communications Management, LLC.\n *\n * Licensed under the Apache License, Version 2.0 (the License);\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * Round up to the nearest multiple of the given number.\n *\n * @param value\n * @param multiple\n * @returns\n */\nexport function roundUpToMultiple(value, multiple) {\n    return Math.ceil(value / multiple) * multiple;\n}\n/**\n * Round down to the nearest multiple of the given number.\n *\n * @param value\n * @param multiple\n * @returns\n */\nexport function roundDownToMultiple(value, multiple) {\n    return Math.floor(value / multiple) * multiple;\n}\n//# sourceMappingURL=util.js.map","/*\n * If not stated otherwise in this file or this component's LICENSE file the\n * following copyright and licenses apply:\n *\n * Copyright 2023 Comcast Cable Communications Management, LLC.\n *\n * Licensed under the Apache License, Version 2.0 (the License);\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { isBoundPositive } from '../../../../lib/utils.js';\nimport { roundDownToMultiple, roundUpToMultiple } from './util.js';\n/**\n * Create a render window from the given parameters.\n *\n * @remarks\n * The render window is a rectangle that defines the area of the text that\n * should be rendered. It is used to skip rendering parts of the text that\n * are outside of the render window. The render window is relative to the\n * text's top left corner of the overrall text.\n *\n * @param x The x coordinate of the text element's top left corner relative to the screen.\n * @param y The y coordinate of the text element's top left corner relative to the screen.\n * @param scrollY The amount of pixels to scroll the text vertically.\n * @param lineHeight The number of extra lines to render above and below the visible window.\n * @param visibleWindow The visible window of the text element relative to the screen\n * @returns\n */\nexport function setRenderWindow(outRenderWindow, x, y, scrollY, lineHeight, bufferMargin, visibleWindow, fontSizeRatio) {\n    const { screen, sdf } = outRenderWindow;\n    if (!isBoundPositive(visibleWindow)) {\n        screen.x1 = 0;\n        screen.y1 = 0;\n        screen.x2 = 0;\n        screen.y2 = 0;\n        sdf.x1 = 0;\n        sdf.y1 = 0;\n        sdf.x2 = 0;\n        sdf.y2 = 0;\n        outRenderWindow.numLines = 0;\n        outRenderWindow.firstLineIdx = 0;\n    }\n    else {\n        const x1 = visibleWindow.x1 - x;\n        const x2 = x1 + (visibleWindow.x2 - visibleWindow.x1);\n        const y1Base = visibleWindow.y1 - y + scrollY;\n        const y1 = roundDownToMultiple(y1Base - bufferMargin, lineHeight || 1);\n        const y2 = roundUpToMultiple(y1Base + (visibleWindow.y2 - visibleWindow.y1) + bufferMargin, lineHeight || 1);\n        screen.x1 = x1;\n        screen.y1 = y1;\n        screen.x2 = x2;\n        screen.y2 = y2;\n        sdf.x1 = x1 / fontSizeRatio;\n        sdf.y1 = y1 / fontSizeRatio;\n        sdf.x2 = x2 / fontSizeRatio;\n        sdf.y2 = y2 / fontSizeRatio;\n        outRenderWindow.numLines = Math.ceil((y2 - y1) / lineHeight);\n        outRenderWindow.firstLineIdx = lineHeight ? Math.floor(y1 / lineHeight) : 0;\n    }\n    outRenderWindow.valid = true;\n}\n//# sourceMappingURL=setRenderWindow.js.map","/**\n * Calculate the default line height given normalized font metrics\n *\n * @remarks\n * This method may be used for both the WebTrFontFace and SdfTrFontFace font types.\n *\n * @param metrics\n * @param fontSize\n * @returns\n */\nexport function calcDefaultLineHeight(metrics, fontSize) {\n    return fontSize * (metrics.ascender - metrics.descender + metrics.lineGap);\n}\n//# sourceMappingURL=TextRenderingUtils.js.map","/*\n * If not stated otherwise in this file or this component's LICENSE file the\n * following copyright and licenses apply:\n *\n * Copyright 2023 Comcast Cable Communications Management, LLC.\n *\n * Licensed under the Apache License, Version 2.0 (the License);\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { createBound, intersectRect, copyRect, boundsOverlap, convertBoundToRect, } from '../../../lib/utils.js';\nimport { TextRenderer, } from '../TextRenderer.js';\nimport { SdfTrFontFace } from '../../font-face-types/SdfTrFontFace/SdfTrFontFace.js';\nimport { FLOATS_PER_GLYPH } from './internal/constants.js';\nimport { getStartConditions } from './internal/getStartConditions.js';\nimport { layoutText } from './internal/layoutText.js';\nimport { setRenderWindow, } from './internal/setRenderWindow.js';\nimport { TrFontManager } from '../../TrFontManager.js';\nimport { assertTruthy, mergeColorAlpha } from '../../../../utils.js';\nimport { WebGlCoreRenderOp } from '../../../renderers/webgl/WebGlCoreRenderOp.js';\nimport { BufferCollection } from '../../../renderers/webgl/internal/BufferCollection.js';\nimport { EventEmitter } from '../../../../common/EventEmitter.js';\nimport { WebGlCoreRenderer } from '../../../renderers/webgl/WebGlCoreRenderer.js';\nimport { calcDefaultLineHeight } from '../../TextRenderingUtils.js';\n/**\n * Ephemeral rect object used for calculations\n */\nconst tmpRect = {\n    x: 0,\n    y: 0,\n    width: 0,\n    height: 0,\n};\n/**\n * Singleton class for rendering text using signed distance fields.\n *\n * @remarks\n * SdfTextRenderer supports both single-channel and multi-channel signed distance fields.\n */\nexport class SdfTextRenderer extends TextRenderer {\n    /**\n     * Map of font family names to a set of font faces.\n     */\n    ssdfFontFamilies = {};\n    msdfFontFamilies = {};\n    fontFamilyArray = [\n        this.ssdfFontFamilies,\n        this.msdfFontFamilies,\n    ];\n    sdfShader;\n    rendererBounds;\n    type = 'sdf';\n    constructor(stage) {\n        super(stage);\n        this.sdfShader = this.stage.shManager.loadShader('SdfShader').shader;\n        this.rendererBounds = {\n            x1: 0,\n            y1: 0,\n            x2: this.stage.options.appWidth,\n            y2: this.stage.options.appHeight,\n        };\n    }\n    //#region Overrides\n    getPropertySetters() {\n        return {\n            fontFamily: (state, value) => {\n                state.props.fontFamily = value;\n                this.releaseFontFace(state);\n                this.invalidateLayoutCache(state);\n            },\n            fontWeight: (state, value) => {\n                state.props.fontWeight = value;\n                this.releaseFontFace(state);\n                this.invalidateLayoutCache(state);\n            },\n            fontStyle: (state, value) => {\n                state.props.fontStyle = value;\n                this.releaseFontFace(state);\n                this.invalidateLayoutCache(state);\n            },\n            fontStretch: (state, value) => {\n                state.props.fontStretch = value;\n                this.releaseFontFace(state);\n                this.invalidateLayoutCache(state);\n            },\n            fontSize: (state, value) => {\n                state.props.fontSize = value;\n                this.invalidateLayoutCache(state);\n            },\n            text: (state, value) => {\n                state.props.text = value;\n                this.invalidateLayoutCache(state);\n            },\n            textAlign: (state, value) => {\n                state.props.textAlign = value;\n                this.invalidateLayoutCache(state);\n            },\n            color: (state, value) => {\n                state.props.color = value;\n            },\n            x: (state, value) => {\n                state.props.x = value;\n                if (state.elementBounds.valid) {\n                    this.setElementBoundsX(state);\n                    // Only schedule an update if the text is not already rendered\n                    // (renderWindow is invalid) and the element possibly overlaps the screen\n                    // This is to avoid unnecessary updates when we know text is off-screen\n                    if (!state.renderWindow.valid &&\n                        boundsOverlap(state.elementBounds, this.rendererBounds)) {\n                        this.scheduleUpdateState(state);\n                    }\n                }\n            },\n            y: (state, value) => {\n                state.props.y = value;\n                if (state.elementBounds.valid) {\n                    this.setElementBoundsY(state);\n                    // See x() for explanation\n                    if (!state.renderWindow.valid &&\n                        boundsOverlap(state.elementBounds, this.rendererBounds)) {\n                        this.scheduleUpdateState(state);\n                    }\n                }\n            },\n            contain: (state, value) => {\n                state.props.contain = value;\n                this.invalidateLayoutCache(state);\n            },\n            width: (state, value) => {\n                state.props.width = value;\n                // Only invalidate layout cache if we're containing in the horizontal direction\n                if (state.props.contain !== 'none') {\n                    this.invalidateLayoutCache(state);\n                }\n            },\n            height: (state, value) => {\n                state.props.height = value;\n                // Only invalidate layout cache if we're containing in the vertical direction\n                if (state.props.contain === 'both') {\n                    this.invalidateLayoutCache(state);\n                }\n            },\n            offsetY: (state, value) => {\n                state.props.offsetY = value;\n                this.invalidateLayoutCache(state);\n            },\n            scrollable: (state, value) => {\n                state.props.scrollable = value;\n                this.invalidateLayoutCache(state);\n            },\n            scrollY: (state, value) => {\n                state.props.scrollY = value;\n                // Scrolling doesn't need to invalidate any caches, but it does need to\n                // schedule an update\n                this.scheduleUpdateState(state);\n            },\n            letterSpacing: (state, value) => {\n                state.props.letterSpacing = value;\n                this.invalidateLayoutCache(state);\n            },\n            lineHeight: (state, value) => {\n                state.props.lineHeight = value;\n                state.resLineHeight = undefined;\n                this.invalidateLayoutCache(state);\n            },\n            maxLines: (state, value) => {\n                state.props.maxLines = value;\n                this.invalidateLayoutCache(state);\n            },\n            textBaseline: (state, value) => {\n                state.props.textBaseline = value;\n                this.invalidateLayoutCache(state);\n            },\n            verticalAlign: (state, value) => {\n                state.props.verticalAlign = value;\n                this.invalidateLayoutCache(state);\n            },\n            overflowSuffix: (state, value) => {\n                state.props.overflowSuffix = value;\n                this.invalidateLayoutCache(state);\n            },\n            debug: (state, value) => {\n                state.props.debug = value;\n            },\n        };\n    }\n    canRenderFont(props) {\n        // TODO: Support matching on font stretch, weight and style (if/when needed)\n        // For now we just match on the font family name\n        // '$$SDF_FAILURE_TEST$$' is used to test the 'failure' event coming from text\n        const { fontFamily } = props;\n        return (fontFamily in this.ssdfFontFamilies ||\n            fontFamily in this.msdfFontFamilies ||\n            fontFamily === '$$SDF_FAILURE_TEST$$');\n    }\n    isFontFaceSupported(fontFace) {\n        return fontFace instanceof SdfTrFontFace;\n    }\n    addFontFace(fontFace) {\n        // Make sure the font face is an SDF font face (it should have already passed\n        // the `isFontFaceSupported` check)\n        assertTruthy(fontFace instanceof SdfTrFontFace);\n        const familyName = fontFace.fontFamily;\n        const fontFamiles = fontFace.type === 'ssdf'\n            ? this.ssdfFontFamilies\n            : fontFace.type === 'msdf'\n                ? this.msdfFontFamilies\n                : undefined;\n        if (!fontFamiles) {\n            console.warn(`Invalid font face type: ${fontFace.type}`);\n            return;\n        }\n        let faceSet = fontFamiles[familyName];\n        if (!faceSet) {\n            faceSet = new Set();\n            fontFamiles[familyName] = faceSet;\n        }\n        faceSet.add(fontFace);\n    }\n    createState(props) {\n        return {\n            props,\n            status: 'initialState',\n            updateScheduled: false,\n            emitter: new EventEmitter(),\n            lineCache: [],\n            forceFullLayoutCalc: false,\n            renderWindow: {\n                screen: {\n                    x1: 0,\n                    y1: 0,\n                    x2: 0,\n                    y2: 0,\n                },\n                sdf: {\n                    x1: 0,\n                    y1: 0,\n                    x2: 0,\n                    y2: 0,\n                },\n                firstLineIdx: 0,\n                numLines: 0,\n                valid: false,\n            },\n            elementBounds: {\n                x1: 0,\n                y1: 0,\n                x2: 0,\n                y2: 0,\n                valid: false,\n            },\n            clippingRect: {\n                x: 0,\n                y: 0,\n                width: 0,\n                height: 0,\n                valid: false,\n            },\n            bufferNumFloats: 0,\n            bufferNumQuads: 0,\n            vertexBuffer: undefined,\n            webGlBuffers: null,\n            bufferUploaded: false,\n            textH: undefined,\n            textW: undefined,\n            distanceRange: 0,\n            trFontFace: undefined,\n            isRenderable: false,\n            resLineHeight: undefined,\n            debugData: {\n                updateCount: 0,\n                layoutCount: 0,\n                lastLayoutNumCharacters: 0,\n                layoutSum: 0,\n                drawSum: 0,\n                drawCount: 0,\n                bufferSize: 0,\n            },\n        };\n    }\n    updateState(state) {\n        let { trFontFace } = state;\n        const { textH, lineCache, debugData, forceFullLayoutCalc } = state;\n        debugData.updateCount++;\n        // On the first update call we need to set the status to loading\n        if (state.status === 'initialState') {\n            this.setStatus(state, 'loading');\n        }\n        // Resolve font face if we haven't yet\n        if (!trFontFace) {\n            trFontFace = this.resolveFontFace(state.props);\n            state.trFontFace = trFontFace;\n            if (!trFontFace) {\n                const msg = `SdfTextRenderer: Could not resolve font face for family: '${state.props.fontFamily}'`;\n                console.error(msg);\n                this.setStatus(state, 'failed', new Error(msg));\n                return;\n            }\n            trFontFace.texture.setRenderableOwner(state, true);\n        }\n        // If the font hasn't been loaded yet, stop here.\n        // Listen for the 'loaded' event and forward fontLoaded event\n        if (!trFontFace.loaded) {\n            trFontFace.once('loaded', () => {\n                this.scheduleUpdateState(state);\n            });\n            return;\n        }\n        // If the font is loaded then so should the data\n        assertTruthy(trFontFace.data, 'Font face data should be loaded');\n        assertTruthy(trFontFace.metrics, 'Font face metrics should be loaded');\n        const { text, fontSize, x, y, contain, width, height, verticalAlign, scrollable, overflowSuffix, maxLines, } = state.props;\n        // scrollY only has an effect when contain === 'both' and scrollable === true\n        const scrollY = contain === 'both' && scrollable ? state.props.scrollY : 0;\n        const { renderWindow } = state;\n        /**\n         * The font size of the SDF font face (the basis for SDF space units)\n         */\n        const sdfFontSize = trFontFace.data.info.size;\n        /**\n         * Divide screen space units by this to get the SDF space units\n         * Mulitple SDF space units by this to get screen space units\n         */\n        const fontSizeRatio = fontSize / sdfFontSize;\n        // If not already resolved, resolve the line height and store it in the state\n        let resLineHeight = state.resLineHeight;\n        if (resLineHeight === undefined) {\n            const lineHeight = state.props.lineHeight;\n            // If lineHeight is undefined, use the maxCharHeight from the font face\n            if (lineHeight === undefined) {\n                resLineHeight = calcDefaultLineHeight(trFontFace.metrics, fontSize);\n            }\n            else {\n                resLineHeight = lineHeight;\n            }\n            state.resLineHeight = resLineHeight;\n        }\n        // Needed in renderWindow calculation\n        const sdfLineHeight = resLineHeight / fontSizeRatio;\n        state.distanceRange =\n            fontSizeRatio * trFontFace.data.distanceField.distanceRange;\n        // Allocate buffers if needed\n        const neededLength = text.length * FLOATS_PER_GLYPH;\n        let vertexBuffer = state.vertexBuffer;\n        if (!vertexBuffer || vertexBuffer.length < neededLength) {\n            vertexBuffer = new Float32Array(neededLength * 2);\n        }\n        const elementBounds = state.elementBounds;\n        if (!elementBounds.valid) {\n            this.setElementBoundsX(state);\n            this.setElementBoundsY(state);\n            elementBounds.valid = true;\n        }\n        // Return early if we're still viewing inside the established render window\n        // No need to re-render what we've already rendered\n        // (Only if there's an established renderWindow and we're not suppressing early exit)\n        if (!forceFullLayoutCalc && renderWindow.valid) {\n            const rwScreen = renderWindow.screen;\n            if (x + rwScreen.x1 <= elementBounds.x1 &&\n                x + rwScreen.x2 >= elementBounds.x2 &&\n                y - scrollY + rwScreen.y1 <= elementBounds.y1 &&\n                y - scrollY + rwScreen.y2 >= elementBounds.y2) {\n                this.setStatus(state, 'loaded');\n                return;\n            }\n            // Otherwise invalidate the renderWindow so it can be redone\n            renderWindow.valid = false;\n            this.setStatus(state, 'loading');\n        }\n        const { offsetY, textAlign } = state.props;\n        // Create a new renderWindow if needed\n        if (!renderWindow.valid) {\n            const isPossiblyOnScreen = boundsOverlap(elementBounds, this.rendererBounds);\n            if (!isPossiblyOnScreen) {\n                // If the element is not possibly on screen, we can skip the layout and rendering completely\n                return;\n            }\n            setRenderWindow(renderWindow, x, y, scrollY, resLineHeight, contain === 'both' ? elementBounds.y2 - elementBounds.y1 : 0, elementBounds, fontSizeRatio);\n            // console.log('newRenderWindow', renderWindow);\n        }\n        const start = getStartConditions(sdfFontSize, sdfLineHeight, trFontFace, verticalAlign, offsetY, fontSizeRatio, renderWindow, lineCache, textH);\n        if (!start) {\n            // Nothing to render, return early, but still mark as loaded (since the text is just scrolled\n            // out of view)\n            this.setStatus(state, 'loaded');\n            return;\n        }\n        const { letterSpacing } = state.props;\n        const out2 = layoutText(start.lineIndex, start.sdfX, start.sdfY, text, textAlign, width, height, fontSize, resLineHeight, letterSpacing, vertexBuffer, contain, lineCache, renderWindow.sdf, trFontFace, forceFullLayoutCalc, scrollable, overflowSuffix, maxLines);\n        state.bufferUploaded = false;\n        state.bufferNumFloats = out2.bufferNumFloats;\n        state.bufferNumQuads = out2.bufferNumQuads;\n        state.vertexBuffer = vertexBuffer;\n        state.renderWindow = renderWindow;\n        debugData.lastLayoutNumCharacters = out2.layoutNumCharacters;\n        debugData.bufferSize = vertexBuffer.byteLength;\n        // If we didn't exit early, we know we have completely computed w/h\n        if (out2.fullyProcessed) {\n            state.textW = out2.maxX * fontSizeRatio;\n            state.textH = out2.numLines * sdfLineHeight * fontSizeRatio;\n        }\n        // if (state.props.debug.printLayoutTime) {\n        //   debugData.layoutSum += performance.now() - updateStartTime;\n        //   debugData.layoutCount++;\n        // }\n        this.setStatus(state, 'loaded');\n    }\n    renderQuads(state, transform, clippingRect, alpha, parentHasRenderTexture, framebufferDimensions) {\n        if (!state.vertexBuffer) {\n            // Nothing to draw\n            return;\n        }\n        const renderer = this.stage.renderer;\n        assertTruthy(renderer instanceof WebGlCoreRenderer);\n        const { fontSize, color, contain, scrollable, zIndex, debug } = state.props;\n        // scrollY only has an effect when contain === 'both' and scrollable === true\n        const scrollY = contain === 'both' && scrollable ? state.props.scrollY : 0;\n        const { textW = 0, textH = 0, distanceRange, vertexBuffer, bufferUploaded, trFontFace, elementBounds, } = state;\n        let { webGlBuffers } = state;\n        if (!webGlBuffers) {\n            const glw = renderer.glw;\n            const stride = 4 * Float32Array.BYTES_PER_ELEMENT;\n            const webGlBuffer = glw.createBuffer();\n            assertTruthy(webGlBuffer);\n            state.webGlBuffers = new BufferCollection([\n                {\n                    buffer: webGlBuffer,\n                    attributes: {\n                        a_position: {\n                            name: 'a_position',\n                            size: 2,\n                            type: glw.FLOAT,\n                            normalized: false,\n                            stride,\n                            offset: 0, // start at the beginning of the buffer\n                        },\n                        a_textureCoordinate: {\n                            name: 'a_textureCoordinate',\n                            size: 2,\n                            type: glw.FLOAT,\n                            normalized: false,\n                            stride,\n                            offset: 2 * Float32Array.BYTES_PER_ELEMENT,\n                        },\n                    },\n                },\n            ]);\n            state.bufferUploaded = false;\n            assertTruthy(state.webGlBuffers);\n            webGlBuffers = state.webGlBuffers;\n        }\n        if (!bufferUploaded) {\n            const glw = renderer.glw;\n            const buffer = webGlBuffers?.getBuffer('a_textureCoordinate') ?? null;\n            glw.arrayBufferData(buffer, vertexBuffer, glw.STATIC_DRAW);\n            state.bufferUploaded = true;\n        }\n        assertTruthy(trFontFace);\n        if (scrollable && contain === 'both') {\n            assertTruthy(elementBounds.valid);\n            const elementRect = convertBoundToRect(elementBounds, tmpRect);\n            if (clippingRect.valid) {\n                state.clippingRect.valid = true;\n                clippingRect = intersectRect(clippingRect, elementRect, state.clippingRect);\n            }\n            else {\n                state.clippingRect.valid = true;\n                clippingRect = copyRect(elementRect, state.clippingRect);\n            }\n        }\n        const renderOp = new WebGlCoreRenderOp(renderer.glw, renderer.options, webGlBuffers, this.sdfShader, {\n            transform: transform.getFloatArr(),\n            // IMPORTANT: The SDF Shader expects the color NOT to be premultiplied\n            // for the best blending results. Which is why we use `mergeColorAlpha`\n            // instead of `mergeColorAlphaPremultiplied` here.\n            color: mergeColorAlpha(color, alpha),\n            size: fontSize / (trFontFace.data?.info.size || 0),\n            scrollY,\n            distanceRange,\n            debug: debug.sdfShaderDebug,\n        }, alpha, clippingRect, { height: textH, width: textW }, 0, zIndex, false, parentHasRenderTexture, framebufferDimensions);\n        const texture = state.trFontFace?.texture;\n        assertTruthy(texture);\n        const ctxTexture = texture.ctxTexture;\n        renderOp.addTexture(ctxTexture);\n        renderOp.length = state.bufferNumFloats;\n        renderOp.numQuads = state.bufferNumQuads;\n        renderer.addRenderOp(renderOp);\n        // if (!debug.disableScissor) {\n        //   renderer.enableScissor(\n        //     visibleRect.x,\n        //     visibleRect.y,\n        //     visibleRect.w,\n        //     visibleRect.h,\n        //   );\n        // }\n        // Draw the arrays\n        // gl.drawArrays(\n        //   gl.TRIANGLES, // Primitive type\n        //   0,\n        //   bufferNumVertices, // Number of verticies\n        // );\n        // renderer.disableScissor();\n        // if (debug.showElementRect) {\n        //   this.renderer.drawBorder(\n        //     Colors.Blue,\n        //     elementRect.x,\n        //     elementRect.y,\n        //     elementRect.w,\n        //     elementRect.h,\n        //   );\n        // }\n        // if (debug.showVisibleRect) {\n        //   this.renderer.drawBorder(\n        //     Colors.Green,\n        //     visibleRect.x,\n        //     visibleRect.y,\n        //     visibleRect.w,\n        //     visibleRect.h,\n        //   );\n        // }\n        // if (debug.showRenderWindow && renderWindow) {\n        //   this.renderer.drawBorder(\n        //     Colors.Red,\n        //     x + renderWindow.x1,\n        //     y + renderWindow.y1 - scrollY,\n        //     x + renderWindow.x2 - (x + renderWindow.x1),\n        //     y + renderWindow.y2 - scrollY - (y + renderWindow.y1 - scrollY),\n        //   );\n        // }\n        // if (debug.printLayoutTime) {\n        //   debugData.drawSum += performance.now() - drawStartTime;\n        //   debugData.drawCount++;\n        // }\n    }\n    setIsRenderable(state, renderable) {\n        super.setIsRenderable(state, renderable);\n        state.trFontFace?.texture.setRenderableOwner(state, renderable);\n    }\n    destroyState(state) {\n        super.destroyState(state);\n        // If there's a Font Face assigned we must free the owner relation to its texture\n        state.trFontFace?.texture.setRenderableOwner(state, false);\n    }\n    //#endregion Overrides\n    resolveFontFace(props) {\n        return TrFontManager.resolveFontFace(this.fontFamilyArray, props);\n    }\n    /**\n     * Release the loaded SDF font face\n     *\n     * @param state\n     */\n    releaseFontFace(state) {\n        state.resLineHeight = undefined;\n        if (state.trFontFace) {\n            state.trFontFace.texture.setRenderableOwner(state, false);\n            state.trFontFace = undefined;\n        }\n    }\n    /**\n     * Invalidate the layout cache stored in the state. This will cause the text\n     * to be re-layed out on the next update.\n     *\n     * @remarks\n     * This also invalidates the visible window cache.\n     *\n     * @param state\n     */\n    invalidateLayoutCache(state) {\n        state.renderWindow.valid = false;\n        state.elementBounds.valid = false;\n        state.textH = undefined;\n        state.textW = undefined;\n        state.lineCache = [];\n        this.setStatus(state, 'loading');\n        this.scheduleUpdateState(state);\n    }\n    setElementBoundsX(state) {\n        const { x, contain, width } = state.props;\n        const { elementBounds } = state;\n        elementBounds.x1 = x;\n        elementBounds.x2 = contain !== 'none' ? x + width : Infinity;\n    }\n    setElementBoundsY(state) {\n        const { y, contain, height } = state.props;\n        const { elementBounds } = state;\n        elementBounds.y1 = y;\n        elementBounds.y2 = contain === 'both' ? y + height : Infinity;\n    }\n}\n//# sourceMappingURL=SdfTextRenderer.js.map","/*\n * If not stated otherwise in this file or this component's LICENSE file the\n * following copyright and licenses apply:\n *\n * Copyright 2023 Comcast Cable Communications Management, LLC.\n *\n * Licensed under the Apache License, Version 2.0 (the License);\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * Returns CSS font setting string for use in canvas context.\n *\n * @param fontFace\n * @param fontStyle\n * @param fontSize\n * @param precision\n * @param defaultFontFace\n * @returns\n */\nexport function getFontSetting(fontFace, fontStyle, fontSize, precision, defaultFontFace) {\n    let ff = fontFace;\n    if (!Array.isArray(ff)) {\n        ff = [ff];\n    }\n    const ffs = [];\n    for (let i = 0, n = ff.length; i < n; i++) {\n        let curFf = ff[i];\n        // Replace the default font face `null` with the actual default font face set\n        // on the stage.\n        if (curFf === null || curFf === undefined) {\n            curFf = defaultFontFace;\n        }\n        if (curFf === 'serif' || curFf === 'sans-serif') {\n            ffs.push(curFf);\n        }\n        else {\n            ffs.push(`\"${curFf}\"`);\n        }\n    }\n    return `${fontStyle} ${fontSize * precision}px ${ffs.join(',')}`;\n}\n/**\n * Returns true if the given character is a zero-width space.\n *\n * @param space\n */\nexport function isZeroWidthSpace(space) {\n    return space === '' || space === '\\u200B';\n}\n/**\n * Returns true if the given character is a zero-width space or a regular space.\n *\n * @param space\n */\nexport function isSpace(space) {\n    return isZeroWidthSpace(space) || space === ' ';\n}\n/**\n * Converts a string into an array of tokens and the words between them.\n *\n * @param tokenRegex\n * @param text\n */\nexport function tokenizeString(tokenRegex, text) {\n    const delimeters = text.match(tokenRegex) || [];\n    const words = text.split(tokenRegex) || [];\n    const final = [];\n    for (let i = 0; i < words.length; i++) {\n        final.push(words[i], delimeters[i]);\n    }\n    final.pop();\n    return final.filter((word) => word != '');\n}\n/**\n * Measure the width of a string accounting for letter spacing.\n *\n * @param context\n * @param word\n * @param space\n */\nexport function measureText(context, word, space = 0) {\n    if (!space) {\n        return context.measureText(word).width;\n    }\n    return word.split('').reduce((acc, char) => {\n        // Zero-width spaces should not include letter spacing.\n        // And since we know the width of a zero-width space is 0, we can skip\n        // measuring it.\n        if (isZeroWidthSpace(char)) {\n            return acc;\n        }\n        return acc + context.measureText(char).width + space;\n    }, 0);\n}\n/**\n * Get the font metrics for a font face.\n *\n * @remarks\n * This function will attempt to grab the explicitly defined metrics from the\n * font face first. If the font face does not have metrics defined, it will\n * attempt to calculate the metrics using the browser's measureText method.\n *\n * If the browser does not support the font metrics API, it will use some\n * default values.\n *\n * @param context\n * @param fontFace\n * @param fontSize\n * @returns\n */\nexport function getWebFontMetrics(context, fontFace, fontSize) {\n    if (fontFace.metrics) {\n        return fontFace.metrics;\n    }\n    // If the font face doesn't have metrics defined, we fallback to using the\n    // browser's measureText method to calculate take a best guess at the font\n    // actual font's metrics.\n    // - fontBoundingBox[Ascent|Descent] is the best estimate but only supported\n    //   in Chrome 87+ (2020), Firefox 116+ (2023), and Safari 11.1+ (2018).\n    //   - It is an estimate as it can vary between browsers.\n    // - actualBoundingBox[Ascent|Descent] is less accurate and supported in\n    //   Chrome 77+ (2019), Firefox 74+ (2020), and Safari 11.1+ (2018).\n    // - If neither are supported, we'll use some default values which will\n    //   get text on the screen but likely not be great.\n    // NOTE: It's been decided not to rely on fontBoundingBox[Ascent|Descent]\n    // as it's browser support is limited and it also tends to produce higher than\n    // expected values. It is instead HIGHLY RECOMMENDED that developers provide\n    // explicit metrics in the font face definition.\n    const browserMetrics = context.measureText('ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz');\n    console.warn(`Font metrics not provided for Canvas Web font ${fontFace.fontFamily}. ` +\n        'Using fallback values. It is HIGHLY recommended you use the latest ' +\n        'version of the Lightning 3 `msdf-generator` tool to extract the default ' +\n        'metrics for the font and provide them in the Canvas Web font definition.');\n    let metrics;\n    if (browserMetrics.actualBoundingBoxDescent &&\n        browserMetrics.actualBoundingBoxAscent) {\n        metrics = {\n            ascender: browserMetrics.actualBoundingBoxAscent / fontSize,\n            descender: -browserMetrics.actualBoundingBoxDescent / fontSize,\n            lineGap: 0.2,\n        };\n    }\n    else {\n        // If the browser doesn't support the font metrics API, we'll use some\n        // default values.\n        metrics = {\n            ascender: 0.8,\n            descender: -0.2,\n            lineGap: 0.2,\n        };\n    }\n    // Save the calculated metrics to the font face for future use.\n    fontFace.metrics = metrics;\n    return metrics;\n}\n/**\n * Applies newlines to a string to have it optimally fit into the horizontal\n * bounds set by the Text object's wordWrapWidth property.\n *\n * @param context\n * @param text\n * @param wordWrapWidth\n * @param letterSpacing\n * @param indent\n */\nexport function wrapText(context, text, wordWrapWidth, letterSpacing, indent) {\n    // Greedy wrapping algorithm that will wrap words as the line grows longer.\n    // than its horizontal bounds.\n    const spaceRegex = / |\\u200B/g;\n    const lines = text.split(/\\r?\\n/g);\n    let allLines = [];\n    const realNewlines = [];\n    for (let i = 0; i < lines.length; i++) {\n        const resultLines = [];\n        let result = '';\n        let spaceLeft = wordWrapWidth - indent;\n        const words = lines[i].split(spaceRegex);\n        const spaces = lines[i].match(spaceRegex) || [];\n        for (let j = 0; j < words.length; j++) {\n            const space = spaces[j - 1] || '';\n            const word = words[j];\n            const wordWidth = measureText(context, word, letterSpacing);\n            const wordWidthWithSpace = wordWidth + measureText(context, space, letterSpacing);\n            if (j === 0 || wordWidthWithSpace > spaceLeft) {\n                // Skip printing the newline if it's the first word of the line that is.\n                // greater than the word wrap width.\n                if (j > 0) {\n                    resultLines.push(result);\n                    result = '';\n                }\n                result += word;\n                spaceLeft = wordWrapWidth - wordWidth - (j === 0 ? indent : 0);\n            }\n            else {\n                spaceLeft -= wordWidthWithSpace;\n                result += space + word;\n            }\n        }\n        resultLines.push(result);\n        result = '';\n        allLines = allLines.concat(resultLines);\n        if (i < lines.length - 1) {\n            realNewlines.push(allLines.length);\n        }\n    }\n    return { l: allLines, n: realNewlines };\n}\n//# sourceMappingURL=TextTextureRendererUtils.js.map","/*\n * If not stated otherwise in this file or this component's LICENSE file the\n * following copyright and licenses apply:\n *\n * Copyright 2023 Comcast Cable Communications Management, LLC.\n *\n * Licensed under the Apache License, Version 2.0 (the License);\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/* eslint-disable @typescript-eslint/no-non-null-assertion */\nimport { assertTruthy } from '../../../utils.js';\nimport { getRgbaString } from '../../lib/utils.js';\nimport { calcDefaultLineHeight } from '../TextRenderingUtils.js';\nimport { getWebFontMetrics } from '../TextTextureRendererUtils.js';\nconst MAX_TEXTURE_DIMENSION = 2048;\n/**\n * Calculate height for the canvas\n *\n * @param textBaseline\n * @param fontSize\n * @param lineHeight\n * @param numLines\n * @param offsetY\n * @returns\n */\nfunction calcHeight(textBaseline, fontSize, lineHeight, numLines, offsetY) {\n    const baselineOffset = textBaseline !== 'bottom' ? 0.5 * fontSize : 0;\n    return (lineHeight * (numLines - 1) +\n        baselineOffset +\n        Math.max(lineHeight, fontSize) +\n        (offsetY || 0));\n}\nexport class LightningTextTextureRenderer {\n    _canvas;\n    _context;\n    _settings;\n    constructor(canvas, context) {\n        this._canvas = canvas;\n        this._context = context;\n        this._settings = this.mergeDefaults({});\n    }\n    set settings(v) {\n        this._settings = this.mergeDefaults(v);\n    }\n    get settings() {\n        return this._settings;\n    }\n    getPrecision() {\n        return this._settings.precision;\n    }\n    setFontProperties() {\n        this._context.font = this._getFontSetting();\n        this._context.textBaseline = this._settings.textBaseline;\n    }\n    _getFontSetting() {\n        const ff = [this._settings.fontFamily];\n        const ffs = [];\n        for (let i = 0, n = ff.length; i < n; i++) {\n            if (ff[i] === 'serif' || ff[i] === 'sans-serif') {\n                ffs.push(ff[i]);\n            }\n            else {\n                ffs.push(`\"${ff[i]}\"`);\n            }\n        }\n        return `${this._settings.fontStyle} ${this._settings.fontSize * this.getPrecision()}px ${ffs.join(',')}`;\n    }\n    _load() {\n        if (true && document.fonts) {\n            const fontSetting = this._getFontSetting();\n            try {\n                if (!document.fonts.check(fontSetting, this._settings.text)) {\n                    // Use a promise that waits for loading.\n                    return document.fonts\n                        .load(fontSetting, this._settings.text)\n                        .catch((err) => {\n                        // Just load the fallback font.\n                        console.warn('[Lightning] Font load error', err, fontSetting);\n                    })\n                        .then(() => {\n                        if (!document.fonts.check(fontSetting, this._settings.text)) {\n                            console.warn('[Lightning] Font not found', fontSetting);\n                        }\n                    });\n                }\n            }\n            catch (e) {\n                console.warn(\"[Lightning] Can't check font loading for \" + fontSetting);\n            }\n        }\n    }\n    calculateRenderInfo() {\n        const renderInfo = {};\n        const precision = this.getPrecision();\n        const paddingLeft = this._settings.paddingLeft * precision;\n        const paddingRight = this._settings.paddingRight * precision;\n        const fontSize = this._settings.fontSize * precision;\n        let offsetY = this._settings.offsetY === null\n            ? null\n            : this._settings.offsetY * precision;\n        const w = this._settings.w * precision;\n        const h = this._settings.h * precision;\n        let wordWrapWidth = this._settings.wordWrapWidth * precision;\n        const cutSx = this._settings.cutSx * precision;\n        const cutEx = this._settings.cutEx * precision;\n        const cutSy = this._settings.cutSy * precision;\n        const cutEy = this._settings.cutEy * precision;\n        const letterSpacing = (this._settings.letterSpacing || 0) * precision;\n        const textIndent = this._settings.textIndent * precision;\n        const trFontFace = this._settings.trFontFace;\n        // Set font properties.\n        this.setFontProperties();\n        assertTruthy(trFontFace);\n        const metrics = getWebFontMetrics(this._context, trFontFace, fontSize);\n        const defLineHeight = calcDefaultLineHeight(metrics, fontSize) * precision;\n        const lineHeight = this._settings.lineHeight !== null\n            ? this._settings.lineHeight * precision\n            : defLineHeight;\n        const maxHeight = this._settings.maxHeight;\n        const containedMaxLines = maxHeight !== null && lineHeight > 0\n            ? Math.floor(maxHeight / lineHeight)\n            : 0;\n        const setMaxLines = this._settings.maxLines;\n        const calcMaxLines = containedMaxLines > 0 && setMaxLines > 0\n            ? Math.min(containedMaxLines, setMaxLines)\n            : Math.max(containedMaxLines, setMaxLines);\n        // Total width.\n        let width = w || 2048 / this.getPrecision();\n        // Inner width.\n        let innerWidth = width - paddingLeft;\n        if (innerWidth < 10) {\n            width += 10 - innerWidth;\n            innerWidth = 10;\n        }\n        if (!wordWrapWidth) {\n            wordWrapWidth = innerWidth;\n        }\n        // Text overflow\n        if (this._settings.textOverflow && !this._settings.wordWrap) {\n            let suffix;\n            switch (this._settings.textOverflow) {\n                case 'clip':\n                    suffix = '';\n                    break;\n                case 'ellipsis':\n                    suffix = this._settings.overflowSuffix;\n                    break;\n                default:\n                    suffix = this._settings.textOverflow;\n            }\n            this._settings.text = this.wrapWord(this._settings.text, wordWrapWidth - textIndent, suffix);\n        }\n        // word wrap\n        // preserve original text\n        let linesInfo;\n        if (this._settings.wordWrap) {\n            linesInfo = this.wrapText(this._settings.text, wordWrapWidth, letterSpacing, textIndent);\n        }\n        else {\n            linesInfo = { l: this._settings.text.split(/(?:\\r\\n|\\r|\\n)/), n: [] };\n            const n = linesInfo.l.length;\n            for (let i = 0; i < n - 1; i++) {\n                linesInfo.n.push(i);\n            }\n        }\n        let lines = linesInfo.l;\n        if (calcMaxLines && lines.length > calcMaxLines) {\n            const usedLines = lines.slice(0, calcMaxLines);\n            let otherLines = null;\n            if (this._settings.overflowSuffix) {\n                // Wrap again with max lines suffix enabled.\n                const w = this._settings.overflowSuffix\n                    ? this.measureText(this._settings.overflowSuffix)\n                    : 0;\n                const al = this.wrapText(usedLines[usedLines.length - 1], wordWrapWidth - w, letterSpacing, textIndent);\n                usedLines[usedLines.length - 1] = `${al.l[0]}${this._settings.overflowSuffix}`;\n                otherLines = [al.l.length > 1 ? al.l[1] : ''];\n            }\n            else {\n                otherLines = [''];\n            }\n            // Re-assemble the remaining text.\n            let i;\n            const n = lines.length;\n            let j = 0;\n            const m = linesInfo.n.length;\n            for (i = calcMaxLines; i < n; i++) {\n                otherLines[j] += `${otherLines[j] ? ' ' : ''}${lines[i]}`;\n                if (i + 1 < m && linesInfo.n[i + 1]) {\n                    j++;\n                }\n            }\n            renderInfo.remainingText = otherLines.join('\\n');\n            renderInfo.moreTextLines = true;\n            lines = usedLines;\n        }\n        else {\n            renderInfo.moreTextLines = false;\n            renderInfo.remainingText = '';\n        }\n        // calculate text width\n        let maxLineWidth = 0;\n        const lineWidths = [];\n        for (let i = 0; i < lines.length; i++) {\n            const lineWidth = this.measureText(lines[i], letterSpacing) + (i === 0 ? textIndent : 0);\n            lineWidths.push(lineWidth);\n            maxLineWidth = Math.max(maxLineWidth, lineWidth);\n        }\n        renderInfo.lineWidths = lineWidths;\n        if (!w) {\n            // Auto-set width to max text length.\n            width = maxLineWidth + paddingLeft + paddingRight;\n            innerWidth = maxLineWidth;\n        }\n        let height;\n        if (h) {\n            height = h;\n        }\n        else {\n            height = calcHeight(this._settings.textBaseline, fontSize, lineHeight, lines.length, offsetY);\n        }\n        if (offsetY === null) {\n            offsetY = fontSize;\n        }\n        renderInfo.w = width;\n        renderInfo.h = height;\n        renderInfo.lines = lines;\n        renderInfo.precision = precision;\n        if (!width) {\n            // To prevent canvas errors.\n            width = 1;\n        }\n        if (!height) {\n            // To prevent canvas errors.\n            height = 1;\n        }\n        if (cutSx || cutEx) {\n            width = Math.min(width, cutEx - cutSx);\n        }\n        if (cutSy || cutEy) {\n            height = Math.min(height, cutEy - cutSy);\n        }\n        renderInfo.width = width;\n        renderInfo.innerWidth = innerWidth;\n        renderInfo.height = height;\n        renderInfo.fontSize = fontSize;\n        renderInfo.cutSx = cutSx;\n        renderInfo.cutSy = cutSy;\n        renderInfo.cutEx = cutEx;\n        renderInfo.cutEy = cutEy;\n        renderInfo.lineHeight = lineHeight;\n        renderInfo.defLineHeight = defLineHeight;\n        renderInfo.lineWidths = lineWidths;\n        renderInfo.offsetY = offsetY;\n        renderInfo.paddingLeft = paddingLeft;\n        renderInfo.paddingRight = paddingRight;\n        renderInfo.letterSpacing = letterSpacing;\n        renderInfo.textIndent = textIndent;\n        renderInfo.metrics = metrics;\n        return renderInfo;\n    }\n    draw(renderInfo, linesOverride) {\n        const precision = this.getPrecision();\n        // Allow lines to be overriden for partial rendering.\n        const lines = linesOverride?.lines || renderInfo.lines;\n        const lineWidths = linesOverride?.lineWidths || renderInfo.lineWidths;\n        const height = linesOverride\n            ? calcHeight(this._settings.textBaseline, renderInfo.fontSize, renderInfo.lineHeight, linesOverride.lines.length, this._settings.offsetY === null\n                ? null\n                : this._settings.offsetY * precision)\n            : renderInfo.height;\n        // Add extra margin to prevent issue with clipped text when scaling.\n        this._canvas.width = Math.min(Math.ceil(renderInfo.width + this._settings.textRenderIssueMargin), MAX_TEXTURE_DIMENSION);\n        this._canvas.height = Math.min(Math.ceil(height), MAX_TEXTURE_DIMENSION);\n        // Canvas context has been reset.\n        this.setFontProperties();\n        if (renderInfo.fontSize >= 128) {\n            // WpeWebKit bug: must force compositing because cairo-traps-compositor will not work with text first.\n            this._context.globalAlpha = 0.01;\n            this._context.fillRect(0, 0, 0.01, 0.01);\n            this._context.globalAlpha = 1.0;\n        }\n        if (renderInfo.cutSx || renderInfo.cutSy) {\n            this._context.translate(-renderInfo.cutSx, -renderInfo.cutSy);\n        }\n        let linePositionX;\n        let linePositionY;\n        const drawLines = [];\n        const { metrics } = renderInfo;\n        /**\n         * Ascender (in pixels)\n         */\n        const ascenderPx = metrics\n            ? metrics.ascender * renderInfo.fontSize\n            : renderInfo.fontSize;\n        /**\n         * Bare line height is the distance between the ascender and descender of the font.\n         * without the line gap metric.\n         */\n        const bareLineHeightPx = (metrics.ascender - metrics.descender) * renderInfo.fontSize;\n        // Draw lines line by line.\n        for (let i = 0, n = lines.length; i < n; i++) {\n            linePositionX = i === 0 ? renderInfo.textIndent : 0;\n            // By default, text is aligned to top\n            linePositionY = i * renderInfo.lineHeight + ascenderPx;\n            if (this._settings.verticalAlign == 'middle') {\n                linePositionY += (renderInfo.lineHeight - bareLineHeightPx) / 2;\n            }\n            else if (this._settings.verticalAlign == 'bottom') {\n                linePositionY += renderInfo.lineHeight - bareLineHeightPx;\n            }\n            if (this._settings.textAlign === 'right') {\n                linePositionX += renderInfo.innerWidth - lineWidths[i];\n            }\n            else if (this._settings.textAlign === 'center') {\n                linePositionX += (renderInfo.innerWidth - lineWidths[i]) / 2;\n            }\n            linePositionX += renderInfo.paddingLeft;\n            drawLines.push({\n                text: lines[i],\n                x: linePositionX,\n                y: linePositionY,\n                w: lineWidths[i],\n            });\n        }\n        // Highlight.\n        if (this._settings.highlight) {\n            const color = this._settings.highlightColor;\n            const hlHeight = this._settings.highlightHeight * precision || renderInfo.fontSize * 1.5;\n            const offset = this._settings.highlightOffset * precision;\n            const hlPaddingLeft = this._settings.highlightPaddingLeft !== null\n                ? this._settings.highlightPaddingLeft * precision\n                : renderInfo.paddingLeft;\n            const hlPaddingRight = this._settings.highlightPaddingRight !== null\n                ? this._settings.highlightPaddingRight * precision\n                : renderInfo.paddingRight;\n            this._context.fillStyle = getRgbaString(color);\n            for (let i = 0; i < drawLines.length; i++) {\n                const drawLine = drawLines[i];\n                this._context.fillRect(drawLine.x - hlPaddingLeft, drawLine.y - renderInfo.offsetY + offset, drawLine.w + hlPaddingRight + hlPaddingLeft, hlHeight);\n            }\n        }\n        // Text shadow.\n        let prevShadowSettings = null;\n        if (this._settings.shadow) {\n            prevShadowSettings = [\n                this._context.shadowColor,\n                this._context.shadowOffsetX,\n                this._context.shadowOffsetY,\n                this._context.shadowBlur,\n            ];\n            this._context.shadowColor = getRgbaString(this._settings.shadowColor);\n            this._context.shadowOffsetX = this._settings.shadowOffsetX * precision;\n            this._context.shadowOffsetY = this._settings.shadowOffsetY * precision;\n            this._context.shadowBlur = this._settings.shadowBlur * precision;\n        }\n        this._context.fillStyle = getRgbaString(this._settings.textColor);\n        for (let i = 0, n = drawLines.length; i < n; i++) {\n            const drawLine = drawLines[i];\n            if (renderInfo.letterSpacing === 0) {\n                this._context.fillText(drawLine.text, drawLine.x, drawLine.y);\n            }\n            else {\n                const textSplit = drawLine.text.split('');\n                let x = drawLine.x;\n                for (let i = 0, j = textSplit.length; i < j; i++) {\n                    this._context.fillText(textSplit[i], x, drawLine.y);\n                    x += this.measureText(textSplit[i], renderInfo.letterSpacing);\n                }\n            }\n        }\n        if (prevShadowSettings) {\n            this._context.shadowColor = prevShadowSettings[0];\n            this._context.shadowOffsetX = prevShadowSettings[1];\n            this._context.shadowOffsetY = prevShadowSettings[2];\n            this._context.shadowBlur = prevShadowSettings[3];\n        }\n        if (renderInfo.cutSx || renderInfo.cutSy) {\n            this._context.translate(renderInfo.cutSx, renderInfo.cutSy);\n        }\n    }\n    wrapWord(word, wordWrapWidth, suffix) {\n        const suffixWidth = this._context.measureText(suffix).width;\n        const wordLen = word.length;\n        const wordWidth = this._context.measureText(word).width;\n        /* If word fits wrapWidth, do nothing */\n        if (wordWidth <= wordWrapWidth) {\n            return word;\n        }\n        /* Make initial guess for text cuttoff */\n        let cutoffIndex = Math.floor((wordWrapWidth * wordLen) / wordWidth);\n        let truncWordWidth = this._context.measureText(word.substring(0, cutoffIndex)).width +\n            suffixWidth;\n        /* In case guess was overestimated, shrink it letter by letter. */\n        if (truncWordWidth > wordWrapWidth) {\n            while (cutoffIndex > 0) {\n                truncWordWidth =\n                    this._context.measureText(word.substring(0, cutoffIndex)).width +\n                        suffixWidth;\n                if (truncWordWidth > wordWrapWidth) {\n                    cutoffIndex -= 1;\n                }\n                else {\n                    break;\n                }\n            }\n            /* In case guess was underestimated, extend it letter by letter. */\n        }\n        else {\n            while (cutoffIndex < wordLen) {\n                truncWordWidth =\n                    this._context.measureText(word.substring(0, cutoffIndex)).width +\n                        suffixWidth;\n                if (truncWordWidth < wordWrapWidth) {\n                    cutoffIndex += 1;\n                }\n                else {\n                    // Finally, when bound is crossed, retract last letter.\n                    cutoffIndex -= 1;\n                    break;\n                }\n            }\n        }\n        /* If wrapWidth is too short to even contain suffix alone, return empty string */\n        return (word.substring(0, cutoffIndex) +\n            (wordWrapWidth >= suffixWidth ? suffix : ''));\n    }\n    /**\n     * Applies newlines to a string to have it optimally fit into the horizontal\n     * bounds set by the Text object's wordWrapWidth property.\n     */\n    wrapText(text, wordWrapWidth, letterSpacing, indent = 0) {\n        // Greedy wrapping algorithm that will wrap words as the line grows longer.\n        // than its horizontal bounds.\n        const lines = text.split(/\\r?\\n/g);\n        let allLines = [];\n        const realNewlines = [];\n        for (let i = 0; i < lines.length; i++) {\n            const resultLines = [];\n            let result = '';\n            let spaceLeft = wordWrapWidth - indent;\n            const words = lines[i].split(' ');\n            for (let j = 0; j < words.length; j++) {\n                const wordWidth = this.measureText(words[j], letterSpacing);\n                const wordWidthWithSpace = wordWidth + this.measureText(' ', letterSpacing);\n                if (j === 0 || wordWidthWithSpace > spaceLeft) {\n                    // Skip printing the newline if it's the first word of the line that is.\n                    // greater than the word wrap width.\n                    if (j > 0) {\n                        resultLines.push(result);\n                        result = '';\n                    }\n                    result += words[j];\n                    spaceLeft = wordWrapWidth - wordWidth - (j === 0 ? indent : 0);\n                }\n                else {\n                    spaceLeft -= wordWidthWithSpace;\n                    result += ` ${words[j]}`;\n                }\n            }\n            resultLines.push(result);\n            result = '';\n            allLines = allLines.concat(resultLines);\n            if (i < lines.length - 1) {\n                realNewlines.push(allLines.length);\n            }\n        }\n        return { l: allLines, n: realNewlines };\n    }\n    measureText(word, space = 0) {\n        if (!space) {\n            return this._context.measureText(word).width;\n        }\n        return word.split('').reduce((acc, char) => {\n            return acc + this._context.measureText(char).width + space;\n        }, 0);\n    }\n    mergeDefaults(settings) {\n        return {\n            text: '',\n            w: 0,\n            h: 0,\n            fontStyle: 'normal',\n            fontSize: 40,\n            fontFamily: null,\n            trFontFace: null,\n            wordWrap: true,\n            wordWrapWidth: 0,\n            wordBreak: false,\n            textOverflow: '',\n            lineHeight: null,\n            textBaseline: 'alphabetic',\n            textAlign: 'left',\n            verticalAlign: 'top',\n            offsetY: null,\n            maxLines: 0,\n            maxHeight: null,\n            overflowSuffix: '...',\n            textColor: [1.0, 1.0, 1.0, 1.0],\n            paddingLeft: 0,\n            paddingRight: 0,\n            shadow: false,\n            shadowColor: [0.0, 0.0, 0.0, 1.0],\n            shadowOffsetX: 0,\n            shadowOffsetY: 0,\n            shadowBlur: 5,\n            highlight: false,\n            highlightHeight: 0,\n            highlightColor: [0.0, 0.0, 0.0, 1.0],\n            highlightOffset: 0,\n            highlightPaddingLeft: 0,\n            highlightPaddingRight: 0,\n            letterSpacing: 0,\n            textIndent: 0,\n            cutSx: 0,\n            cutEx: 0,\n            cutSy: 0,\n            cutEy: 0,\n            advancedRenderer: false,\n            fontBaselineRatio: 0,\n            precision: 1,\n            textRenderIssueMargin: 0,\n            ...settings,\n        };\n    }\n}\n//# sourceMappingURL=LightningTextTextureRenderer.js.map","/*\n * If not stated otherwise in this file or this component's LICENSE file the\n * following copyright and licenses apply:\n *\n * Copyright 2023 Comcast Cable Communications Management, LLC.\n *\n * Licensed under the Apache License, Version 2.0 (the License);\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { EventEmitter } from '../../../common/EventEmitter.js';\nimport { assertTruthy } from '../../../utils.js';\nimport { getNormalizedRgbaComponents, getNormalizedAlphaComponent, } from '../../lib/utils.js';\nimport { TrFontManager } from '../TrFontManager.js';\nimport { WebTrFontFace } from '../font-face-types/WebTrFontFace.js';\nimport { LightningTextTextureRenderer, } from './LightningTextTextureRenderer.js';\nimport { TextRenderer, } from './TextRenderer.js';\nconst resolvedGlobal = typeof self === 'undefined' ? globalThis : self;\n/**\n * Global font set regardless of if run in the main thread or a web worker\n */\nconst globalFontSet = (resolvedGlobal.document?.fonts ||\n    resolvedGlobal.fonts);\nfunction getFontCssString(props) {\n    const { fontFamily, fontStyle, fontWeight, fontStretch, fontSize } = props;\n    return [fontStyle, fontWeight, fontStretch, `${fontSize}px`, fontFamily].join(' ');\n}\nexport class CanvasTextRenderer extends TextRenderer {\n    canvas;\n    context;\n    /**\n     * Font family map used to store web font faces that were added to the\n     * canvas text renderer.\n     */\n    fontFamilies = {};\n    fontFamilyArray = [this.fontFamilies];\n    type = 'canvas';\n    constructor(stage) {\n        super(stage);\n        if (typeof OffscreenCanvas !== 'undefined') {\n            this.canvas = new OffscreenCanvas(0, 0);\n        }\n        else {\n            this.canvas = document.createElement('canvas');\n        }\n        // eslint-disable-next-line @typescript-eslint/no-unnecessary-type-assertion\n        let context = this.canvas.getContext('2d', {\n            willReadFrequently: true,\n        });\n        if (!context) {\n            // A browser may appear to support OffscreenCanvas but not actually support the Canvas '2d' context\n            // Here we try getting the context again after falling back to an HTMLCanvasElement.\n            // See: https://github.com/lightning-js/renderer/issues/26#issuecomment-1750438486\n            this.canvas = document.createElement('canvas');\n            context = this.canvas.getContext('2d', {\n                willReadFrequently: true,\n            });\n        }\n        assertTruthy(context);\n        this.context = context;\n        // Install the default 'san-serif' font face\n        this.addFontFace(new WebTrFontFace({\n            fontFamily: 'sans-serif',\n            descriptors: {},\n            fontUrl: '',\n        }));\n    }\n    //#region Overrides\n    getPropertySetters() {\n        return {\n            fontFamily: (state, value) => {\n                state.props.fontFamily = value;\n                state.fontInfo = undefined;\n                this.invalidateLayoutCache(state);\n            },\n            fontWeight: (state, value) => {\n                state.props.fontWeight = value;\n                state.fontInfo = undefined;\n                this.invalidateLayoutCache(state);\n            },\n            fontStyle: (state, value) => {\n                state.props.fontStyle = value;\n                state.fontInfo = undefined;\n                this.invalidateLayoutCache(state);\n            },\n            fontStretch: (state, value) => {\n                state.props.fontStretch = value;\n                state.fontInfo = undefined;\n                this.invalidateLayoutCache(state);\n            },\n            fontSize: (state, value) => {\n                state.props.fontSize = value;\n                state.fontInfo = undefined;\n                this.invalidateLayoutCache(state);\n            },\n            text: (state, value) => {\n                state.props.text = value;\n                this.invalidateLayoutCache(state);\n            },\n            textAlign: (state, value) => {\n                state.props.textAlign = value;\n                this.invalidateLayoutCache(state);\n            },\n            color: (state, value) => {\n                state.props.color = value;\n                this.invalidateLayoutCache(state);\n            },\n            x: (state, value) => {\n                state.props.x = value;\n            },\n            y: (state, value) => {\n                state.props.y = value;\n            },\n            contain: (state, value) => {\n                state.props.contain = value;\n                this.invalidateLayoutCache(state);\n            },\n            width: (state, value) => {\n                state.props.width = value;\n                // Only invalidate layout cache if we're containing in the horizontal direction\n                if (state.props.contain !== 'none') {\n                    this.invalidateLayoutCache(state);\n                }\n            },\n            height: (state, value) => {\n                state.props.height = value;\n                // Only invalidate layout cache if we're containing in the vertical direction\n                if (state.props.contain === 'both') {\n                    this.invalidateLayoutCache(state);\n                }\n            },\n            offsetY: (state, value) => {\n                state.props.offsetY = value;\n                this.invalidateLayoutCache(state);\n            },\n            scrollY: (state, value) => {\n                state.props.scrollY = value;\n            },\n            letterSpacing: (state, value) => {\n                state.props.letterSpacing = value;\n                this.invalidateLayoutCache(state);\n            },\n            lineHeight: (state, value) => {\n                state.props.lineHeight = value;\n                this.invalidateLayoutCache(state);\n            },\n            maxLines: (state, value) => {\n                state.props.maxLines = value;\n                this.invalidateLayoutCache(state);\n            },\n            textBaseline: (state, value) => {\n                state.props.textBaseline = value;\n                this.invalidateLayoutCache(state);\n            },\n            verticalAlign: (state, value) => {\n                state.props.verticalAlign = value;\n                this.invalidateLayoutCache(state);\n            },\n            overflowSuffix: (state, value) => {\n                state.props.overflowSuffix = value;\n                this.invalidateLayoutCache(state);\n            },\n        };\n    }\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    canRenderFont(props) {\n        // The canvas renderer can render any font because it automatically\n        // falls back to system fonts. The CanvasTextRenderer should be\n        // checked last if other renderers are preferred.\n        return true;\n    }\n    isFontFaceSupported(fontFace) {\n        return fontFace instanceof WebTrFontFace;\n    }\n    addFontFace(fontFace) {\n        // Make sure the font face is an Canvas font face (it should have already passed\n        // the `isFontFaceSupported` check)\n        assertTruthy(fontFace instanceof WebTrFontFace);\n        // Add the font face to the document\n        // Except for the 'sans-serif' font family, which the Renderer provides\n        // as a special default fallback.\n        if (fontFace.fontFamily !== 'sans-serif') {\n            // @ts-expect-error `add()` method should be available from a FontFaceSet\n            // eslint-disable-next-line @typescript-eslint/no-unsafe-call\n            globalFontSet.add(fontFace.fontFace);\n        }\n        const { fontFamilies } = this;\n        const familyName = fontFace.fontFace.family;\n        let faceSet = fontFamilies[familyName];\n        if (!faceSet) {\n            faceSet = new Set();\n            fontFamilies[familyName] = faceSet;\n        }\n        faceSet.add(fontFace);\n    }\n    createState(props, node) {\n        return {\n            node,\n            props,\n            status: 'initialState',\n            updateScheduled: false,\n            emitter: new EventEmitter(),\n            textureNode: undefined,\n            lightning2TextRenderer: new LightningTextTextureRenderer(this.canvas, this.context),\n            renderInfo: undefined,\n            forceFullLayoutCalc: false,\n            textW: 0,\n            textH: 0,\n            fontInfo: undefined,\n            isRenderable: false,\n            debugData: {\n                updateCount: 0,\n                layoutCount: 0,\n                drawCount: 0,\n                lastLayoutNumCharacters: 0,\n                layoutSum: 0,\n                drawSum: 0,\n                bufferSize: 0,\n            },\n        };\n    }\n    updateState(state) {\n        // On the first update call we need to set the status to loading\n        if (state.status === 'initialState') {\n            this.setStatus(state, 'loading');\n            // check if we're on screen\n            // if (this.isValidOnScreen(state) === true) {\n            //   this.setStatus(state, 'loading');\n            // }\n        }\n        if (state.status === 'loaded') {\n            // If we're loaded, we don't need to do anything\n            return;\n        }\n        // If fontInfo is invalid, we need to establish it\n        if (!state.fontInfo) {\n            return this.loadFont(state);\n        }\n        // If we're waiting for a font face to load, don't render anything\n        if (!state.fontInfo.loaded) {\n            return;\n        }\n        if (!state.renderInfo) {\n            state.renderInfo = this.calculateRenderInfo(state);\n            state.textH = state.renderInfo.lineHeight * state.renderInfo.lines.length;\n            state.textW = state.renderInfo.width;\n            this.renderSingleCanvasPage(state);\n        }\n        // handle scrollable text !!!\n        // if (state.isScrollable === true) {\n        //   return this.renderScrollableCanvasPages(state);\n        // }\n        // handle single page text\n    }\n    renderSingleCanvasPage(state) {\n        assertTruthy(state.renderInfo);\n        const node = state.node;\n        const texture = this.stage.txManager.loadTexture('ImageTexture', {\n            src: function (lightning2TextRenderer, renderInfo) {\n                // load the canvas texture\n                assertTruthy(renderInfo);\n                lightning2TextRenderer.draw(renderInfo, {\n                    lines: renderInfo.lines,\n                    lineWidths: renderInfo.lineWidths,\n                });\n                if (this.canvas.width === 0 || this.canvas.height === 0) {\n                    return null;\n                }\n                return this.context.getImageData(0, 0, this.canvas.width, this.canvas.height);\n            }.bind(this, state.lightning2TextRenderer, state.renderInfo),\n        });\n        if (state.textureNode) {\n            // Use the existing texture node\n            state.textureNode.texture = texture;\n        }\n        else {\n            // Create a new texture node\n            const textureNode = this.stage.createNode({\n                parent: node,\n                texture,\n                autosize: true,\n                // The alpha channel of the color is ignored when rasterizing the text\n                // texture so we need to pass it directly to the texture node.\n                alpha: getNormalizedAlphaComponent(state.props.color),\n            });\n            state.textureNode = textureNode;\n        }\n        this.setStatus(state, 'loaded');\n    }\n    loadFont = (state) => {\n        const cssString = getFontCssString(state.props);\n        const trFontFace = TrFontManager.resolveFontFace(this.fontFamilyArray, state.props);\n        assertTruthy(trFontFace, `Could not resolve font face for ${cssString}`);\n        state.fontInfo = {\n            fontFace: trFontFace,\n            cssString: cssString,\n            // TODO: For efficiency we would use this here but it's not reliable on WPE -> document.fonts.check(cssString),\n            loaded: false,\n        };\n        // If font is not loaded, set up a handler to update the font info when the font loads\n        if (!state.fontInfo.loaded) {\n            globalFontSet\n                .load(cssString)\n                .then(this.onFontLoaded.bind(this, state, cssString))\n                .catch(this.onFontLoadError.bind(this, state, cssString));\n            return;\n        }\n    };\n    calculateRenderInfo(state) {\n        state.lightning2TextRenderer.settings = {\n            text: state.props.text,\n            textAlign: state.props.textAlign,\n            fontFamily: state.props.fontFamily,\n            trFontFace: state.fontInfo?.fontFace,\n            fontSize: state.props.fontSize,\n            fontStyle: [\n                state.props.fontStretch,\n                state.props.fontStyle,\n                state.props.fontWeight,\n            ].join(' '),\n            textColor: getNormalizedRgbaComponents(state.props.color),\n            offsetY: state.props.offsetY,\n            wordWrap: state.props.contain !== 'none',\n            wordWrapWidth: state.props.contain === 'none' ? undefined : state.props.width,\n            letterSpacing: state.props.letterSpacing,\n            lineHeight: state.props.lineHeight ?? null,\n            maxLines: state.props.maxLines,\n            maxHeight: state.props.contain === 'both'\n                ? state.props.height - state.props.offsetY\n                : null,\n            textBaseline: state.props.textBaseline,\n            verticalAlign: state.props.verticalAlign,\n            overflowSuffix: state.props.overflowSuffix,\n            w: state.props.contain !== 'none' ? state.props.width : undefined,\n        };\n        state.renderInfo = state.lightning2TextRenderer.calculateRenderInfo();\n        return state.renderInfo;\n    }\n    renderQuads() {\n        // Do nothing. The renderer will render the child node(s) that were created\n        // in the state update.\n        return;\n    }\n    destroyState(state) {\n        if (state.status === 'destroyed') {\n            return;\n        }\n        super.destroyState(state);\n        if (state.textureNode) {\n            state.textureNode.destroy();\n            delete state.textureNode;\n        }\n        delete state.renderInfo;\n    }\n    //#endregion Overrides\n    /**\n     * Invalidate the layout cache stored in the state. This will cause the text\n     * to be re-rendered on the next update.\n     *\n     * @remarks\n     * This also invalidates the visible window cache.\n     *\n     * @param state\n     */\n    invalidateLayoutCache(state) {\n        state.renderInfo = undefined;\n        this.setStatus(state, 'loading');\n        this.scheduleUpdateState(state);\n    }\n    onFontLoaded(state, cssString) {\n        if (cssString !== state.fontInfo?.cssString || !state.fontInfo) {\n            return;\n        }\n        state.fontInfo.loaded = true;\n        this.scheduleUpdateState(state);\n    }\n    onFontLoadError(state, cssString, error) {\n        if (cssString !== state.fontInfo?.cssString || !state.fontInfo) {\n            return;\n        }\n        // Font didn't actually load, but we'll log the error and mark it as loaded\n        // because the browser can still render with a fallback font.\n        state.fontInfo.loaded = true;\n        console.error(`CanvasTextRenderer: Error loading font '${state.fontInfo.cssString}'`, error);\n        this.scheduleUpdateState(state);\n    }\n}\n//# sourceMappingURL=CanvasTextRenderer.js.map","/*\n * If not stated otherwise in this file or this component's LICENSE file the\n * following copyright and licenses apply:\n *\n * Copyright 2023 Comcast Cable Communications Management, LLC.\n *\n * Licensed under the Apache License, Version 2.0 (the License);\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nconst WHITE = {\n    isWhite: true,\n    a: 1,\n    r: 0xff,\n    g: 0xff,\n    b: 0xff,\n};\n/**\n * Extract color components\n */\nexport function parseColor(abgr) {\n    if (abgr === 0xffffffff) {\n        return WHITE;\n    }\n    const a = ((abgr >>> 24) & 0xff) / 255;\n    const b = (abgr >>> 16) & 0xff & 0xff;\n    const g = (abgr >>> 8) & 0xff & 0xff;\n    const r = abgr & 0xff & 0xff;\n    return { isWhite: false, a, r, g, b };\n}\n/**\n * Format a parsed color into a rgba CSS color\n */\nexport function formatRgba({ a, r, g, b }) {\n    return `rgba(${r},${g},${b},${a})`;\n}\n//# sourceMappingURL=ColorUtils.js.map","/*\n * If not stated otherwise in this file or this component's LICENSE file the\n * following copyright and licenses apply:\n *\n * Copyright 2023 Comcast Cable Communications Management, LLC.\n *\n * Licensed under the Apache License, Version 2.0 (the License);\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { assertTruthy } from '../../../utils.js';\nimport { CoreContextTexture } from '../CoreContextTexture.js';\nimport { formatRgba } from './internal/ColorUtils.js';\nexport class CanvasCoreTexture extends CoreContextTexture {\n    image;\n    tintCache;\n    load() {\n        if (this.textureSource.state !== 'freed') {\n            return;\n        }\n        this.textureSource.setState('loading');\n        this.onLoadRequest()\n            .then((size) => {\n            this.textureSource.setState('loaded', size);\n            this.updateMemSize();\n        })\n            .catch((err) => {\n            this.textureSource.setState('failed', err);\n        });\n    }\n    free() {\n        this.image = undefined;\n        this.tintCache = undefined;\n        this.textureSource.setState('freed');\n        this.setTextureMemUse(0);\n    }\n    updateMemSize() {\n        // Counting memory usage for:\n        // - main image\n        // - tinted image\n        const mult = this.tintCache ? 8 : 4;\n        if (this.textureSource.dimensions) {\n            const { width, height } = this.textureSource.dimensions;\n            this.setTextureMemUse(width * height * mult);\n        }\n    }\n    hasImage() {\n        return this.image !== undefined;\n    }\n    getImage(color) {\n        const image = this.image;\n        assertTruthy(image, 'Attempt to get unloaded image texture');\n        if (color.isWhite) {\n            if (this.tintCache) {\n                this.tintCache = undefined;\n                this.updateMemSize();\n            }\n            return image;\n        }\n        const key = formatRgba(color);\n        if (this.tintCache?.key === key) {\n            return this.tintCache.image;\n        }\n        const tintedImage = this.tintTexture(image, key);\n        this.tintCache = {\n            key,\n            image: tintedImage,\n        };\n        this.updateMemSize();\n        return tintedImage;\n    }\n    tintTexture(source, color) {\n        const { width, height } = source;\n        const canvas = document.createElement('canvas');\n        canvas.width = width;\n        canvas.height = height;\n        const ctx = canvas.getContext('2d');\n        if (ctx) {\n            // fill with target color\n            ctx.fillStyle = color;\n            ctx.globalCompositeOperation = 'copy';\n            ctx.fillRect(0, 0, width, height);\n            // multiply with image, resulting in non-transparent tinted image\n            ctx.globalCompositeOperation = 'multiply';\n            ctx.drawImage(source, 0, 0, width, height, 0, 0, width, height);\n            // apply original image alpha\n            ctx.globalCompositeOperation = 'destination-in';\n            ctx.drawImage(source, 0, 0, width, height, 0, 0, width, height);\n        }\n        return canvas;\n    }\n    async onLoadRequest() {\n        const { data } = await this.textureSource.getTextureData();\n        // TODO: canvas from text renderer should be able to provide the canvas directly\n        // instead of having to re-draw it into a new canvas...\n        if (data instanceof ImageData) {\n            const canvas = document.createElement('canvas');\n            canvas.width = data.width;\n            canvas.height = data.height;\n            const ctx = canvas.getContext('2d');\n            if (ctx)\n                ctx.putImageData(data, 0, 0);\n            this.image = canvas;\n            return { width: data.width, height: data.height };\n        }\n        else if (window.ImageBitmap && data instanceof ImageBitmap) {\n            this.image = data;\n            return { width: data.width, height: data.height };\n        }\n        return { width: 0, height: 0 };\n    }\n}\n//# sourceMappingURL=CanvasCoreTexture.js.map","/*\n * If not stated otherwise in this file or this component's LICENSE file the\n * following copyright and licenses apply:\n *\n * Copyright 2023 Comcast Cable Communications Management, LLC.\n *\n * Licensed under the Apache License, Version 2.0 (the License);\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { ROUNDED_RECTANGLE_SHADER_TYPE, UnsupportedShader, } from '../shaders/UnsupportedShader.js';\n/**\n * Extract `RoundedRectangle` shader radius to apply as a clipping\n */\nexport function getRadius(quad) {\n    if (quad.shader instanceof UnsupportedShader) {\n        const shType = quad.shader.shType;\n        if (shType === ROUNDED_RECTANGLE_SHADER_TYPE) {\n            return quad.shaderProps?.radius ?? 0;\n        }\n    }\n    return 0;\n}\n//# sourceMappingURL=C2DShaderUtils.js.map","/*\n * If not stated otherwise in this file or this component's LICENSE file the\n * following copyright and licenses apply:\n *\n * Copyright 2023 Comcast Cable Communications Management, LLC.\n *\n * Licensed under the Apache License, Version 2.0 (the License);\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { getRgbaComponents } from '../../lib/utils.js';\nimport { SubTexture } from '../../textures/SubTexture.js';\nimport { CoreRenderer, } from '../CoreRenderer.js';\nimport { CanvasCoreTexture } from './CanvasCoreTexture.js';\nimport { getRadius } from './internal/C2DShaderUtils.js';\nimport { formatRgba, parseColor, } from './internal/ColorUtils.js';\nimport { UnsupportedShader } from './shaders/UnsupportedShader.js';\nexport class CanvasCoreRenderer extends CoreRenderer {\n    context;\n    canvas;\n    pixelRatio;\n    clearColor;\n    renderToTextureActive = false;\n    activeRttNode = null;\n    defShaderCtr;\n    constructor(options) {\n        super(options);\n        this.mode = 'canvas';\n        this.shManager.renderer = this;\n        const { canvas, pixelRatio, clearColor } = options;\n        this.canvas = canvas;\n        this.context = canvas.getContext('2d');\n        this.pixelRatio = pixelRatio;\n        this.clearColor = clearColor ? getRgbaComponents(clearColor) : undefined;\n        // Stub for default shader controller since the canvas renderer does not\n        // (really) support the concept of a shader (yet)\n        this.defShaderCtr = {\n            type: 'DefaultShader',\n            props: {},\n            shader: new UnsupportedShader('DefaultShader'),\n            getResolvedProps: () => () => {\n                return {};\n            },\n        };\n    }\n    reset() {\n        // eslint-disable-next-line no-self-assign\n        this.canvas.width = this.canvas.width; // quick reset canvas\n        const ctx = this.context;\n        if (this.clearColor) {\n            const [r, g, b, a] = this.clearColor;\n            ctx.fillStyle = `rgba(${r}, ${g}, ${b}, ${a / 255})`;\n            ctx.fillRect(0, 0, this.canvas.width, this.canvas.height);\n        }\n        ctx.scale(this.pixelRatio, this.pixelRatio);\n    }\n    render() {\n        // noop\n    }\n    addQuad(quad) {\n        const ctx = this.context;\n        const { tx, ty, width, height, alpha, colorTl, colorTr, colorBr, ta, tb, tc, td, clippingRect, } = quad;\n        let texture = quad.texture;\n        let ctxTexture = undefined;\n        let frame;\n        if (texture) {\n            if (texture instanceof SubTexture) {\n                frame = texture.props;\n                texture = texture.parentTexture;\n            }\n            ctxTexture = texture.ctxTexture;\n            if (texture.state === 'freed') {\n                ctxTexture.load();\n                return;\n            }\n            if (texture.state !== 'loaded' || !ctxTexture.hasImage()) {\n                return;\n            }\n        }\n        const color = parseColor(colorTl);\n        const hasTransform = ta !== 1;\n        const hasClipping = clippingRect.width !== 0 && clippingRect.height !== 0;\n        const hasGradient = colorTl !== colorTr || colorTl !== colorBr;\n        const radius = quad.shader ? getRadius(quad) : 0;\n        if (hasTransform || hasClipping || radius) {\n            ctx.save();\n        }\n        if (hasClipping) {\n            const path = new Path2D();\n            const { x, y, width, height } = clippingRect;\n            path.rect(x, y, width, height);\n            ctx.clip(path);\n        }\n        if (hasTransform) {\n            // Quad transform:\n            // | ta tb tx |\n            // | tc td ty |\n            // | 0  0  1  |\n            // C2D transform:\n            // | a  c  e  |\n            // | b  d  f  |\n            // | 0  0  1  |\n            const scale = this.pixelRatio;\n            ctx.setTransform(ta, tc, tb, td, tx * scale, ty * scale);\n            ctx.scale(scale, scale);\n            ctx.translate(-tx, -ty);\n        }\n        if (radius) {\n            const path = new Path2D();\n            path.roundRect(tx, ty, width, height, radius);\n            ctx.clip(path);\n        }\n        if (ctxTexture) {\n            const image = ctxTexture.getImage(color);\n            ctx.globalAlpha = alpha;\n            if (frame) {\n                ctx.drawImage(image, frame.x, frame.y, frame.width, frame.height, tx, ty, width, height);\n            }\n            else {\n                ctx.drawImage(image, tx, ty, width, height);\n            }\n            ctx.globalAlpha = 1;\n        }\n        else if (hasGradient) {\n            let endX = tx;\n            let endY = ty;\n            let endColor;\n            if (colorTl === colorTr) {\n                // vertical\n                endX = tx;\n                endY = ty + height;\n                endColor = parseColor(colorBr);\n            }\n            else {\n                // horizontal\n                endX = tx + width;\n                endY = ty;\n                endColor = parseColor(colorTr);\n            }\n            const gradient = ctx.createLinearGradient(tx, ty, endX, endY);\n            gradient.addColorStop(0, formatRgba(color));\n            gradient.addColorStop(1, formatRgba(endColor));\n            ctx.fillStyle = gradient;\n            ctx.fillRect(tx, ty, width, height);\n        }\n        else {\n            ctx.fillStyle = formatRgba(color);\n            ctx.fillRect(tx, ty, width, height);\n        }\n        if (hasTransform || hasClipping || radius) {\n            ctx.restore();\n        }\n    }\n    createCtxTexture(textureSource) {\n        return new CanvasCoreTexture(this.txMemManager, textureSource);\n    }\n    getShaderManager() {\n        return this.shManager;\n    }\n    getDefShaderCtr() {\n        return this.defShaderCtr;\n    }\n    renderRTTNodes() {\n        // noop\n    }\n    removeRTTNode(node) {\n        // noop\n    }\n    renderToTexture(node) {\n        // noop\n    }\n    getBufferInfo() {\n        return null;\n    }\n}\n//# sourceMappingURL=CanvasCoreRenderer.js.map","import { CoreNode, } from '../core/CoreNode.js';\nimport {} from './Renderer.js';\nimport { isProductionEnvironment } from '../utils.js';\nconst stylePropertyMap = {\n    alpha: (v) => {\n        if (v === 1) {\n            return null;\n        }\n        return { prop: 'opacity', value: `${v}` };\n    },\n    x: (x) => {\n        return { prop: 'left', value: `${x}px` };\n    },\n    y: (y) => {\n        return { prop: 'top', value: `${y}px` };\n    },\n    width: (w) => {\n        if (w === 0) {\n            return null;\n        }\n        return { prop: 'width', value: `${w}px` };\n    },\n    height: (h) => {\n        if (h === 0) {\n            return null;\n        }\n        return { prop: 'height', value: `${h}px` };\n    },\n    zIndex: () => 'zIndex',\n    fontFamily: () => 'font-family',\n    fontSize: () => 'font-size',\n    fontStyle: () => 'font-style',\n    fontWeight: () => 'font-weight',\n    fontStretch: () => 'font-stretch',\n    lineHeight: () => 'line-height',\n    letterSpacing: () => 'letter-spacing',\n    textAlign: () => 'text-align',\n    overflowSuffix: () => 'overflow-suffix',\n    maxLines: () => 'max-lines',\n    contain: () => 'contain',\n    verticalAlign: () => 'vertical-align',\n    clipping: (v) => {\n        if (v === false) {\n            return null;\n        }\n        return { prop: 'overflow', value: v ? 'hidden' : 'visible' };\n    },\n    rotation: (v) => {\n        if (v === 0) {\n            return null;\n        }\n        return { prop: 'transform', value: `rotate(${v}rad)` };\n    },\n    scale: (v) => {\n        if (v === 1) {\n            return null;\n        }\n        return { prop: 'transform', value: `scale(${v})` };\n    },\n    scaleX: (v) => {\n        if (v === 1) {\n            return null;\n        }\n        return { prop: 'transform', value: `scaleX(${v})` };\n    },\n    scaleY: (v) => {\n        if (v === 1) {\n            return null;\n        }\n        return { prop: 'transform', value: `scaleY(${v})` };\n    },\n    color: (v) => {\n        if (v === 0) {\n            return null;\n        }\n        return { prop: 'color', value: convertColorToRgba(v) };\n    },\n};\nconst convertColorToRgba = (color) => {\n    const a = (color & 0xff) / 255;\n    const b = (color >> 8) & 0xff;\n    const g = (color >> 16) & 0xff;\n    const r = (color >> 24) & 0xff;\n    return `rgba(${r},${g},${b},${a})`;\n};\nconst domPropertyMap = {\n    id: 'test-id',\n};\nconst gradientColorPropertyMap = [\n    'colorTop',\n    'colorBottom',\n    'colorLeft',\n    'colorRight',\n    'colorTl',\n    'colorTr',\n    'colorBl',\n    'colorBr',\n];\nexport class Inspector {\n    root = null;\n    canvas = null;\n    height = 1080;\n    width = 1920;\n    scaleX = 1;\n    scaleY = 1;\n    constructor(canvas, settings) {\n        if (isProductionEnvironment())\n            return;\n        if (!settings) {\n            throw new Error('settings is required');\n        }\n        // calc dimensions based on the devicePixelRatio\n        this.height = Math.ceil(settings.appHeight ?? 1080 / (settings.deviceLogicalPixelRatio ?? 1));\n        this.width = Math.ceil(settings.appWidth ?? 1920 / (settings.deviceLogicalPixelRatio ?? 1));\n        this.scaleX = settings.deviceLogicalPixelRatio ?? 1;\n        this.scaleY = settings.deviceLogicalPixelRatio ?? 1;\n        this.canvas = canvas;\n        this.root = document.createElement('div');\n        this.setRootPosition();\n        document.body.appendChild(this.root);\n        //listen for changes on canvas\n        const mutationObserver = new MutationObserver(this.setRootPosition.bind(this));\n        mutationObserver.observe(canvas, {\n            attributes: true,\n            childList: false,\n            subtree: false,\n        });\n        // Create a ResizeObserver to watch for changes in the element's size\n        const resizeObserver = new ResizeObserver(this.setRootPosition.bind(this));\n        resizeObserver.observe(canvas);\n        //listen for changes on window\n        window.addEventListener('resize', this.setRootPosition.bind(this));\n        console.warn('Inspector is enabled, this will impact performance');\n    }\n    setRootPosition() {\n        if (this.root === null || this.canvas === null) {\n            return;\n        }\n        // get the world position of the canvas object, so we can match the inspector to it\n        const rect = this.canvas.getBoundingClientRect();\n        const top = document.documentElement.scrollTop + rect.top;\n        const left = document.documentElement.scrollLeft + rect.left;\n        this.root.id = 'root';\n        this.root.style.left = `${left}px`;\n        this.root.style.top = `${top}px`;\n        this.root.style.width = `${this.width}px`;\n        this.root.style.height = `${this.height}px`;\n        this.root.style.position = 'absolute';\n        this.root.style.transformOrigin = '0 0 0';\n        this.root.style.transform = `scale(${this.scaleX}, ${this.scaleY})`;\n        this.root.style.overflow = 'hidden';\n        this.root.style.zIndex = '65534';\n    }\n    createDiv(id, properties) {\n        const div = document.createElement('div');\n        div.style.position = 'absolute';\n        div.id = id.toString();\n        // set initial properties\n        for (const key in properties) {\n            this.updateNodeProperty(div, \n            // really typescript? really?\n            key, properties[key]);\n        }\n        return div;\n    }\n    createNode(node) {\n        const div = this.createDiv(node.id, node.props);\n        // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access, @typescript-eslint/no-explicit-any\n        div.node = node;\n        // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access, @typescript-eslint/no-explicit-any\n        node.div = div;\n        return this.createProxy(node, div);\n    }\n    createTextNode(node) {\n        const div = this.createDiv(node.id, node.props);\n        // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access, @typescript-eslint/no-explicit-any\n        div.node = node;\n        // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access, @typescript-eslint/no-explicit-any\n        node.div = div;\n        return this.createProxy(node, div);\n    }\n    createProxy(node, div) {\n        return new Proxy(node, {\n            set: (target, property, value) => {\n                this.updateNodeProperty(div, property, value);\n                return Reflect.set(target, property, value);\n            },\n            get: (target, property, receiver) => {\n                if (property === 'destroy') {\n                    this.destroyNode(target.id);\n                }\n                if (property === 'animate') {\n                    return (props, settings) => {\n                        const anim = target.animate(props, settings);\n                        // Trap the animate start function so we can update the inspector accordingly\n                        return new Proxy(anim, {\n                            get: (target, property, receiver) => {\n                                if (property === 'start') {\n                                    this.animateNode(div, props, settings);\n                                }\n                                return Reflect.get(target, property, receiver);\n                            },\n                        });\n                    };\n                }\n                return Reflect.get(target, property, receiver);\n            },\n        });\n    }\n    destroyNode(id) {\n        const div = document.getElementById(id.toString());\n        div?.remove();\n    }\n    updateNodeProperty(div, property, \n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    value) {\n        if (this.root === null || value === undefined || value === null) {\n            return;\n        }\n        /**\n         * Special case for parent property\n         */\n        if (property === 'parent') {\n            const parentId = value.id;\n            // only way to detect if the parent is the root node\n            // if you are reading this and have a better way, please let me know\n            if (parentId === 1) {\n                this.root.appendChild(div);\n                return;\n            }\n            const parent = document.getElementById(parentId.toString());\n            parent?.appendChild(div);\n            return;\n        }\n        // special case for text\n        if (property === 'text') {\n            div.innerHTML = String(value);\n            // hide text because we can't render SDF fonts\n            // it would look weird and obstruct the WebGL rendering\n            div.style.visibility = 'hidden';\n            return;\n        }\n        // special case for images\n        // we're not setting any CSS properties to avoid images getting loaded twice\n        // as the renderer will handle the loading of the image. Setting it to `data-src`\n        if (property === 'src' && value) {\n            div.setAttribute(`data-src`, String(value));\n            return;\n        }\n        // special case for color gradients (normal colors are handled by the stylePropertyMap)\n        // FIXME the renderer seems to return the same number for all colors\n        // if (gradientColorPropertyMap.includes(property as string)) {\n        //   const color = convertColorToRgba(value as number);\n        //   div.setAttribute(`data-${property}`, color);\n        //   return;\n        // }\n        // CSS mappable attribute\n        if (stylePropertyMap[property]) {\n            const mappedStyleResponse = stylePropertyMap[property]?.(value);\n            if (mappedStyleResponse === null) {\n                return;\n            }\n            if (typeof mappedStyleResponse === 'string') {\n                div.style.setProperty(mappedStyleResponse, String(value));\n                return;\n            }\n            if (typeof mappedStyleResponse === 'object') {\n                div.style.setProperty(mappedStyleResponse.prop, mappedStyleResponse.value);\n            }\n            return;\n        }\n        // DOM properties\n        if (domPropertyMap[property]) {\n            const domProperty = domPropertyMap[property];\n            if (!domProperty) {\n                return;\n            }\n            div.setAttribute(String(domProperty), String(value));\n            return;\n        }\n        // custom data properties\n        if (property === 'data') {\n            for (const key in value) {\n                // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n                const keyValue = value[key];\n                if (keyValue === undefined) {\n                    div.removeAttribute(`data-${key}`);\n                }\n                else {\n                    div.setAttribute(`data-${key}`, String(keyValue));\n                }\n            }\n            return;\n        }\n    }\n    // simple animation handler\n    animateNode(div, props, settings) {\n        const { duration = 1000, delay = 0,\n        // easing = 'linear',\n        // repeat = 0,\n        // loop = false,\n        // stopMethod = false,\n         } = settings;\n        const { x, y, width, height, alpha = 1, rotation = 0, scale = 1, color, } = props;\n        // ignoring loops and repeats for now, as that might be a bit too much for the inspector\n        function animate() {\n            setTimeout(() => {\n                div.style.top = `${y}px`;\n                div.style.left = `${x}px`;\n                div.style.width = `${width}px`;\n                div.style.height = `${height}px`;\n                div.style.opacity = `${alpha}`;\n                div.style.rotate = `${rotation}rad`;\n                div.style.scale = `${scale}`;\n                div.style.color = convertColorToRgba(color);\n            }, duration);\n        }\n        setTimeout(animate, delay);\n    }\n}\n//# sourceMappingURL=Inspector.js.map","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2021 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MAIN //\n\nvar main = ( typeof Object.defineProperty === 'function' ) ? Object.defineProperty : null;\n\n\n// EXPORTS //\n\nmodule.exports = main;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2021 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nvar defineProperty = require( './define_property.js' );\n\n\n// MAIN //\n\n/**\n* Tests for `Object.defineProperty` support.\n*\n* @private\n* @returns {boolean} boolean indicating if an environment has `Object.defineProperty` support\n*\n* @example\n* var bool = hasDefinePropertySupport();\n* // returns <boolean>\n*/\nfunction hasDefinePropertySupport() {\n\t// Test basic support...\n\ttry {\n\t\tdefineProperty( {}, 'x', {} );\n\t\treturn true;\n\t} catch ( err ) { // eslint-disable-line no-unused-vars\n\t\treturn false;\n\t}\n}\n\n\n// EXPORTS //\n\nmodule.exports = hasDefinePropertySupport;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MAIN //\n\n/**\n* Defines (or modifies) an object property.\n*\n* ## Notes\n*\n* -   Property descriptors come in two flavors: **data descriptors** and **accessor descriptors**. A data descriptor is a property that has a value, which may or may not be writable. An accessor descriptor is a property described by a getter-setter function pair. A descriptor must be one of these two flavors and cannot be both.\n*\n* @name defineProperty\n* @type {Function}\n* @param {Object} obj - object on which to define the property\n* @param {(string|symbol)} prop - property name\n* @param {Object} descriptor - property descriptor\n* @param {boolean} [descriptor.configurable=false] - boolean indicating if property descriptor can be changed and if the property can be deleted from the provided object\n* @param {boolean} [descriptor.enumerable=false] - boolean indicating if the property shows up when enumerating object properties\n* @param {boolean} [descriptor.writable=false] - boolean indicating if the value associated with the property can be changed with an assignment operator\n* @param {*} [descriptor.value] - property value\n* @param {(Function|void)} [descriptor.get=undefined] - function which serves as a getter for the property, or, if no getter, undefined. When the property is accessed, a getter function is called without arguments and with the `this` context set to the object through which the property is accessed (which may not be the object on which the property is defined due to inheritance). The return value will be used as the property value.\n* @param {(Function|void)} [descriptor.set=undefined] - function which serves as a setter for the property, or, if no setter, undefined. When assigning a property value, a setter function is called with one argument (the value being assigned to the property) and with the `this` context set to the object through which the property is assigned.\n* @throws {TypeError} first argument must be an object\n* @throws {TypeError} third argument must be an object\n* @throws {Error} property descriptor cannot have both a value and a setter and/or getter\n* @returns {Object} object with added property\n*\n* @example\n* var obj = {};\n*\n* defineProperty( obj, 'foo', {\n*     'value': 'bar'\n* });\n*\n* var str = obj.foo;\n* // returns 'bar'\n*/\nvar defineProperty = Object.defineProperty;\n\n\n// EXPORTS //\n\nmodule.exports = defineProperty;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2022 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n/**\n* Tests if a value is a number primitive.\n*\n* @param {*} value - value to test\n* @returns {boolean} boolean indicating if a value is a number primitive\n*\n* @example\n* var bool = isNumber( 3.14 );\n* // returns true\n*\n* @example\n* var bool = isNumber( NaN );\n* // returns true\n*\n* @example\n* var bool = isNumber( new Number( 3.14 ) );\n* // returns false\n*/\nfunction isNumber( value ) {\n\treturn ( typeof value === 'number' );  // NOTE: we inline the `isNumber.isPrimitive` function from `@stdlib/assert/is-number` in order to avoid circular dependencies.\n}\n\n\n// EXPORTS //\n\nmodule.exports = isNumber;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2022 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// FUNCTIONS //\n\n/**\n* Tests if a string starts with a minus sign (`-`).\n*\n* @private\n* @param {string} str - input string\n* @returns {boolean} boolean indicating if a string starts with a minus sign (`-`)\n*/\nfunction startsWithMinus( str ) {\n\treturn str[ 0 ] === '-';\n}\n\n/**\n* Returns a string of `n` zeros.\n*\n* @private\n* @param {number} n - number of zeros\n* @returns {string} string of zeros\n*/\nfunction zeros( n ) {\n\tvar out = '';\n\tvar i;\n\tfor ( i = 0; i < n; i++ ) {\n\t\tout += '0';\n\t}\n\treturn out;\n}\n\n\n// MAIN //\n\n/**\n* Pads a token with zeros to the specified width.\n*\n* @private\n* @param {string} str - token argument\n* @param {number} width - token width\n* @param {boolean} [right=false] - boolean indicating whether to pad to the right\n* @returns {string} padded token argument\n*/\nfunction zeroPad( str, width, right ) {\n\tvar negative = false;\n\tvar pad = width - str.length;\n\tif ( pad < 0 ) {\n\t\treturn str;\n\t}\n\tif ( startsWithMinus( str ) ) {\n\t\tnegative = true;\n\t\tstr = str.substr( 1 );\n\t}\n\tstr = ( right ) ?\n\t\tstr + zeros( pad ) :\n\t\tzeros( pad ) + str;\n\tif ( negative ) {\n\t\tstr = '-' + str;\n\t}\n\treturn str;\n}\n\n\n// EXPORTS //\n\nmodule.exports = zeroPad;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2022 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nvar isNumber = require( './is_number.js' );\nvar zeroPad = require( './zero_pad.js' );\n\n// NOTE: for the following, we explicitly avoid using stdlib packages in this particular package in order to avoid circular dependencies.\nvar lowercase = String.prototype.toLowerCase;\nvar uppercase = String.prototype.toUpperCase;\n\n\n// MAIN //\n\n/**\n* Formats a token object argument as an integer.\n*\n* @private\n* @param {Object} token - token object\n* @throws {Error} must provide a valid integer\n* @returns {string} formatted token argument\n*/\nfunction formatInteger( token ) {\n\tvar base;\n\tvar out;\n\tvar i;\n\n\tswitch ( token.specifier ) {\n\tcase 'b':\n\t\t// Case: %b (binary)\n\t\tbase = 2;\n\t\tbreak;\n\tcase 'o':\n\t\t// Case: %o (octal)\n\t\tbase = 8;\n\t\tbreak;\n\tcase 'x':\n\tcase 'X':\n\t\t// Case: %x, %X (hexadecimal)\n\t\tbase = 16;\n\t\tbreak;\n\tcase 'd':\n\tcase 'i':\n\tcase 'u':\n\tdefault:\n\t\t// Case: %d, %i, %u (decimal)\n\t\tbase = 10;\n\t\tbreak;\n\t}\n\tout = token.arg;\n\ti = parseInt( out, 10 );\n\tif ( !isFinite( i ) ) { // NOTE: We use the global `isFinite` function here instead of `@stdlib/math/base/assert/is-finite` in order to avoid circular dependencies.\n\t\tif ( !isNumber( out ) ) {\n\t\t\tthrow new Error( 'invalid integer. Value: ' + out );\n\t\t}\n\t\ti = 0;\n\t}\n\tif ( i < 0 && ( token.specifier === 'u' || base !== 10 ) ) {\n\t\ti = 0xffffffff + i + 1;\n\t}\n\tif ( i < 0 ) {\n\t\tout = ( -i ).toString( base );\n\t\tif ( token.precision ) {\n\t\t\tout = zeroPad( out, token.precision, token.padRight );\n\t\t}\n\t\tout = '-' + out;\n\t} else {\n\t\tout = i.toString( base );\n\t\tif ( !i && !token.precision ) {\n\t\t\tout = '';\n\t\t} else if ( token.precision ) {\n\t\t\tout = zeroPad( out, token.precision, token.padRight );\n\t\t}\n\t\tif ( token.sign ) {\n\t\t\tout = token.sign + out;\n\t\t}\n\t}\n\tif ( base === 16 ) {\n\t\tif ( token.alternate ) {\n\t\t\tout = '0x' + out;\n\t\t}\n\t\tout = ( token.specifier === uppercase.call( token.specifier ) ) ?\n\t\t\tuppercase.call( out ) :\n\t\t\tlowercase.call( out );\n\t}\n\tif ( base === 8 ) {\n\t\tif ( token.alternate && out.charAt( 0 ) !== '0' ) {\n\t\t\tout = '0' + out;\n\t\t}\n\t}\n\treturn out;\n}\n\n\n// EXPORTS //\n\nmodule.exports = formatInteger;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2022 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n/**\n* Tests if a value is a string primitive.\n*\n* @param {*} value - value to test\n* @returns {boolean} boolean indicating if a value is a string primitive\n*\n* @example\n* var bool = isString( 'beep' );\n* // returns true\n*\n* @example\n* var bool = isString( new String( 'beep' ) );\n* // returns false\n*/\nfunction isString( value ) {\n\treturn ( typeof value === 'string' ); // NOTE: we inline the `isString.isPrimitive` function from `@stdlib/assert/is-string` in order to avoid circular dependencies.\n}\n\n\n// EXPORTS //\n\nmodule.exports = isString;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2022 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nvar isNumber = require( './is_number.js' );\n\n// NOTE: for the following, we explicitly avoid using stdlib packages in this particular package in order to avoid circular dependencies.\nvar abs = Math.abs; // eslint-disable-line stdlib/no-builtin-math\nvar lowercase = String.prototype.toLowerCase;\nvar uppercase = String.prototype.toUpperCase;\nvar replace = String.prototype.replace;\n\n\n// VARIABLES //\n\nvar RE_EXP_POS_DIGITS = /e\\+(\\d)$/;\nvar RE_EXP_NEG_DIGITS = /e-(\\d)$/;\nvar RE_ONLY_DIGITS = /^(\\d+)$/;\nvar RE_DIGITS_BEFORE_EXP = /^(\\d+)e/;\nvar RE_TRAILING_PERIOD_ZERO = /\\.0$/;\nvar RE_PERIOD_ZERO_EXP = /\\.0*e/;\nvar RE_ZERO_BEFORE_EXP = /(\\..*[^0])0*e/;\n\n\n// MAIN //\n\n/**\n* Formats a token object argument as a floating-point number.\n*\n* @private\n* @param {Object} token - token object\n* @throws {Error} must provide a valid floating-point number\n* @returns {string} formatted token argument\n*/\nfunction formatDouble( token ) {\n\tvar digits;\n\tvar out;\n\tvar f = parseFloat( token.arg );\n\tif ( !isFinite( f ) ) { // NOTE: We use the global `isFinite` function here instead of `@stdlib/math/base/assert/is-finite` in order to avoid circular dependencies.\n\t\tif ( !isNumber( token.arg ) ) {\n\t\t\tthrow new Error( 'invalid floating-point number. Value: ' + out );\n\t\t}\n\t\t// Case: NaN, Infinity, or -Infinity\n\t\tf = token.arg;\n\t}\n\tswitch ( token.specifier ) {\n\tcase 'e':\n\tcase 'E':\n\t\tout = f.toExponential( token.precision );\n\t\tbreak;\n\tcase 'f':\n\tcase 'F':\n\t\tout = f.toFixed( token.precision );\n\t\tbreak;\n\tcase 'g':\n\tcase 'G':\n\t\tif ( abs( f ) < 0.0001 ) {\n\t\t\tdigits = token.precision;\n\t\t\tif ( digits > 0 ) {\n\t\t\t\tdigits -= 1;\n\t\t\t}\n\t\t\tout = f.toExponential( digits );\n\t\t} else {\n\t\t\tout = f.toPrecision( token.precision );\n\t\t}\n\t\tif ( !token.alternate ) {\n\t\t\tout = replace.call( out, RE_ZERO_BEFORE_EXP, '$1e' );\n\t\t\tout = replace.call( out, RE_PERIOD_ZERO_EXP, 'e');\n\t\t\tout = replace.call( out, RE_TRAILING_PERIOD_ZERO, '' );\n\t\t}\n\t\tbreak;\n\tdefault:\n\t\tthrow new Error( 'invalid double notation. Value: ' + token.specifier );\n\t}\n\tout = replace.call( out, RE_EXP_POS_DIGITS, 'e+0$1' );\n\tout = replace.call( out, RE_EXP_NEG_DIGITS, 'e-0$1' );\n\tif ( token.alternate ) {\n\t\tout = replace.call( out, RE_ONLY_DIGITS, '$1.' );\n\t\tout = replace.call( out, RE_DIGITS_BEFORE_EXP, '$1.e' );\n\t}\n\tif ( f >= 0 && token.sign ) {\n\t\tout = token.sign + out;\n\t}\n\tout = ( token.specifier === uppercase.call( token.specifier ) ) ?\n\t\tuppercase.call( out ) :\n\t\tlowercase.call( out );\n\treturn out;\n}\n\n\n// EXPORTS //\n\nmodule.exports = formatDouble;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2022 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// FUNCTIONS //\n\n/**\n* Returns `n` spaces.\n*\n* @private\n* @param {number} n - number of spaces\n* @returns {string} string of spaces\n*/\nfunction spaces( n ) {\n\tvar out = '';\n\tvar i;\n\tfor ( i = 0; i < n; i++ ) {\n\t\tout += ' ';\n\t}\n\treturn out;\n}\n\n\n// MAIN //\n\n/**\n* Pads a token with spaces to the specified width.\n*\n* @private\n* @param {string} str - token argument\n* @param {number} width - token width\n* @param {boolean} [right=false] - boolean indicating whether to pad to the right\n* @returns {string} padded token argument\n*/\nfunction spacePad( str, width, right ) {\n\tvar pad = width - str.length;\n\tif ( pad < 0 ) {\n\t\treturn str;\n\t}\n\tstr = ( right ) ?\n\t\tstr + spaces( pad ) :\n\t\tspaces( pad ) + str;\n\treturn str;\n}\n\n\n// EXPORTS //\n\nmodule.exports = spacePad;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2022 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nvar formatInteger = require( './format_integer.js' );\nvar isString = require( './is_string.js' );\nvar formatDouble = require( './format_double.js' );\nvar spacePad = require( './space_pad.js' );\nvar zeroPad = require( './zero_pad.js' );\n\n\n// VARIABLES //\n\nvar fromCharCode = String.fromCharCode;\nvar isnan = isNaN; // NOTE: We use the global `isNaN` function here instead of `@stdlib/math/base/assert/is-nan` to avoid circular dependencies.\nvar isArray = Array.isArray; // NOTE: We use the global `Array.isArray` function here instead of `@stdlib/assert/is-array` to avoid circular dependencies.\n\n\n// FUNCTIONS //\n\n/**\n* Initializes token object with properties of supplied format identifier object or default values if not present.\n*\n* @private\n* @param {Object} token - format identifier object\n* @returns {Object} token object\n*/\nfunction initialize( token ) {\n\tvar out = {};\n\tout.specifier = token.specifier;\n\tout.precision = ( token.precision === void 0 ) ? 1 : token.precision;\n\tout.width = token.width;\n\tout.flags = token.flags || '';\n\tout.mapping = token.mapping;\n\treturn out;\n}\n\n\n// MAIN //\n\n/**\n* Generates string from a token array by interpolating values.\n*\n* @param {Array} tokens - string parts and format identifier objects\n* @param {Array} ...args - variable values\n* @throws {TypeError} first argument must be an array\n* @throws {Error} invalid flags\n* @returns {string} formatted string\n*\n* @example\n* var tokens = [ 'beep ', { 'specifier': 's' } ];\n* var out = formatInterpolate( tokens, 'boop' );\n* // returns 'beep boop'\n*/\nfunction formatInterpolate( tokens ) {\n\tvar hasPeriod;\n\tvar flags;\n\tvar token;\n\tvar flag;\n\tvar num;\n\tvar out;\n\tvar pos;\n\tvar i;\n\tvar j;\n\n\tif ( !isArray( tokens ) ) {\n\t\tthrow new TypeError( 'invalid argument. First argument must be an array. Value: `' + tokens + '`.' );\n\t}\n\tout = '';\n\tpos = 1;\n\tfor ( i = 0; i < tokens.length; i++ ) {\n\t\ttoken = tokens[ i ];\n\t\tif ( isString( token ) ) {\n\t\t\tout += token;\n\t\t} else {\n\t\t\thasPeriod = token.precision !== void 0;\n\t\t\ttoken = initialize( token );\n\t\t\tif ( !token.specifier ) {\n\t\t\t\tthrow new TypeError( 'invalid argument. Token is missing `specifier` property. Index: `'+ i +'`. Value: `' + token + '`.' );\n\t\t\t}\n\t\t\tif ( token.mapping ) {\n\t\t\t\tpos = token.mapping;\n\t\t\t}\n\t\t\tflags = token.flags;\n\t\t\tfor ( j = 0; j < flags.length; j++ ) {\n\t\t\t\tflag = flags.charAt( j );\n\t\t\t\tswitch ( flag ) {\n\t\t\t\tcase ' ':\n\t\t\t\t\ttoken.sign = ' ';\n\t\t\t\t\tbreak;\n\t\t\t\tcase '+':\n\t\t\t\t\ttoken.sign = '+';\n\t\t\t\t\tbreak;\n\t\t\t\tcase '-':\n\t\t\t\t\ttoken.padRight = true;\n\t\t\t\t\ttoken.padZeros = false;\n\t\t\t\t\tbreak;\n\t\t\t\tcase '0':\n\t\t\t\t\ttoken.padZeros = flags.indexOf( '-' ) < 0; // NOTE: We use built-in `Array.prototype.indexOf` here instead of `@stdlib/assert/contains` in order to avoid circular dependencies.\n\t\t\t\t\tbreak;\n\t\t\t\tcase '#':\n\t\t\t\t\ttoken.alternate = true;\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tthrow new Error( 'invalid flag: ' + flag );\n\t\t\t\t}\n\t\t\t}\n\t\t\tif ( token.width === '*' ) {\n\t\t\t\ttoken.width = parseInt( arguments[ pos ], 10 );\n\t\t\t\tpos += 1;\n\t\t\t\tif ( isnan( token.width ) ) {\n\t\t\t\t\tthrow new TypeError( 'the argument for * width at position ' + pos + ' is not a number. Value: `' + token.width + '`.' );\n\t\t\t\t}\n\t\t\t\tif ( token.width < 0 ) {\n\t\t\t\t\ttoken.padRight = true;\n\t\t\t\t\ttoken.width = -token.width;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif ( hasPeriod ) {\n\t\t\t\tif ( token.precision === '*' ) {\n\t\t\t\t\ttoken.precision = parseInt( arguments[ pos ], 10 );\n\t\t\t\t\tpos += 1;\n\t\t\t\t\tif ( isnan( token.precision ) ) {\n\t\t\t\t\t\tthrow new TypeError( 'the argument for * precision at position ' + pos + ' is not a number. Value: `' + token.precision + '`.' );\n\t\t\t\t\t}\n\t\t\t\t\tif ( token.precision < 0 ) {\n\t\t\t\t\t\ttoken.precision = 1;\n\t\t\t\t\t\thasPeriod = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\ttoken.arg = arguments[ pos ];\n\t\t\tswitch ( token.specifier ) {\n\t\t\tcase 'b':\n\t\t\tcase 'o':\n\t\t\tcase 'x':\n\t\t\tcase 'X':\n\t\t\tcase 'd':\n\t\t\tcase 'i':\n\t\t\tcase 'u':\n\t\t\t\t// Case: %b (binary), %o (octal), %x, %X (hexadecimal), %d, %i (decimal), %u (unsigned decimal)\n\t\t\t\tif ( hasPeriod ) {\n\t\t\t\t\ttoken.padZeros = false;\n\t\t\t\t}\n\t\t\t\ttoken.arg = formatInteger( token );\n\t\t\t\tbreak;\n\t\t\tcase 's':\n\t\t\t\t// Case: %s (string)\n\t\t\t\ttoken.maxWidth = ( hasPeriod ) ? token.precision : -1;\n\t\t\t\tbreak;\n\t\t\tcase 'c':\n\t\t\t\t// Case: %c (character)\n\t\t\t\tif ( !isnan( token.arg ) ) {\n\t\t\t\t\tnum = parseInt( token.arg, 10 );\n\t\t\t\t\tif ( num < 0 || num > 127 ) {\n\t\t\t\t\t\tthrow new Error( 'invalid character code. Value: ' + token.arg );\n\t\t\t\t\t}\n\t\t\t\t\ttoken.arg = ( isnan( num ) ) ?\n\t\t\t\t\t\tString( token.arg ) :\n\t\t\t\t\t\tfromCharCode( num );\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 'e':\n\t\t\tcase 'E':\n\t\t\tcase 'f':\n\t\t\tcase 'F':\n\t\t\tcase 'g':\n\t\t\tcase 'G':\n\t\t\t\t// Case: %e, %E (scientific notation), %f, %F (decimal floating point), %g, %G (uses the shorter of %e/E or %f/F)\n\t\t\t\tif ( !hasPeriod ) {\n\t\t\t\t\ttoken.precision = 6;\n\t\t\t\t}\n\t\t\t\ttoken.arg = formatDouble( token );\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tthrow new Error( 'invalid specifier: ' + token.specifier );\n\t\t\t}\n\t\t\t// Fit argument into field width...\n\t\t\tif ( token.maxWidth >= 0 && token.arg.length > token.maxWidth ) {\n\t\t\t\ttoken.arg = token.arg.substring( 0, token.maxWidth );\n\t\t\t}\n\t\t\tif ( token.padZeros ) {\n\t\t\t\ttoken.arg = zeroPad( token.arg, token.width || token.precision, token.padRight ); // eslint-disable-line max-len\n\t\t\t} else if ( token.width ) {\n\t\t\t\ttoken.arg = spacePad( token.arg, token.width, token.padRight );\n\t\t\t}\n\t\t\tout += token.arg || '';\n\t\t\tpos += 1;\n\t\t}\n\t}\n\treturn out;\n}\n\n\n// EXPORTS //\n\nmodule.exports = formatInterpolate;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2022 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n/**\n* Generate string from a token array by interpolating values.\n*\n* @module @stdlib/string-base-format-interpolate\n*\n* @example\n* var formatInterpolate = require( '@stdlib/string-base-format-interpolate' );\n*\n* var tokens = ['Hello ', { 'specifier': 's' }, '!' ];\n* var out = formatInterpolate( tokens, 'World' );\n* // returns 'Hello World!'\n*/\n\n// MODULES //\n\nvar main = require( './main.js' );\n\n\n// EXPORTS //\n\nmodule.exports = main;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2022 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// VARIABLES //\n\nvar RE = /%(?:([1-9]\\d*)\\$)?([0 +\\-#]*)(\\*|\\d+)?(?:(\\.)(\\*|\\d+)?)?[hlL]?([%A-Za-z])/g;\n\n\n// FUNCTIONS //\n\n/**\n* Parses a delimiter.\n*\n* @private\n* @param {Array} match - regular expression match\n* @returns {Object} delimiter token object\n*/\nfunction parse( match ) {\n\tvar token = {\n\t\t'mapping': ( match[ 1 ] ) ? parseInt( match[ 1 ], 10 ) : void 0,\n\t\t'flags': match[ 2 ],\n\t\t'width': match[ 3 ],\n\t\t'precision': match[ 5 ],\n\t\t'specifier': match[ 6 ]\n\t};\n\tif ( match[ 4 ] === '.' && match[ 5 ] === void 0 ) {\n\t\ttoken.precision = '1';\n\t}\n\treturn token;\n}\n\n\n// MAIN //\n\n/**\n* Tokenizes a string into an array of string parts and format identifier objects.\n*\n* @param {string} str - input string\n* @returns {Array} tokens\n*\n* @example\n* var tokens = formatTokenize( 'Hello %s!' );\n* // returns [ 'Hello ', {...}, '!' ]\n*/\nfunction formatTokenize( str ) {\n\tvar content;\n\tvar tokens;\n\tvar match;\n\tvar prev;\n\n\ttokens = [];\n\tprev = 0;\n\tmatch = RE.exec( str );\n\twhile ( match ) {\n\t\tcontent = str.slice( prev, RE.lastIndex - match[ 0 ].length );\n\t\tif ( content.length ) {\n\t\t\ttokens.push( content );\n\t\t}\n\t\ttokens.push( parse( match ) );\n\t\tprev = RE.lastIndex;\n\t\tmatch = RE.exec( str );\n\t}\n\tcontent = str.slice( prev );\n\tif ( content.length ) {\n\t\ttokens.push( content );\n\t}\n\treturn tokens;\n}\n\n\n// EXPORTS //\n\nmodule.exports = formatTokenize;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2022 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n/**\n* Tokenize a string into an array of string parts and format identifier objects.\n*\n* @module @stdlib/string-base-format-tokenize\n*\n* @example\n* var formatTokenize = require( '@stdlib/string-base-format-tokenize' );\n*\n* var str = 'Hello %s!';\n* var tokens = formatTokenize( str );\n* // returns [ 'Hello ', {...}, '!' ]\n*/\n\n// MODULES //\n\nvar main = require( './main.js' );\n\n\n// EXPORTS //\n\nmodule.exports = main;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2022 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n/**\n* Tests if a value is a string primitive.\n*\n* @param {*} value - value to test\n* @returns {boolean} boolean indicating if a value is a string primitive\n*\n* @example\n* var bool = isString( 'beep' );\n* // returns true\n*\n* @example\n* var bool = isString( new String( 'beep' ) );\n* // returns false\n*/\nfunction isString( value ) {\n\treturn ( typeof value === 'string' ); // NOTE: we inline the `isString.isPrimitive` function from `@stdlib/assert/is-string` in order to avoid circular dependencies.\n}\n\n\n// EXPORTS //\n\nmodule.exports = isString;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2022 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nvar interpolate = require( '@stdlib/string-base-format-interpolate' );\nvar tokenize = require( '@stdlib/string-base-format-tokenize' );\nvar isString = require( './is_string.js' );\n\n\n// MAIN //\n\n/**\n* Inserts supplied variable values into a format string.\n*\n* @param {string} str - input string\n* @param {Array} ...args - variable values\n* @throws {TypeError} first argument must be a string\n* @throws {Error} invalid flags\n* @returns {string} formatted string\n*\n* @example\n* var str = format( 'Hello %s!', 'world' );\n* // returns 'Hello world!'\n*\n* @example\n* var str = format( 'Pi: ~%.2f', 3.141592653589793 );\n* // returns 'Pi: ~3.14'\n*/\nfunction format( str ) {\n\tvar args;\n\tvar i;\n\n\tif ( !isString( str ) ) {\n\t\tthrow new TypeError( format( 'invalid argument. First argument must be a string. Value: `%s`.', str ) );\n\t}\n\targs = [ tokenize( str ) ];\n\tfor ( i = 1; i < arguments.length; i++ ) {\n\t\targs.push( arguments[ i ] );\n\t}\n\treturn interpolate.apply( null, args );\n}\n\n\n// EXPORTS //\n\nmodule.exports = format;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2022 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n/**\n* Insert supplied variable values into a format string.\n*\n* @module @stdlib/string-format\n*\n* @example\n* var format = require( '@stdlib/string-format' );\n*\n* var out = format( '%s %s!', 'Hello', 'World' );\n* // returns 'Hello World!'\n*\n* out = format( 'Pi: ~%.2f', 3.141592653589793 );\n* // returns 'Pi: ~3.14'\n*/\n\n// MODULES //\n\nvar main = require( './main.js' );\n\n\n// EXPORTS //\n\nmodule.exports = main;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n/* eslint-disable no-underscore-dangle, no-proto */\n\n'use strict';\n\n// MODULES //\n\nvar format = require( '@stdlib/string-format' );\n\n\n// VARIABLES //\n\nvar objectProtoype = Object.prototype;\nvar toStr = objectProtoype.toString;\nvar defineGetter = objectProtoype.__defineGetter__;\nvar defineSetter = objectProtoype.__defineSetter__;\nvar lookupGetter = objectProtoype.__lookupGetter__;\nvar lookupSetter = objectProtoype.__lookupSetter__;\n\n\n// MAIN //\n\n/**\n* Defines (or modifies) an object property.\n*\n* ## Notes\n*\n* -   Property descriptors come in two flavors: **data descriptors** and **accessor descriptors**. A data descriptor is a property that has a value, which may or may not be writable. An accessor descriptor is a property described by a getter-setter function pair. A descriptor must be one of these two flavors and cannot be both.\n*\n* @param {Object} obj - object on which to define the property\n* @param {string} prop - property name\n* @param {Object} descriptor - property descriptor\n* @param {boolean} [descriptor.configurable=false] - boolean indicating if property descriptor can be changed and if the property can be deleted from the provided object\n* @param {boolean} [descriptor.enumerable=false] - boolean indicating if the property shows up when enumerating object properties\n* @param {boolean} [descriptor.writable=false] - boolean indicating if the value associated with the property can be changed with an assignment operator\n* @param {*} [descriptor.value] - property value\n* @param {(Function|void)} [descriptor.get=undefined] - function which serves as a getter for the property, or, if no getter, undefined. When the property is accessed, a getter function is called without arguments and with the `this` context set to the object through which the property is accessed (which may not be the object on which the property is defined due to inheritance). The return value will be used as the property value.\n* @param {(Function|void)} [descriptor.set=undefined] - function which serves as a setter for the property, or, if no setter, undefined. When assigning a property value, a setter function is called with one argument (the value being assigned to the property) and with the `this` context set to the object through which the property is assigned.\n* @throws {TypeError} first argument must be an object\n* @throws {TypeError} third argument must be an object\n* @throws {Error} property descriptor cannot have both a value and a setter and/or getter\n* @returns {Object} object with added property\n*\n* @example\n* var obj = {};\n*\n* defineProperty( obj, 'foo', {\n*     'value': 'bar'\n* });\n*\n* var str = obj.foo;\n* // returns 'bar'\n*/\nfunction defineProperty( obj, prop, descriptor ) {\n\tvar prototype;\n\tvar hasValue;\n\tvar hasGet;\n\tvar hasSet;\n\n\tif ( typeof obj !== 'object' || obj === null || toStr.call( obj ) === '[object Array]' ) {\n\t\tthrow new TypeError( format( 'invalid argument. First argument must be an object. Value: `%s`.', obj ) );\n\t}\n\tif ( typeof descriptor !== 'object' || descriptor === null || toStr.call( descriptor ) === '[object Array]' ) {\n\t\tthrow new TypeError( format( 'invalid argument. Property descriptor must be an object. Value: `%s`.', descriptor ) );\n\t}\n\thasValue = ( 'value' in descriptor );\n\tif ( hasValue ) {\n\t\tif (\n\t\t\tlookupGetter.call( obj, prop ) ||\n\t\t\tlookupSetter.call( obj, prop )\n\t\t) {\n\t\t\t// Override `__proto__` to avoid touching inherited accessors:\n\t\t\tprototype = obj.__proto__;\n\t\t\tobj.__proto__ = objectProtoype;\n\n\t\t\t// Delete property as existing getters/setters prevent assigning value to specified property:\n\t\t\tdelete obj[ prop ];\n\t\t\tobj[ prop ] = descriptor.value;\n\n\t\t\t// Restore original prototype:\n\t\t\tobj.__proto__ = prototype;\n\t\t} else {\n\t\t\tobj[ prop ] = descriptor.value;\n\t\t}\n\t}\n\thasGet = ( 'get' in descriptor );\n\thasSet = ( 'set' in descriptor );\n\n\tif ( hasValue && ( hasGet || hasSet ) ) {\n\t\tthrow new Error( 'invalid argument. Cannot specify one or more accessors and a value or writable attribute in the property descriptor.' );\n\t}\n\n\tif ( hasGet && defineGetter ) {\n\t\tdefineGetter.call( obj, prop, descriptor.get );\n\t}\n\tif ( hasSet && defineSetter ) {\n\t\tdefineSetter.call( obj, prop, descriptor.set );\n\t}\n\treturn obj;\n}\n\n\n// EXPORTS //\n\nmodule.exports = defineProperty;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n/**\n* Define (or modify) an object property.\n*\n* @module @stdlib/utils-define-property\n*\n* @example\n* var defineProperty = require( '@stdlib/utils-define-property' );\n*\n* var obj = {};\n* defineProperty( obj, 'foo', {\n*     'value': 'bar',\n*     'writable': false,\n*     'configurable': false,\n*     'enumerable': false\n* });\n* obj.foo = 'boop'; // => throws\n*/\n\n// MODULES //\n\nvar hasDefinePropertySupport = require( './has_define_property_support.js' );\nvar builtin = require( './builtin.js' );\nvar polyfill = require( './polyfill.js' );\n\n\n// MAIN //\n\nvar defineProperty;\nif ( hasDefinePropertySupport() ) {\n\tdefineProperty = builtin;\n} else {\n\tdefineProperty = polyfill;\n}\n\n\n// EXPORTS //\n\nmodule.exports = defineProperty;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nvar defineProperty = require( '@stdlib/utils-define-property' );\n\n\n// MAIN //\n\n/**\n* Defines a non-enumerable read-only property.\n*\n* @param {Object} obj - object on which to define the property\n* @param {(string|symbol)} prop - property name\n* @param {*} value - value to set\n*\n* @example\n* var obj = {};\n*\n* setNonEnumerableReadOnly( obj, 'foo', 'bar' );\n*\n* try {\n*     obj.foo = 'boop';\n* } catch ( err ) {\n*     console.error( err.message );\n* }\n*/\nfunction setNonEnumerableReadOnly( obj, prop, value ) {\n\tdefineProperty( obj, prop, {\n\t\t'configurable': false,\n\t\t'enumerable': false,\n\t\t'writable': false,\n\t\t'value': value\n\t});\n}\n\n\n// EXPORTS //\n\nmodule.exports = setNonEnumerableReadOnly;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n/**\n* Define a non-enumerable read-only property.\n*\n* @module @stdlib/utils-define-nonenumerable-read-only-property\n*\n* @example\n* var setNonEnumerableReadOnly = require( '@stdlib/utils-define-nonenumerable-read-only-property' );\n*\n* var obj = {};\n*\n* setNonEnumerableReadOnly( obj, 'foo', 'bar' );\n*\n* try {\n*     obj.foo = 'boop';\n* } catch ( err ) {\n*     console.error( err.message );\n* }\n*/\n\n// MODULES //\n\nvar main = require( './main.js' );\n\n\n// EXPORTS //\n\nmodule.exports = main;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nvar defineProperty = require( '@stdlib/utils-define-property' );\n\n\n// MAIN //\n\n/**\n* Defines a non-enumerable read-only accessor.\n*\n* @param {Object} obj - object on which to define the property\n* @param {(string|symbol)} prop - property name\n* @param {Function} getter - accessor\n*\n* @example\n* function getter() {\n*     return 'bar';\n* }\n*\n* var obj = {};\n*\n* setNonEnumerableReadOnlyAccessor( obj, 'foo', getter );\n*\n* try {\n*     obj.foo = 'boop';\n* } catch ( err ) {\n*     console.error( err.message );\n* }\n*/\nfunction setNonEnumerableReadOnlyAccessor( obj, prop, getter ) { // eslint-disable-line id-length\n\tdefineProperty( obj, prop, {\n\t\t'configurable': false,\n\t\t'enumerable': false,\n\t\t'get': getter\n\t});\n}\n\n\n// EXPORTS //\n\nmodule.exports = setNonEnumerableReadOnlyAccessor;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n/**\n* Define a non-enumerable read-only accessor.\n*\n* @module @stdlib/utils-define-nonenumerable-read-only-accessor\n*\n* @example\n* var setNonEnumerableReadOnlyAccessor = require( '@stdlib/utils-define-nonenumerable-read-only-accessor' );\n*\n* function getter() {\n*     return 'bar';\n* }\n*\n* var obj = {};\n*\n* setNonEnumerableReadOnlyAccessor( obj, 'foo', getter );\n*\n* try {\n*     obj.foo = 'boop';\n* } catch ( err ) {\n*     console.error( err.message );\n* }\n*/\n\n// MODULES //\n\nvar main = require( './main.js' );\n\n\n// EXPORTS //\n\nmodule.exports = main;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nvar defineProperty = require( '@stdlib/utils-define-property' );\n\n\n// MAIN //\n\n/**\n* Defines a non-enumerable read-write accessor.\n*\n* @param {Object} obj - object on which to define the property\n* @param {(string|symbol)} prop - property name\n* @param {Function} getter - get accessor\n* @param {Function} setter - set accessor\n*\n* @example\n* function getter() {\n*     return name + ' foo';\n* }\n*\n* function setter( v ) {\n*     name = v;\n* }\n*\n* var name = 'bar';\n* var obj = {};\n*\n* setNonEnumerableReadWriteAccessor( obj, 'foo', getter, setter );\n*\n* var v = obj.foo;\n* // returns 'bar foo'\n*\n* obj.foo = 'beep';\n*\n* v = obj.foo;\n* // returns 'beep foo'\n*/\nfunction setNonEnumerableReadWriteAccessor( obj, prop, getter, setter ) { // eslint-disable-line id-length\n\tdefineProperty( obj, prop, {\n\t\t'configurable': false,\n\t\t'enumerable': false,\n\t\t'get': getter,\n\t\t'set': setter\n\t});\n}\n\n\n// EXPORTS //\n\nmodule.exports = setNonEnumerableReadWriteAccessor;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n/**\n* Define a non-enumerable read-write accessor.\n*\n* @module @stdlib/utils-define-nonenumerable-read-write-accessor\n*\n* @example\n* var setNonEnumerableReadWriteAccessor = require( '@stdlib/utils-define-nonenumerable-read-write-accessor' );\n*\n* function getter() {\n*     return name + ' foo';\n* }\n*\n* function setter( v ) {\n*     name = v;\n* }\n*\n* var name = 'bar';\n* var obj = {};\n*\n* setNonEnumerableReadWriteAccessor( obj, 'foo', getter, setter );\n*\n* var v = obj.foo;\n* // returns 'bar foo'\n*\n* obj.foo = 'beep';\n*\n* v = obj.foo;\n* // returns 'beep foo'\n*/\n\n// MODULES //\n\nvar main = require( './main.js' );\n\n\n// EXPORTS //\n\nmodule.exports = main;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// FUNCTIONS //\n\nvar has = Object.prototype.hasOwnProperty;\n\n\n// MAIN //\n\n/**\n* Tests if an object has a specified property.\n*\n* @param {*} value - value to test\n* @param {*} property - property to test\n* @returns {boolean} boolean indicating if an object has a specified property\n*\n* @example\n* var beep = {\n*     'boop': true\n* };\n*\n* var bool = hasOwnProp( beep, 'boop' );\n* // returns true\n*\n* @example\n* var beep = {\n*     'boop': true\n* };\n*\n* var bool = hasOwnProp( beep, 'bap' );\n* // returns false\n*/\nfunction hasOwnProp( value, property ) {\n\tif (\n\t\tvalue === void 0 ||\n\t\tvalue === null\n\t) {\n\t\treturn false;\n\t}\n\treturn has.call( value, property );\n}\n\n\n// EXPORTS //\n\nmodule.exports = hasOwnProp;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n/**\n* Test whether an object has a specified property.\n*\n* @module @stdlib/assert-has-own-property\n*\n* @example\n* var hasOwnProp = require( '@stdlib/assert-has-own-property' );\n*\n* var beep = {\n*     'boop': true\n* };\n*\n* var bool = hasOwnProp( beep, 'boop' );\n* // returns true\n*\n* bool = hasOwnProp( beep, 'bop' );\n* // returns false\n*/\n\n// MODULES //\n\nvar main = require( './main.js' );\n\n\n// EXPORTS //\n\nmodule.exports = main;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MAIN //\n\n/**\n* Tests for native `Symbol` support.\n*\n* @returns {boolean} boolean indicating if an environment has `Symbol` support\n*\n* @example\n* var bool = hasSymbolSupport();\n* // returns <boolean>\n*/\nfunction hasSymbolSupport() {\n\treturn (\n\t\ttypeof Symbol === 'function' &&\n\t\ttypeof Symbol( 'foo' ) === 'symbol'\n\t);\n}\n\n\n// EXPORTS //\n\nmodule.exports = hasSymbolSupport;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n/**\n* Test for native `Symbol` support.\n*\n* @module @stdlib/assert-has-symbol-support\n*\n* @example\n* var hasSymbolSupport = require( '@stdlib/assert-has-symbol-support' );\n*\n* var bool = hasSymbolSupport();\n* // returns <boolean>\n*/\n\n// MODULES //\n\nvar main = require( './main.js' );\n\n\n// EXPORTS //\n\nmodule.exports = main;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nvar hasSymbols = require( '@stdlib/assert-has-symbol-support' );\n\n\n// VARIABLES //\n\nvar FLG = hasSymbols();\n\n\n// MAIN //\n\n/**\n* Tests for native `toStringTag` support.\n*\n* @returns {boolean} boolean indicating if an environment has `toStringTag` support\n*\n* @example\n* var bool = hasToStringTagSupport();\n* // returns <boolean>\n*/\nfunction hasToStringTagSupport() {\n\treturn ( FLG && typeof Symbol.toStringTag === 'symbol' );\n}\n\n\n// EXPORTS //\n\nmodule.exports = hasToStringTagSupport;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n/**\n* Test for native `toStringTag` support.\n*\n* @module @stdlib/assert-has-tostringtag-support\n*\n* @example\n* var hasToStringTagSupport = require( '@stdlib/assert-has-tostringtag-support' );\n*\n* var bool = hasToStringTagSupport();\n* // returns <boolean>\n*/\n\n// MODULES //\n\nvar main = require( './main.js' );\n\n\n// EXPORTS //\n\nmodule.exports = main;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MAIN //\n\nvar toStr = Object.prototype.toString;\n\n\n// EXPORTS //\n\nmodule.exports = toStr;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nvar toStr = require( './tostring.js' );\n\n\n// MAIN //\n\n/**\n* Returns a string value indicating a specification defined classification (via the internal property `[[Class]]`) of an object.\n*\n* @param {*} v - input value\n* @returns {string} string value indicating a specification defined classification of the input value\n*\n* @example\n* var str = nativeClass( 'a' );\n* // returns '[object String]'\n*\n* @example\n* var str = nativeClass( 5 );\n* // returns '[object Number]'\n*\n* @example\n* function Beep() {\n*     return this;\n* }\n* var str = nativeClass( new Beep() );\n* // returns '[object Object]'\n*/\nfunction nativeClass( v ) {\n\treturn toStr.call( v );\n}\n\n\n// EXPORTS //\n\nmodule.exports = nativeClass;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MAIN //\n\nvar Sym = ( typeof Symbol === 'function' ) ? Symbol : void 0; // eslint-disable-line stdlib/require-globals\n\n\n// EXPORTS //\n\nmodule.exports = Sym;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n/**\n* Symbol factory.\n*\n* @module @stdlib/symbol-ctor\n*\n* @example\n* var Symbol = require( '@stdlib/symbol-ctor' );\n*\n* var s = Symbol( 'beep' );\n* // returns <symbol>\n*/\n\n// MODULES //\n\nvar main = require( './main.js' );\n\n\n// EXPORTS //\n\nmodule.exports = main;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nvar Symbol = require( '@stdlib/symbol-ctor' );\n\n\n// MAIN //\n\nvar toStrTag = ( typeof Symbol === 'function' ) ? Symbol.toStringTag : '';\n\n\n// EXPORTS //\n\nmodule.exports = toStrTag;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nvar hasOwnProp = require( '@stdlib/assert-has-own-property' );\nvar toStringTag = require( './tostringtag.js' );\nvar toStr = require( './tostring.js' );\n\n\n// MAIN //\n\n/**\n* Returns a string value indicating a specification defined classification of an object in environments supporting `Symbol.toStringTag`.\n*\n* @param {*} v - input value\n* @returns {string} string value indicating a specification defined classification of the input value\n*\n* @example\n* var str = nativeClass( 'a' );\n* // returns '[object String]'\n*\n* @example\n* var str = nativeClass( 5 );\n* // returns '[object Number]'\n*\n* @example\n* function Beep() {\n*     return this;\n* }\n* var str = nativeClass( new Beep() );\n* // returns '[object Object]'\n*/\nfunction nativeClass( v ) {\n\tvar isOwn;\n\tvar tag;\n\tvar out;\n\n\tif ( v === null || v === void 0 ) {\n\t\treturn toStr.call( v );\n\t}\n\ttag = v[ toStringTag ];\n\tisOwn = hasOwnProp( v, toStringTag );\n\n\t// Attempt to override the `toStringTag` property. For built-ins having a `Symbol.toStringTag` property (e.g., `JSON`, `Math`, etc), the `Symbol.toStringTag` property is read-only (e.g., , so we need to wrap in a `try/catch`.\n\ttry {\n\t\tv[ toStringTag ] = void 0;\n\t} catch ( err ) { // eslint-disable-line no-unused-vars\n\t\treturn toStr.call( v );\n\t}\n\tout = toStr.call( v );\n\n\tif ( isOwn ) {\n\t\tv[ toStringTag ] = tag;\n\t} else {\n\t\tdelete v[ toStringTag ];\n\t}\n\treturn out;\n}\n\n\n// EXPORTS //\n\nmodule.exports = nativeClass;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n/**\n* Return a string value indicating a specification defined classification of an object.\n*\n* @module @stdlib/utils-native-class\n*\n* @example\n* var nativeClass = require( '@stdlib/utils-native-class' );\n*\n* var str = nativeClass( 'a' );\n* // returns '[object String]'\n*\n* str = nativeClass( 5 );\n* // returns '[object Number]'\n*\n* function Beep() {\n*     return this;\n* }\n* str = nativeClass( new Beep() );\n* // returns '[object Object]'\n*/\n\n// MODULES //\n\nvar hasToStringTag = require( '@stdlib/assert-has-tostringtag-support' );\nvar builtin = require( './main.js' );\nvar polyfill = require( './polyfill.js' );\n\n\n// MAIN //\n\nvar main;\nif ( hasToStringTag() ) {\n\tmain = polyfill;\n} else {\n\tmain = builtin;\n}\n\n\n// EXPORTS //\n\nmodule.exports = main;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nvar nativeClass = require( '@stdlib/utils-native-class' );\n\n\n// VARIABLES //\n\nvar f;\n\n\n// FUNCTIONS //\n\n/**\n* Tests if a value is an array.\n*\n* @param {*} value - value to test\n* @returns {boolean} boolean indicating whether value is an array\n*\n* @example\n* var bool = isArray( [] );\n* // returns true\n*\n* @example\n* var bool = isArray( {} );\n* // returns false\n*/\nfunction isArray( value ) {\n\treturn ( nativeClass( value ) === '[object Array]' );\n}\n\n\n// MAIN //\n\nif ( Array.isArray ) {\n\tf = Array.isArray;\n} else {\n\tf = isArray;\n}\n\n\n// EXPORTS //\n\nmodule.exports = f;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n/**\n* Test if a value is an array.\n*\n* @module @stdlib/assert-is-array\n*\n* @example\n* var isArray = require( '@stdlib/assert-is-array' );\n*\n* var bool = isArray( [] );\n* // returns true\n*\n* bool = isArray( {} );\n* // returns false\n*/\n\n// MODULES //\n\nvar main = require( './main.js' );\n\n\n// EXPORTS //\n\nmodule.exports = main;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nvar isArray = require( '@stdlib/assert-is-array' );\n\n\n// MAIN //\n\n/**\n* Tests if a value is an object; e.g., `{}`.\n*\n* @param {*} value - value to test\n* @returns {boolean} boolean indicating whether value is an object\n*\n* @example\n* var bool = isObject( {} );\n* // returns true\n*\n* @example\n* var bool = isObject( null );\n* // returns false\n*/\nfunction isObject( value ) {\n\treturn (\n\t\ttypeof value === 'object' &&\n\t\tvalue !== null &&\n\t\t!isArray( value )\n\t);\n}\n\n\n// EXPORTS //\n\nmodule.exports = isObject;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n/**\n* Test if a value is an object.\n*\n* @module @stdlib/assert-is-object\n*\n* @example\n* var isObject = require( '@stdlib/assert-is-object' );\n*\n* var bool = isObject( {} );\n* // returns true\n*\n* bool = isObject( true );\n* // returns false\n*/\n\n// MODULES //\n\nvar main = require( './main.js' );\n\n\n// EXPORTS //\n\nmodule.exports = main;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\nvar RE = /./;\n\n\n// EXPORTS //\n\nmodule.exports = RE;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n/**\n* Tests if a value is a boolean primitive.\n*\n* @param {*} value - value to test\n* @returns {boolean} boolean indicating if a value is a boolean primitive\n*\n* @example\n* var bool = isBoolean( true );\n* // returns true\n*\n* @example\n* var bool = isBoolean( false );\n* // returns true\n*\n* @example\n* var Boolean = require( '@stdlib/boolean-ctor' );\n*\n* var bool = isBoolean( new Boolean( true ) );\n* // returns false\n*/\nfunction isBoolean( value ) {\n\treturn ( typeof value === 'boolean' );\n}\n\n\n// EXPORTS //\n\nmodule.exports = isBoolean;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2022 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MAIN //\n\n/**\n* Returns a boolean.\n*\n* @name Boolean\n* @constructor\n* @type {Function}\n* @param {*} value - input value\n* @returns {(boolean|Boolean)} boolean\n*\n* @example\n* var b = Boolean( null );\n* // returns false\n*\n* b = Boolean( [] );\n* // returns true\n*\n* b = Boolean( {} );\n* // returns true\n*\n* @example\n* var b = new Boolean( false );\n* // returns <Boolean>\n*/\nvar Bool = Boolean; // eslint-disable-line stdlib/require-globals\n\n\n// EXPORTS //\n\nmodule.exports = Bool;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2022 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n/**\n* Boolean constructor.\n*\n* @module @stdlib/boolean-ctor\n*\n* @example\n* var Boolean = require( '@stdlib/boolean-ctor' );\n*\n* var b = Boolean( null );\n* // returns false\n*\n* b = Boolean( [] );\n* // returns true\n*\n* b = Boolean( {} );\n* // returns true\n*\n* @example\n* var Boolean = require( '@stdlib/boolean-ctor' );\n*\n* var b = new Boolean( false );\n* // returns <Boolean>\n*/\n\n// MODULES //\n\nvar main = require( './main.js' );\n\n\n// EXPORTS //\n\nmodule.exports = main;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// eslint-disable-next-line stdlib/no-redeclare\nvar toString = Boolean.prototype.toString; // non-generic\n\n\n// EXPORTS //\n\nmodule.exports = toString;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nvar toString = require( './tostring.js' ); // eslint-disable-line stdlib/no-redeclare\n\n\n// MAIN //\n\n/**\n* Attempts to serialize a value to a string.\n*\n* @private\n* @param {*} value - value to test\n* @returns {boolean} boolean indicating if a value can be serialized\n*/\nfunction test( value ) {\n\ttry {\n\t\ttoString.call( value );\n\t\treturn true;\n\t} catch ( err ) { // eslint-disable-line no-unused-vars\n\t\treturn false;\n\t}\n}\n\n\n// EXPORTS //\n\nmodule.exports = test;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nvar hasToStringTag = require( '@stdlib/assert-has-tostringtag-support' );\nvar nativeClass = require( '@stdlib/utils-native-class' );\nvar Boolean = require( '@stdlib/boolean-ctor' );\nvar test = require( './try2serialize.js' );\n\n\n// VARIABLES //\n\nvar FLG = hasToStringTag();\n\n\n// MAIN //\n\n/**\n* Tests if a value is a boolean object.\n*\n* @param {*} value - value to test\n* @returns {boolean} boolean indicating if a value is a boolean object\n*\n* @example\n* var bool = isBoolean( true );\n* // returns false\n*\n* @example\n* var Boolean = require( '@stdlib/boolean-ctor' );\n*\n* var bool = isBoolean( new Boolean( false ) );\n* // returns true\n*/\nfunction isBoolean( value ) {\n\tif ( typeof value === 'object' ) {\n\t\tif ( value instanceof Boolean ) {\n\t\t\treturn true;\n\t\t}\n\t\tif ( FLG ) {\n\t\t\treturn test( value );\n\t\t}\n\t\treturn ( nativeClass( value ) === '[object Boolean]' );\n\t}\n\treturn false;\n}\n\n\n// EXPORTS //\n\nmodule.exports = isBoolean;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nvar isPrimitive = require( './primitive.js' );\nvar isObject = require( './object.js' );\n\n\n// MAIN //\n\n/**\n* Tests if a value is a boolean.\n*\n* @param {*} value - value to test\n* @returns {boolean} boolean indicating whether value is a boolean\n*\n* @example\n* var bool = isBoolean( false );\n* // returns true\n*\n* @example\n* var bool = isBoolean( true );\n* // returns true\n*\n* @example\n* var Boolean = require( '@stdlib/boolean-ctor' );\n*\n* var bool = isBoolean( new Boolean( false ) );\n* // returns true\n*\n* @example\n* var Boolean = require( '@stdlib/boolean-ctor' );\n*\n* var bool = isBoolean( new Boolean( true ) );\n* // returns true\n*/\nfunction isBoolean( value ) {\n\treturn ( isPrimitive( value ) || isObject( value ) );\n}\n\n\n// EXPORTS //\n\nmodule.exports = isBoolean;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n/**\n* Test if a value is a boolean.\n*\n* @module @stdlib/assert-is-boolean\n*\n* @example\n* var Boolean = require( '@stdlib/boolean-ctor' );\n* var isBoolean = require( '@stdlib/assert-is-boolean' );\n*\n* var bool = isBoolean( false );\n* // returns true\n*\n* bool = isBoolean( new Boolean( false ) );\n* // returns true\n*\n* @example\n* var Boolean = require( '@stdlib/boolean-ctor' );\n* var isBoolean = require( '@stdlib/assert-is-boolean' ).isPrimitive;\n*\n* var bool = isBoolean( false );\n* // returns true\n*\n* bool = isBoolean( new Boolean( true ) );\n* // returns false\n*\n* @example\n* var Boolean = require( '@stdlib/boolean-ctor' );\n* var isBoolean = require( '@stdlib/assert-is-boolean' ).isObject;\n*\n* var bool = isBoolean( true );\n* // returns false\n*\n* bool = isBoolean( new Boolean( false ) );\n* // returns true\n*/\n\n// MODULES //\n\nvar setReadOnly = require( '@stdlib/utils-define-nonenumerable-read-only-property' );\nvar main = require( './main.js' );\nvar isPrimitive = require( './primitive.js' );\nvar isObject = require( './object.js' );\n\n\n// MAIN //\n\nsetReadOnly( main, 'isPrimitive', isPrimitive );\nsetReadOnly( main, 'isObject', isObject );\n\n\n// EXPORTS //\n\nmodule.exports = main;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MAIN //\n\n/**\n* Returns the global object using code generation.\n*\n* @private\n* @returns {Object} global object\n*/\nfunction getGlobal() {\n\treturn new Function( 'return this;' )(); // eslint-disable-line no-new-func, stdlib/require-globals\n}\n\n\n// EXPORTS //\n\nmodule.exports = getGlobal;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MAIN //\n\nvar obj = ( typeof self === 'object' ) ? self : null;\n\n\n// EXPORTS //\n\nmodule.exports = obj;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MAIN //\n\nvar obj = ( typeof window === 'object' ) ? window : null;\n\n\n// EXPORTS //\n\nmodule.exports = obj;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2022 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MAIN //\n\nvar obj = ( typeof globalThis === 'object' ) ? globalThis : null; // eslint-disable-line no-undef\n\n\n// EXPORTS //\n\nmodule.exports = obj;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2022 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nvar isBoolean = require( '@stdlib/assert-is-boolean' ).isPrimitive;\nvar format = require( '@stdlib/string-format' );\nvar getThis = require( './codegen.js' );\nvar Self = require( './self.js' );\nvar Win = require( './window.js' );\nvar GlobalThis = require( './global_this.js' );\n\n\n// MAIN //\n\n/**\n* Returns the global object.\n*\n* ## Notes\n*\n* -   Using code generation is the **most** reliable way to resolve the global object; however, doing so is likely to violate content security policies (CSPs) in, e.g., Chrome Apps and elsewhere.\n*\n* @private\n* @param {boolean} [codegen=false] - boolean indicating whether to use code generation to resolve the global object\n* @throws {TypeError} must provide a boolean\n* @throws {Error} unable to resolve global object\n* @returns {Object} global object\n*\n* @example\n* var g = getGlobal();\n* // returns {...}\n*/\nfunction getGlobal( codegen ) {\n\tif ( arguments.length ) {\n\t\tif ( !isBoolean( codegen ) ) {\n\t\t\tthrow new TypeError( format( 'invalid argument. Must provide a boolean. Value: `%s`.', codegen ) );\n\t\t}\n\t\tif ( codegen ) {\n\t\t\treturn getThis();\n\t\t}\n\t\t// Fall through...\n\t}\n\t// Case: 2020 revision of ECMAScript standard\n\tif ( GlobalThis ) {\n\t\treturn GlobalThis;\n\t}\n\t// Case: browsers and web workers\n\tif ( Self ) {\n\t\treturn Self;\n\t}\n\t// Case: browsers\n\tif ( Win ) {\n\t\treturn Win;\n\t}\n\t// Case: unknown\n\tthrow new Error( 'unexpected error. Unable to resolve global object.' );\n}\n\n\n// EXPORTS //\n\nmodule.exports = getGlobal;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nvar getGlobal = require( '@stdlib/utils-global' );\n\n\n// MAIN //\n\nvar root = getGlobal();\nvar nodeList = root.document && root.document.childNodes;\n\n\n// EXPORTS //\n\nmodule.exports = nodeList;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\nvar typedarray = Int8Array; // eslint-disable-line stdlib/require-globals\n\n\n// EXPORTS //\n\nmodule.exports = typedarray;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nvar RE = require( './fixtures/re.js' );\nvar nodeList = require( './fixtures/nodelist.js' );\nvar typedarray = require( './fixtures/typedarray.js' );\n\n\n// MAIN //\n\n/**\n* Checks whether a polyfill is needed when using the `typeof` operator.\n*\n* @private\n* @returns {boolean} boolean indicating whether a polyfill is needed\n*/\nfunction check() {\n\tif (\n\t\t// Chrome 1-12 returns 'function' for regular expression instances (see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/typeof):\n\t\ttypeof RE === 'function' ||\n\n\t\t// Safari 8 returns 'object' for typed array and weak map constructors (underscore #1929):\n\t\ttypeof typedarray === 'object' ||\n\n\t\t// PhantomJS 1.9 returns 'function' for `NodeList` instances (underscore #2236):\n\t\ttypeof nodeList === 'function'\n\t) {\n\t\treturn true;\n\t}\n\treturn false;\n}\n\n\n// EXPORTS //\n\nmodule.exports = check;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2021 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MAIN //\n\n/**\n* Returns a regular expression to capture everything that is not a space immediately after the `function` keyword and before the first left parenthesis.\n*\n* @returns {RegExp} regular expression\n*\n* @example\n* var RE_FUNCTION_NAME = reFunctionName();\n*\n* function fname( fcn ) {\n*     return RE_FUNCTION_NAME.exec( fcn.toString() )[ 1 ];\n* }\n*\n* var fn = fname( Math.sqrt );\n* // returns 'sqrt'\n*\n* fn = fname( Int8Array );\n* // returns 'Int8Array'\n*\n* fn = fname( Object.prototype.toString );\n* // returns 'toString'\n*\n* fn = fname( function(){} );\n* // returns ''\n*/\nfunction reFunctionName() {\n\treturn /^\\s*function\\s*([^(]*)/i;\n}\n\n\n// EXPORTS //\n\nmodule.exports = reFunctionName;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nvar reFunctionName = require( './main.js' );\n\n\n// MAIN //\n\n/**\n* Captures everything that is not a space immediately after the `function` keyword and before the first left parenthesis.\n*\n* Regular expression: `/^\\s*function\\s*([^(]*)/i`\n*\n* -   `/^\\s*`\n*     -   Match zero or more spaces at beginning\n*\n* -   `function`\n*     -   Match the word `function`\n*\n* -   `\\s*`\n*     -   Match zero or more spaces after the word `function`\n*\n* -   `()`\n*     -   Capture\n*\n* -   `[^(]*`\n*     -   Match anything except a left parenthesis `(` zero or more times\n*\n* -   `/i`\n*     -   ignore case\n*\n* @constant\n* @type {RegExp}\n* @default /^\\s*function\\s*([^(]*)/i\n*/\nvar RE_FUNCTION_NAME = reFunctionName();\n\n\n// EXPORTS //\n\nmodule.exports = RE_FUNCTION_NAME;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2021 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n/**\n* Regular expression to capture everything that is not a space immediately after the `function` keyword and before the first left parenthesis.\n*\n* @module @stdlib/regexp-function-name\n*\n* @example\n* var reFunctionName = require( '@stdlib/regexp-function-name' );\n* var RE_FUNCTION_NAME = reFunctionName();\n*\n* function fname( fcn ) {\n*     return RE_FUNCTION_NAME.exec( fcn.toString() )[ 1 ];\n* }\n*\n* var fn = fname( Math.sqrt );\n* // returns 'sqrt'\n*\n* fn = fname( Int8Array );\n* // returns 'Int8Array'\n*\n* fn = fname( Object.prototype.toString );\n* // returns 'toString'\n*\n* fn = fname( function(){} );\n* // returns ''\n*/\n\n// MODULES //\n\nvar setReadOnly = require( '@stdlib/utils-define-nonenumerable-read-only-property' );\nvar main = require( './main.js' );\nvar REGEXP = require( './regexp.js' );\n\n\n// MAIN //\n\nsetReadOnly( main, 'REGEXP', REGEXP );\n\n\n// EXPORTS //\n\nmodule.exports = main;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nvar isArray = require( '@stdlib/assert-is-array' );\nvar format = require( '@stdlib/string-format' );\n\n\n// MAIN //\n\n/**\n* Returns a function which tests if every element in an array passes a test condition.\n*\n* @param {Function} predicate - function to apply\n* @throws {TypeError} must provide a function\n* @returns {Function} an array function\n*\n* @example\n* var isOdd = require( '@stdlib/assert-is-odd' );\n*\n* var arr1 = [ 1, 3, 5, 7 ];\n* var arr2 = [ 3, 5, 8 ];\n*\n* var validate = arrayfcn( isOdd );\n*\n* var bool = validate( arr1 );\n* // returns true\n*\n* bool = validate( arr2 );\n* // returns false\n*/\nfunction arrayfcn( predicate ) {\n\tif ( typeof predicate !== 'function' ) {\n\t\tthrow new TypeError( format( 'invalid argument. Must provide a function. Value: `%s`.', predicate ) );\n\t}\n\treturn every;\n\n\t/**\n\t* Tests if every element in an array passes a test condition.\n\t*\n\t* @private\n\t* @param {*} value - value to test\n\t* @returns {boolean} boolean indicating whether a value is an array for which all elements pass a test condition\n\t*/\n\tfunction every( value ) {\n\t\tvar len;\n\t\tvar i;\n\t\tif ( !isArray( value ) ) {\n\t\t\treturn false;\n\t\t}\n\t\tlen = value.length;\n\t\tif ( len === 0 ) {\n\t\t\treturn false;\n\t\t}\n\t\tfor ( i = 0; i < len; i++ ) {\n\t\t\tif ( predicate( value[ i ] ) === false ) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\treturn true;\n\t}\n}\n\n\n// EXPORTS //\n\nmodule.exports = arrayfcn;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n/**\n* Return a function which tests if every element in an array passes a test condition.\n*\n* @module @stdlib/assert-tools-array-function\n*\n* @example\n* var isOdd = require( '@stdlib/assert-is-odd' );\n* var arrayfcn = require( '@stdlib/assert-tools-array-function' );\n*\n* var arr1 = [ 1, 3, 5, 7 ];\n* var arr2 = [ 3, 5, 8 ];\n*\n* var validate = arrayfcn( isOdd );\n*\n* var bool = validate( arr1 );\n* // returns true\n*\n* bool = validate( arr2 );\n* // returns false\n*/\n\n// MODULES //\n\nvar main = require( './main.js' );\n\n\n// EXPORTS //\n\nmodule.exports = main;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n/**\n* Tests if a value is object-like.\n*\n* @param {*} value - value to test\n* @returns {boolean} boolean indicating whether a value is object-like\n*\n* @example\n* var bool = isObjectLike( {} );\n* // returns true\n*\n* @example\n* var bool = isObjectLike( [] );\n* // returns true\n*\n* @example\n* var bool = isObjectLike( null );\n* // returns false\n*/\nfunction isObjectLike( value ) {\n\treturn (\n\t\tvalue !== null &&\n\t\ttypeof value === 'object'\n\t);\n}\n\n\n// EXPORTS //\n\nmodule.exports = isObjectLike;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n/**\n* Test if a value is object-like.\n*\n* @module @stdlib/assert-is-object-like\n*\n* @example\n* var isObjectLike = require( '@stdlib/assert-is-object-like' );\n*\n* var bool = isObjectLike( {} );\n* // returns true\n*\n* bool = isObjectLike( [] );\n* // returns true\n*\n* bool = isObjectLike( null );\n* // returns false\n*\n* @example\n* var isObjectLike = require( '@stdlib/assert-is-object-like' ).isObjectLikeArray;\n*\n* var bool = isObjectLike( [ {}, [] ] );\n* // returns true\n*\n* bool = isObjectLike( [ {}, '3.0' ] );\n* // returns false\n*/\n\n// MODULES //\n\nvar setReadOnly = require( '@stdlib/utils-define-nonenumerable-read-only-property' );\nvar arrayfun = require( '@stdlib/assert-tools-array-function' );\nvar main = require( './main.js' );\n\n\n// VARIABLES //\n\nvar isObjectLikeArray = arrayfun( main );\n\n\n// MAIN //\n\nsetReadOnly( main, 'isObjectLikeArray', isObjectLikeArray );\n\n\n// EXPORTS //\n\nmodule.exports = main;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nvar isObjectLike = require( '@stdlib/assert-is-object-like' );\n\n\n// MAIN //\n\n/**\n* Tests if a value is a Buffer instance.\n*\n* @param {*} value - value to validate\n* @returns {boolean} boolean indicating if a value is a Buffer instance\n*\n* @example\n* var v = isBuffer( new Buffer( 'beep' ) );\n* // returns true\n*\n* @example\n* var v = isBuffer( new Buffer( [1,2,3,4] ) );\n* // returns true\n*\n* @example\n* var v = isBuffer( {} );\n* // returns false\n*\n* @example\n* var v = isBuffer( [] );\n* // returns false\n*/\nfunction isBuffer( value ) {\n\treturn (\n\t\tisObjectLike( value ) &&\n\t\t(\n\t\t\t// eslint-disable-next-line no-underscore-dangle\n\t\t\tvalue._isBuffer || // for envs missing Object.prototype.constructor (e.g., Safari 5-7)\n\t\t\t(\n\t\t\t\tvalue.constructor &&\n\n\t\t\t\t// WARNING: `typeof` is not a foolproof check, as certain envs consider RegExp and NodeList instances to be functions\n\t\t\t\ttypeof value.constructor.isBuffer === 'function' &&\n\t\t\t\tvalue.constructor.isBuffer( value )\n\t\t\t)\n\t\t)\n\t);\n}\n\n\n// EXPORTS //\n\nmodule.exports = isBuffer;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n/**\n* Test if a value is a Buffer instance.\n*\n* @module @stdlib/assert-is-buffer\n*\n* @example\n* var isBuffer = require( '@stdlib/assert-is-buffer' );\n*\n* var v = isBuffer( new Buffer( 'beep' ) );\n* // returns true\n*\n* v = isBuffer( {} );\n* // returns false\n*/\n\n// MODULES //\n\nvar main = require( './main.js' );\n\n\n// EXPORTS //\n\nmodule.exports = main;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nvar nativeClass = require( '@stdlib/utils-native-class' );\nvar RE = require( '@stdlib/regexp-function-name' ).REGEXP;\nvar isBuffer = require( '@stdlib/assert-is-buffer' );\n\n\n// MAIN //\n\n/**\n* Determines the name of a value's constructor.\n*\n* @param {*} v - input value\n* @returns {string} name of a value's constructor\n*\n* @example\n* var v = constructorName( 'a' );\n* // returns 'String'\n*\n* @example\n* var v = constructorName( 5 );\n* // returns 'Number'\n*\n* @example\n* var v = constructorName( null );\n* // returns 'Null'\n*\n* @example\n* var v = constructorName( undefined );\n* // returns 'Undefined'\n*\n* @example\n* var v = constructorName( function noop() {} );\n* // returns 'Function'\n*/\nfunction constructorName( v ) {\n\tvar match;\n\tvar name;\n\tvar ctor;\n\tname = nativeClass( v ).slice( 8, -1 );\n\tif ( (name === 'Object' || name === 'Error') && v.constructor ) {\n\t\tctor = v.constructor;\n\t\tif ( typeof ctor.name === 'string' ) {\n\t\t\treturn ctor.name;\n\t\t}\n\t\tmatch = RE.exec( ctor.toString() );\n\t\tif ( match ) {\n\t\t\treturn match[ 1 ];\n\t\t}\n\t}\n\tif ( isBuffer( v ) ) {\n\t\treturn 'Buffer';\n\t}\n\treturn name;\n}\n\n\n// EXPORTS //\n\nmodule.exports = constructorName;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n/**\n* Determine the name of a value's constructor.\n*\n* @module @stdlib/utils-constructor-name\n*\n* @example\n* var constructorName = require( '@stdlib/utils-constructor-name' );\n*\n* var v = constructorName( 'a' );\n* // returns 'String'\n*\n* v = constructorName( {} );\n* // returns 'Object'\n*\n* v = constructorName( true );\n* // returns 'Boolean'\n*/\n\n// MODULES //\n\nvar main = require( './main.js' );\n\n\n// EXPORTS //\n\nmodule.exports = main;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nvar ctorName = require( '@stdlib/utils-constructor-name' );\n\n\n// NOTES //\n\n/*\n* Built-in `typeof` operator behavior:\n*\n* ```text\n* typeof null => 'object'\n* typeof undefined => 'undefined'\n* typeof 'a' => 'string'\n* typeof 5 => 'number'\n* typeof NaN => 'number'\n* typeof true => 'boolean'\n* typeof false => 'boolean'\n* typeof {} => 'object'\n* typeof [] => 'object'\n* typeof function foo(){} => 'function'\n* typeof function* foo(){} => 'object'\n* typeof Symbol() => 'symbol'\n* ```\n*\n*/\n\n\n// MAIN //\n\n/**\n* Determines a value's type.\n*\n* @param {*} v - input value\n* @returns {string} string indicating the value's type\n*/\nfunction typeOf( v ) {\n\tvar type;\n\n\t// Address `typeof null` => `object` (see http://wiki.ecmascript.org/doku.php?id=harmony:typeof_null):\n\tif ( v === null ) {\n\t\treturn 'null';\n\t}\n\ttype = typeof v;\n\n\t// If the `typeof` operator returned something other than `object`, we are done. Otherwise, we need to check for an internal class name or search for a constructor.\n\tif ( type === 'object' ) {\n\t\treturn ctorName( v ).toLowerCase();\n\t}\n\treturn type;\n}\n\n\n// EXPORTS //\n\nmodule.exports = typeOf;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nvar ctorName = require( '@stdlib/utils-constructor-name' );\n\n\n// MAIN //\n\n/**\n* Determines a value's type.\n*\n* @param {*} v - input value\n* @returns {string} string indicating the value's type\n*/\nfunction typeOf( v ) {\n\treturn ctorName( v ).toLowerCase();\n}\n\n\n// EXPORTS //\n\nmodule.exports = typeOf;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n/**\n* Determine a value's type.\n*\n* @module @stdlib/utils-type-of\n*\n* @example\n* var typeOf = require( '@stdlib/utils-type-of' );\n*\n* var str = typeOf( 'a' );\n* // returns 'string'\n*\n* str = typeOf( 5 );\n* // returns 'number'\n*/\n\n// MODULES //\n\nvar usePolyfill = require( './check.js' );\nvar builtin = require( './main.js' );\nvar polyfill = require( './polyfill.js' );\n\n\n// MAIN //\n\nvar main = ( usePolyfill() ) ? polyfill : builtin;\n\n\n// EXPORTS //\n\nmodule.exports = main;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nvar typeOf = require( '@stdlib/utils-type-of' );\n\n\n// MAIN //\n\n/**\n* Tests if a value is a function.\n*\n* @param {*} value - value to test\n* @returns {boolean} boolean indicating whether value is a function\n*\n* @example\n* function beep() {\n*     return 'beep';\n* }\n*\n* var bool = isFunction( beep );\n* // returns true\n*/\nfunction isFunction( value ) {\n\t// Note: cannot use `typeof` directly, as various browser engines incorrectly return `'function'` when operating on non-function objects, such as regular expressions and NodeLists.\n\treturn ( typeOf( value ) === 'function' );\n}\n\n\n// EXPORTS //\n\nmodule.exports = isFunction;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n/**\n* Test if a value is a function.\n*\n* @module @stdlib/assert-is-function\n*\n* @example\n* var isFunction = require( '@stdlib/assert-is-function' );\n*\n* function beep() {\n*     return 'beep';\n* }\n*\n* var bool = isFunction( beep );\n* // returns true\n*/\n\n// MODULES //\n\nvar main = require( './main.js' );\n\n\n// EXPORTS //\n\nmodule.exports = main;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2022 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MAIN //\n\n/**\n* Returns an object.\n*\n* @name Object\n* @constructor\n* @type {Function}\n* @param {*} value - input value\n* @returns {Object} object\n*\n* @example\n* var o = new Object( null );\n* // returns {}\n*\n* @example\n* var o = new Object( 5.0 );\n* // returns <Number>\n*\n* @example\n* var o = new Object( 'beep' );\n* // returns <String>\n*\n* @example\n* var o1 = {};\n*\n* var o2 = new Object( o1 );\n* // returns {}\n*\n* var bool = ( o1 === o2 );\n* // returns true\n*/\nvar Obj = Object; // eslint-disable-line stdlib/require-globals\n\n\n// EXPORTS //\n\nmodule.exports = Obj;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2022 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n/**\n* Object constructor.\n*\n* @module @stdlib/object-ctor\n*\n* @example\n* var Object = require( '@stdlib/object-ctor' );\n*\n* var o = new Object( null );\n* // returns {}\n*\n* o = new Object( 5.0 );\n* // returns <Number>\n*\n* o = new Object( 'beep' );\n* // returns <String>\n*\n* var o1 = {};\n*\n* var o2 = new Object( o1 );\n* // returns {}\n*\n* var bool = ( o1 === o2 );\n* // returns true\n*/\n\n// MODULES //\n\nvar main = require( './main.js' );\n\n\n// EXPORTS //\n\nmodule.exports = main;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MAIN //\n\nvar getProto = Object.getPrototypeOf;\n\n\n// EXPORTS //\n\nmodule.exports = getProto;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n/**\n* Returns the value of the `__proto__` property.\n*\n* @private\n* @param {Object} obj - input object\n* @returns {*} value of `__proto__` property\n*/\nfunction getProto( obj ) {\n\t// eslint-disable-next-line no-proto\n\treturn obj.__proto__;\n}\n\n\n// EXPORTS //\n\nmodule.exports = getProto;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nvar nativeClass = require( '@stdlib/utils-native-class' );\nvar getProto = require( './proto.js' );\n\n\n// MAIN //\n\n/**\n* Returns the prototype of a provided object.\n*\n* @private\n* @param {Object} obj - input object\n* @returns {(Object|null)} prototype\n*/\nfunction getPrototypeOf( obj ) {\n\tvar proto = getProto( obj );\n\tif ( proto || proto === null ) {\n\t\treturn proto;\n\t}\n\tif ( nativeClass( obj.constructor ) === '[object Function]' ) {\n\t\t// May break if the constructor has been tampered with...\n\t\treturn obj.constructor.prototype;\n\t}\n\tif ( obj instanceof Object ) {\n\t\treturn Object.prototype;\n\t}\n\t// Return `null` for objects created via `Object.create( null )`. Also return `null` for cross-realm objects on browsers that lack `__proto__` support, such as IE < 11.\n\treturn null;\n}\n\n\n// EXPORTS //\n\nmodule.exports = getPrototypeOf;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nvar isFunction = require( '@stdlib/assert-is-function' );\nvar builtin = require( './native.js' );\nvar polyfill = require( './polyfill.js' );\n\n\n// MAIN //\n\nvar getProto;\nif ( isFunction( Object.getPrototypeOf ) ) {\n\tgetProto = builtin;\n} else {\n\tgetProto = polyfill;\n}\n\n\n// EXPORTS //\n\nmodule.exports = getProto;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nvar Object = require( '@stdlib/object-ctor' );\nvar getProto = require( './detect.js' );\n\n\n// MAIN //\n\n/**\n* Returns the prototype of a provided object.\n*\n* @param {*} value - input value\n* @returns {(Object|null)} prototype\n*\n* @example\n* var proto = getPrototypeOf( {} );\n* // returns {}\n*/\nfunction getPrototypeOf( value ) {\n\tif (\n\t\tvalue === null ||\n\t\tvalue === void 0\n\t) {\n\t\treturn null;\n\t}\n\t// In order to ensure consistent ES5/ES6 behavior, cast input value to an object (strings, numbers, booleans); ES5 `Object.getPrototypeOf` throws when provided primitives and ES6 `Object.getPrototypeOf` casts:\n\tvalue = Object( value );\n\n\treturn getProto( value );\n}\n\n\n// EXPORTS //\n\nmodule.exports = getPrototypeOf;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n/**\n* Return the prototype of a provided object.\n*\n* @module @stdlib/utils-get-prototype-of\n*\n* @example\n* var getPrototype = require( '@stdlib/utils-get-prototype-of' );\n*\n* var proto = getPrototype( {} );\n* // returns {}\n*/\n\n// MODULES //\n\nvar main = require( './main.js' );\n\n\n// EXPORTS //\n\nmodule.exports = main;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nvar isObject = require( '@stdlib/assert-is-object' );\nvar isFunction = require( '@stdlib/assert-is-function' );\nvar getPrototypeOf = require( '@stdlib/utils-get-prototype-of' );\nvar hasOwnProp = require( '@stdlib/assert-has-own-property' );\nvar nativeClass = require( '@stdlib/utils-native-class' );\n\n\n// VARIABLES //\n\nvar objectPrototype = Object.prototype;\n\n\n// FUNCTIONS //\n\n/**\n* Tests that an object only has own properties.\n*\n* @private\n* @param {Object} obj - value to test\n* @returns {boolean} boolean indicating if an object only has own properties\n*/\nfunction ownProps( obj ) {\n\tvar key;\n\n\t// NOTE: possibility of perf boost if key enumeration order is known (see http://stackoverflow.com/questions/18531624/isplainobject-thing).\n\tfor ( key in obj ) {\n\t\tif ( !hasOwnProp( obj, key ) ) {\n\t\t\treturn false;\n\t\t}\n\t}\n\treturn true;\n}\n\n\n// MAIN //\n\n/**\n* Tests if a value is a plain object.\n*\n* @param {*} value - value to test\n* @returns {boolean} boolean indicating whether value is a plain object\n*\n* @example\n* var bool = isPlainObject( {} );\n* // returns true\n*\n* @example\n* var bool = isPlainObject( null );\n* // returns false\n*/\nfunction isPlainObject( value ) {\n\tvar proto;\n\n\t// Screen for obvious non-objects...\n\tif ( !isObject( value ) ) {\n\t\treturn false;\n\t}\n\t// Objects with no prototype (e.g., `Object.create( null )`) are plain...\n\tproto = getPrototypeOf( value );\n\tif ( !proto ) {\n\t\treturn true;\n\t}\n\t// Objects having a prototype are plain if and only if they are constructed with a global `Object` function and the prototype points to the prototype of a plain object...\n\treturn (\n\t\t// Cannot have own `constructor` property:\n\t\t!hasOwnProp( value, 'constructor' ) &&\n\n\t\t// Prototype `constructor` property must be a function (see also https://bugs.jquery.com/ticket/9897 and http://stackoverflow.com/questions/18531624/isplainobject-thing):\n\t\thasOwnProp( proto, 'constructor' ) &&\n\t\tisFunction( proto.constructor ) &&\n\t\tnativeClass( proto.constructor ) === '[object Function]' &&\n\n\t\t// Test for object-specific method:\n\t\thasOwnProp( proto, 'isPrototypeOf' ) &&\n\t\tisFunction( proto.isPrototypeOf ) &&\n\n\t\t(\n\t\t\t// Test if the prototype matches the global `Object` prototype (same realm):\n\t\t\tproto === objectPrototype ||\n\n\t\t\t// Test that all properties are own properties (cross-realm; *most* likely a plain object):\n\t\t\townProps( value )\n\t\t)\n\t);\n}\n\n\n// EXPORTS //\n\nmodule.exports = isPlainObject;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n/**\n* Test if a value is a plain object.\n*\n* @module @stdlib/assert-is-plain-object\n*\n* @example\n* var isPlainObject = require( '@stdlib/assert-is-plain-object' );\n*\n* var bool = isPlainObject( {} );\n* // returns true\n*\n* bool = isPlainObject( null );\n* // returns false\n*/\n\n// MODULES //\n\nvar main = require( './main.js' );\n\n\n// EXPORTS //\n\nmodule.exports = main;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// TODO: implementation (?)\n\n/**\n* Rounds a double-precision floating-point number toward negative infinity.\n*\n* @param {number} x - input value\n* @returns {number} rounded value\n*\n* @example\n* var v = floor( -4.2 );\n* // returns -5.0\n*\n* @example\n* var v = floor( 9.99999 );\n* // returns 9.0\n*\n* @example\n* var v = floor( 0.0 );\n* // returns 0.0\n*\n* @example\n* var v = floor( NaN );\n* // returns NaN\n*/\nvar floor = Math.floor; // eslint-disable-line stdlib/no-builtin-math\n\n\n// EXPORTS //\n\nmodule.exports = floor;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n/**\n* Round a double-precision floating-point number toward negative infinity.\n*\n* @module @stdlib/math-base-special-floor\n*\n* @example\n* var floor = require( '@stdlib/math-base-special-floor' );\n*\n* var v = floor( -4.2 );\n* // returns -5.0\n*\n* v = floor( 9.99999 );\n* // returns 9.0\n*\n* v = floor( 0.0 );\n* // returns 0.0\n*\n* v = floor( NaN );\n* // returns NaN\n*/\n\n// MODULES //\n\nvar main = require( './main.js' );\n\n\n// EXPORTS //\n\nmodule.exports = main;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nvar floor = require( '@stdlib/math-base-special-floor' );\n\n\n// MAIN //\n\n/**\n* Tests if a finite double-precision floating-point number is an integer.\n*\n* @param {number} x - value to test\n* @returns {boolean} boolean indicating whether the value is an integer\n*\n* @example\n* var bool = isInteger( 1.0 );\n* // returns true\n*\n* @example\n* var bool = isInteger( 3.14 );\n* // returns false\n*/\nfunction isInteger( x ) {\n\treturn (floor(x) === x);\n}\n\n\n// EXPORTS //\n\nmodule.exports = isInteger;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n/**\n* Test if a finite double-precision floating-point number is an integer.\n*\n* @module @stdlib/math-base-assert-is-integer\n*\n* @example\n* var isInteger = require( '@stdlib/math-base-assert-is-integer' );\n*\n* var bool = isInteger( 1.0 );\n* // returns true\n*\n* bool = isInteger( 3.14 );\n* // returns false\n*/\n\n// MODULES //\n\nvar main = require( './main.js' );\n\n\n// EXPORTS //\n\nmodule.exports = main;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n/**\n* Maximum length of a typed array.\n*\n* @module @stdlib/constants-array-max-typed-array-length\n*\n* @example\n* var MAX_TYPED_ARRAY_LENGTH = require( '@stdlib/constants-array-max-typed-array-length' );\n* // returns 9007199254740991\n*/\n\n// MAIN //\n\n/**\n* Maximum length of a typed array.\n*\n* ```tex\n* 2^{53} - 1\n* ```\n*\n* @constant\n* @type {number}\n* @default 9007199254740991\n*/\nvar MAX_TYPED_ARRAY_LENGTH = 9007199254740991;\n\n\n// EXPORTS //\n\nmodule.exports = MAX_TYPED_ARRAY_LENGTH;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nvar isInteger = require( '@stdlib/math-base-assert-is-integer' );\nvar MAX_LENGTH = require( '@stdlib/constants-array-max-typed-array-length' );\n\n\n// MAIN //\n\n/**\n* Tests if a value is a collection.\n*\n* @param {*} value - value to test\n* @returns {boolean} boolean indicating whether a value is a collection\n*\n* @example\n* var bool = isCollection( [] );\n* // returns true\n*\n* @example\n* var bool = isCollection( {} );\n* // returns false\n*/\nfunction isCollection( value ) {\n\treturn (\n\t\ttypeof value === 'object' &&\n\t\tvalue !== null &&\n\t\ttypeof value.length === 'number' &&\n\t\tisInteger( value.length ) &&\n\t\tvalue.length >= 0 &&\n\t\tvalue.length <= MAX_LENGTH\n\t);\n}\n\n\n// EXPORTS //\n\nmodule.exports = isCollection;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n/**\n* Test if a value is a collection.\n*\n* @module @stdlib/assert-is-collection\n*\n* @example\n* var isCollection = require( '@stdlib/assert-is-collection' );\n*\n* var bool = isCollection( [] );\n* // returns true\n*\n* bool = isCollection( {} );\n* // returns false\n*/\n\n// MODULES //\n\nvar main = require( './main.js' );\n\n\n// EXPORTS //\n\nmodule.exports = main;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nvar nativeClass = require( '@stdlib/utils-native-class' );\n\n\n// VARIABLES //\n\nvar hasUint32Array = ( typeof Uint32Array === 'function' ); // eslint-disable-line stdlib/require-globals\n\n\n// MAIN //\n\n/**\n* Tests if a value is a Uint32Array.\n*\n* @param {*} value - value to test\n* @returns {boolean} boolean indicating whether value is a Uint32Array\n*\n* @example\n* var bool = isUint32Array( new Uint32Array( 10 ) );\n* // returns true\n*\n* @example\n* var bool = isUint32Array( [] );\n* // returns false\n*/\nfunction isUint32Array( value ) {\n\treturn (\n\t\t( hasUint32Array && value instanceof Uint32Array ) || // eslint-disable-line stdlib/require-globals\n\t\tnativeClass( value ) === '[object Uint32Array]'\n\t);\n}\n\n\n// EXPORTS //\n\nmodule.exports = isUint32Array;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n/**\n* Test if a value is a Uint32Array.\n*\n* @module @stdlib/assert-is-uint32array\n*\n* @example\n* var isUint32Array = require( '@stdlib/assert-is-uint32array' );\n*\n* var bool = isUint32Array( new Uint32Array( 10 ) );\n* // returns true\n*\n* bool = isUint32Array( [] );\n* // returns false\n*/\n\n// MODULES //\n\nvar isUint32Array = require( './main.js' );\n\n\n// EXPORTS //\n\nmodule.exports = isUint32Array;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n/**\n* Tests if a value is a number primitive.\n*\n* @param {*} value - value to test\n* @returns {boolean} boolean indicating if a value is a number primitive\n*\n* @example\n* var bool = isNumber( 3.14 );\n* // returns true\n*\n* @example\n* var bool = isNumber( NaN );\n* // returns true\n*\n* @example\n* var bool = isNumber( new Number( 3.14 ) );\n* // returns false\n*/\nfunction isNumber( value ) {\n\treturn ( typeof value === 'number' );\n}\n\n\n// EXPORTS //\n\nmodule.exports = isNumber;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// EXPORTS //\n\nmodule.exports = Number; // eslint-disable-line stdlib/require-globals\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n/**\n* Constructor which returns a `Number` object.\n*\n* @module @stdlib/number-ctor\n*\n* @example\n* var Number = require( '@stdlib/number-ctor' );\n*\n* var v = new Number( 10.0 );\n* // returns <Number>\n*/\n\n// MODULES //\n\nvar main = require( './main.js' );\n\n\n// EXPORTS //\n\nmodule.exports = main;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nvar Number = require( '@stdlib/number-ctor' );\n\n\n// MAIN //\n\n// eslint-disable-next-line stdlib/no-redeclare\nvar toString = Number.prototype.toString; // non-generic\n\n\n// EXPORTS //\n\nmodule.exports = toString;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nvar toString = require( './tostring.js' ); // eslint-disable-line stdlib/no-redeclare\n\n\n// MAIN //\n\n/**\n* Attempts to serialize a value to a string.\n*\n* @private\n* @param {*} value - value to test\n* @returns {boolean} boolean indicating if a value can be serialized\n*/\nfunction test( value ) {\n\ttry {\n\t\ttoString.call( value );\n\t\treturn true;\n\t} catch ( err ) { // eslint-disable-line no-unused-vars\n\t\treturn false;\n\t}\n}\n\n\n// EXPORTS //\n\nmodule.exports = test;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nvar hasToStringTag = require( '@stdlib/assert-has-tostringtag-support' );\nvar nativeClass = require( '@stdlib/utils-native-class' );\nvar Number = require( '@stdlib/number-ctor' );\nvar test = require( './try2serialize.js' );\n\n\n// VARIABLES //\n\nvar FLG = hasToStringTag();\n\n\n// MAIN //\n\n/**\n* Tests if a value is a number object.\n*\n* @param {*} value - value to test\n* @returns {boolean} boolean indicating if a value is a number object\n*\n* @example\n* var bool = isNumber( 3.14 );\n* // returns false\n*\n* @example\n* var bool = isNumber( new Number( 3.14 ) );\n* // returns true\n*/\nfunction isNumber( value ) {\n\tif ( typeof value === 'object' ) {\n\t\tif ( value instanceof Number ) {\n\t\t\treturn true;\n\t\t}\n\t\tif ( FLG ) {\n\t\t\treturn test( value );\n\t\t}\n\t\treturn ( nativeClass( value ) === '[object Number]' );\n\t}\n\treturn false;\n}\n\n\n// EXPORTS //\n\nmodule.exports = isNumber;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nvar isPrimitive = require( './primitive.js' );\nvar isObject = require( './object.js' );\n\n\n// MAIN //\n\n/**\n* Tests if a value is a number.\n*\n* @param {*} value - value to test\n* @returns {boolean} boolean indicating whether value is a number\n*\n* @example\n* var bool = isNumber( 3.14 );\n* // returns true\n*\n* @example\n* var bool = isNumber( new Number( 3.14 ) );\n* // returns true\n*\n* @example\n* var bool = isNumber( NaN );\n* // returns true\n*\n* @example\n* var bool = isNumber( null );\n* // returns false\n*/\nfunction isNumber( value ) {\n\treturn ( isPrimitive( value ) || isObject( value ) );\n}\n\n\n// EXPORTS //\n\nmodule.exports = isNumber;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n/**\n* Test if a value is a number.\n*\n* @module @stdlib/assert-is-number\n*\n* @example\n* var isNumber = require( '@stdlib/assert-is-number' );\n*\n* var bool = isNumber( 3.14 );\n* // returns true\n*\n* bool = isNumber( new Number( 3.14 ) );\n* // returns true\n*\n* bool = isNumber( NaN );\n* // returns true\n*\n* bool = isNumber( null );\n* // returns false\n*\n* @example\n* var isNumber = require( '@stdlib/assert-is-number' ).isPrimitive;\n*\n* var bool = isNumber( 3.14 );\n* // returns true\n*\n* bool = isNumber( NaN );\n* // returns true\n*\n* bool = isNumber( new Number( 3.14 ) );\n* // returns false\n*\n* @example\n* var isNumber = require( '@stdlib/assert-is-number' ).isObject;\n*\n* var bool = isNumber( 3.14 );\n* // returns false\n*\n* bool = isNumber( new Number( 3.14 ) );\n* // returns true\n*/\n\n// MODULES //\n\nvar setReadOnly = require( '@stdlib/utils-define-nonenumerable-read-only-property' );\nvar main = require( './main.js' );\nvar isPrimitive = require( './primitive.js' );\nvar isObject = require( './object.js' );\n\n\n// MAIN //\n\nsetReadOnly( main, 'isPrimitive', isPrimitive );\nsetReadOnly( main, 'isObject', isObject );\n\n\n// EXPORTS //\n\nmodule.exports = main;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n/**\n* Double-precision floating-point positive infinity.\n*\n* @module @stdlib/constants-float64-pinf\n* @type {number}\n*\n* @example\n* var FLOAT64_PINF = require( '@stdlib/constants-float64-pinf' );\n* // returns Infinity\n*/\n\n\n// MAIN //\n\n/**\n* Double-precision floating-point positive infinity.\n*\n* ## Notes\n*\n* Double-precision floating-point positive infinity has the bit sequence\n*\n* ```binarystring\n* 0 11111111111 00000000000000000000 00000000000000000000000000000000\n* ```\n*\n* @constant\n* @type {number}\n* @default Number.POSITIVE_INFINITY\n* @see [IEEE 754]{@link https://en.wikipedia.org/wiki/IEEE_754-1985}\n*/\nvar FLOAT64_PINF = Number.POSITIVE_INFINITY; // eslint-disable-line stdlib/require-globals\n\n\n// EXPORTS //\n\nmodule.exports = FLOAT64_PINF;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n/**\n* Double-precision floating-point negative infinity.\n*\n* @module @stdlib/constants-float64-ninf\n* @type {number}\n*\n* @example\n* var FLOAT64_NINF = require( '@stdlib/constants-float64-ninf' );\n* // returns -Infinity\n*/\n\n// MODULES //\n\nvar Number = require( '@stdlib/number-ctor' );\n\n\n// MAIN //\n\n/**\n* Double-precision floating-point negative infinity.\n*\n* ## Notes\n*\n* Double-precision floating-point negative infinity has the bit sequence\n*\n* ```binarystring\n* 1 11111111111 00000000000000000000 00000000000000000000000000000000\n* ```\n*\n* @constant\n* @type {number}\n* @default Number.NEGATIVE_INFINITY\n* @see [IEEE 754]{@link https://en.wikipedia.org/wiki/IEEE_754-1985}\n*/\nvar FLOAT64_NINF = Number.NEGATIVE_INFINITY;\n\n\n// EXPORTS //\n\nmodule.exports = FLOAT64_NINF;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nvar PINF = require( '@stdlib/constants-float64-pinf' );\nvar NINF = require( '@stdlib/constants-float64-ninf' );\nvar isInt = require( '@stdlib/math-base-assert-is-integer' );\n\n\n// MAIN //\n\n/**\n* Tests if a number primitive is an integer value.\n*\n* @private\n* @param {*} value - value to test\n* @returns {boolean} boolean indicating if a number primitive is an integer value\n*/\nfunction isInteger( value ) {\n\treturn (\n\t\tvalue < PINF &&\n\t\tvalue > NINF &&\n\t\tisInt( value )\n\t);\n}\n\n\n// EXPORTS //\n\nmodule.exports = isInteger;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nvar isNumber = require( '@stdlib/assert-is-number' ).isPrimitive;\nvar isInt = require( './integer.js' );\n\n\n// MAIN //\n\n/**\n* Tests if a value is a number primitive having an integer value.\n*\n* @param {*} value - value to test\n* @returns {boolean} boolean indicating if a value is a number primitive having an integer value\n*\n* @example\n* var bool = isInteger( -3.0 );\n* // returns true\n*\n* @example\n* var bool = isInteger( new Number( -3.0 ) );\n* // returns false\n*/\nfunction isInteger( value ) {\n\treturn (\n\t\tisNumber( value ) &&\n\t\tisInt( value )\n\t);\n}\n\n\n// EXPORTS //\n\nmodule.exports = isInteger;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nvar isNumber = require( '@stdlib/assert-is-number' ).isObject;\nvar isInt = require( './integer.js' );\n\n\n// MAIN //\n\n/**\n* Tests if a value is a number object having an integer value.\n*\n* @param {*} value - value to test\n* @returns {boolean} boolean indicating if a value is a number object having an integer value\n*\n* @example\n* var bool = isInteger( 3.0 );\n* // returns false\n*\n* @example\n* var bool = isInteger( new Number( 3.0 ) );\n* // returns true\n*/\nfunction isInteger( value ) {\n\treturn (\n\t\tisNumber( value ) &&\n\t\tisInt( value.valueOf() )\n\t);\n}\n\n\n// EXPORTS //\n\nmodule.exports = isInteger;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nvar isPrimitive = require( './primitive.js' );\nvar isObject = require( './object.js' );\n\n\n// MAIN //\n\n/**\n* Tests if a value is an integer.\n*\n* @param {*} value - value to test\n* @returns {boolean} boolean indicating whether value is an integer\n*\n* @example\n* var bool = isInteger( 5.0 );\n* // returns true\n*\n* @example\n* var bool = isInteger( new Number( 5.0 ) );\n* // returns true\n*\n* @example\n* var bool = isInteger( -3.14 );\n* // returns false\n*\n* @example\n* var bool = isInteger( null );\n* // returns false\n*/\nfunction isInteger( value ) {\n\treturn ( isPrimitive( value ) || isObject( value ) );\n}\n\n\n// EXPORTS //\n\nmodule.exports = isInteger;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n/**\n* Test if a value is an integer.\n*\n* @module @stdlib/assert-is-integer\n*\n* @example\n* var isInteger = require( '@stdlib/assert-is-integer' );\n*\n* var bool = isInteger( 5.0 );\n* // returns true\n*\n* bool = isInteger( new Number( 5.0 ) );\n* // returns true\n*\n* bool = isInteger( -3.14 );\n* // returns false\n*\n* bool = isInteger( null );\n* // returns false\n*\n* @example\n* // Use interface to check for integer primitives...\n* var isInteger = require( '@stdlib/assert-is-integer' ).isPrimitive;\n*\n* var bool = isInteger( -3.0 );\n* // returns true\n*\n* bool = isInteger( new Number( -3.0 ) );\n* // returns false\n*\n* @example\n* // Use interface to check for integer objects...\n* var isInteger = require( '@stdlib/assert-is-integer' ).isObject;\n*\n* var bool = isInteger( 3.0 );\n* // returns false\n*\n* bool = isInteger( new Number( 3.0 ) );\n* // returns true\n*/\n\n// MODULES //\n\nvar setReadOnly = require( '@stdlib/utils-define-nonenumerable-read-only-property' );\nvar main = require( './main.js' );\nvar isPrimitive = require( './primitive.js' );\nvar isObject = require( './object.js' );\n\n\n// MAIN //\n\nsetReadOnly( main, 'isPrimitive', isPrimitive );\nsetReadOnly( main, 'isObject', isObject );\n\n\n// EXPORTS //\n\nmodule.exports = main;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nvar isInteger = require( '@stdlib/assert-is-integer' ).isPrimitive;\n\n\n// MAIN //\n\n/**\n* Tests if a value is a number primitive having a positive integer value.\n*\n* @param {*} value - value to test\n* @returns {boolean} boolean indicating if a value is a number primitive having a positive integer value\n*\n* @example\n* var bool = isPositiveInteger( 3.0 );\n* // returns true\n*\n* @example\n* var bool = isPositiveInteger( new Number( 3.0 ) );\n* // returns false\n*/\nfunction isPositiveInteger( value ) {\n\treturn (\n\t\tisInteger( value ) &&\n\t\tvalue > 0.0\n\t);\n}\n\n\n// EXPORTS //\n\nmodule.exports = isPositiveInteger;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nvar isInteger = require( '@stdlib/assert-is-integer' ).isObject;\n\n\n// MAIN //\n\n/**\n* Tests if a value is a number object having a positive integer value.\n*\n* @param {*} value - value to test\n* @returns {boolean} boolean indicating if a value is a number object having a positive integer value\n*\n* @example\n* var bool = isPositiveInteger( 3.0 );\n* // returns false\n*\n* @example\n* var bool = isPositiveInteger( new Number( 3.0 ) );\n* // returns true\n*/\nfunction isPositiveInteger( value ) {\n\treturn (\n\t\tisInteger( value ) &&\n\t\tvalue.valueOf() > 0.0\n\t);\n}\n\n\n// EXPORTS //\n\nmodule.exports = isPositiveInteger;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nvar isPrimitive = require( './primitive.js' );\nvar isObject = require( './object.js' );\n\n\n// MAIN //\n\n/**\n* Tests if a value is a positive integer.\n*\n* @param {*} value - value to test\n* @returns {boolean} boolean indicating whether value is a positive integer\n*\n* @example\n* var bool = isPositiveInteger( 5.0 );\n* // returns true\n*\n* @example\n* var bool = isPositiveInteger( new Number( 5.0 ) );\n* // returns true\n*\n* @example\n* var bool = isPositiveInteger( 0.0 );\n* // returns false\n*\n* @example\n* var bool = isPositiveInteger( -5.0 );\n* // returns false\n*\n* @example\n* var bool = isPositiveInteger( 3.14 );\n* // returns false\n*\n* @example\n* var bool = isPositiveInteger( null );\n* // returns false\n*/\nfunction isPositiveInteger( value ) {\n\treturn ( isPrimitive( value ) || isObject( value ) );\n}\n\n\n// EXPORTS //\n\nmodule.exports = isPositiveInteger;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n/**\n* Test if a value is a positive integer.\n*\n* @module @stdlib/assert-is-positive-integer\n*\n* @example\n* var isPositiveInteger = require( '@stdlib/assert-is-positive-integer' );\n*\n* var bool = isPositiveInteger( 5.0 );\n* // returns true\n*\n* bool = isPositiveInteger( new Number( 5.0 ) );\n* // returns true\n*\n* bool = isPositiveInteger( -5.0 );\n* // returns false\n*\n* bool = isPositiveInteger( 3.14 );\n* // returns false\n*\n* bool = isPositiveInteger( null );\n* // returns false\n*\n* @example\n* var isPositiveInteger = require( '@stdlib/assert-is-positive-integer' ).isPrimitive;\n*\n* var bool = isPositiveInteger( 3.0 );\n* // returns true\n*\n* bool = isPositiveInteger( new Number( 3.0 ) );\n* // returns false\n*\n* @example\n* var isPositiveInteger = require( '@stdlib/assert-is-positive-integer' ).isObject;\n*\n* var bool = isPositiveInteger( 3.0 );\n* // returns false\n*\n* bool = isPositiveInteger( new Number( 3.0 ) );\n* // returns true\n*/\n\n// MODULES //\n\nvar setReadOnly = require( '@stdlib/utils-define-nonenumerable-read-only-property' );\nvar main = require( './main.js' );\nvar isPrimitive = require( './primitive.js' );\nvar isObject = require( './object.js' );\n\n\n// MAIN //\n\nsetReadOnly( main, 'isPrimitive', isPrimitive );\nsetReadOnly( main, 'isObject', isObject );\n\n\n// EXPORTS //\n\nmodule.exports = main;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n/**\n* Maximum safe double-precision floating-point integer.\n*\n* @module @stdlib/constants-float64-max-safe-integer\n* @type {number}\n*\n* @example\n* var FLOAT64_MAX_SAFE_INTEGER = require( '@stdlib/constants-float64-max-safe-integer' );\n* // returns 9007199254740991\n*/\n\n\n// MAIN //\n\n/**\n* Maximum safe double-precision floating-point integer.\n*\n* ## Notes\n*\n* The integer has the value\n*\n* ```tex\n* 2^{53} - 1\n* ```\n*\n* @constant\n* @type {number}\n* @default 9007199254740991\n* @see [Safe Integers]{@link http://www.2ality.com/2013/10/safe-integers.html}\n* @see [IEEE 754]{@link https://en.wikipedia.org/wiki/IEEE_754-1985}\n*/\nvar FLOAT64_MAX_SAFE_INTEGER = 9007199254740991;\n\n\n// EXPORTS //\n\nmodule.exports = FLOAT64_MAX_SAFE_INTEGER;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n/**\n* Maximum unsigned 32-bit integer.\n*\n* @module @stdlib/constants-uint32-max\n* @type {uinteger32}\n*\n* @example\n* var UINT32_MAX = require( '@stdlib/constants-uint32-max' );\n* // returns 4294967295\n*/\n\n\n// MAIN //\n\n/**\n* Maximum unsigned 32-bit integer.\n*\n* ## Notes\n*\n* The number has the value\n*\n* ```tex\n* 2^{32} - 1\n* ```\n*\n* which corresponds to the bit sequence\n*\n* ```binarystring\n* 11111111111111111111111111111111\n* ```\n*\n* @constant\n* @type {uinteger32}\n* @default 4294967295\n*/\nvar UINT32_MAX = 4294967295;\n\n\n// EXPORTS //\n\nmodule.exports = UINT32_MAX;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MAIN //\n\nvar main = ( typeof Uint32Array === 'function' ) ? Uint32Array : null; // eslint-disable-line stdlib/require-globals\n\n\n// EXPORTS //\n\nmodule.exports = main;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nvar isUint32Array = require( '@stdlib/assert-is-uint32array' );\nvar UINT32_MAX = require( '@stdlib/constants-uint32-max' );\nvar GlobalUint32Array = require( './uint32array.js' );\n\n\n// MAIN //\n\n/**\n* Tests for native `Uint32Array` support.\n*\n* @returns {boolean} boolean indicating if an environment has `Uint32Array` support\n*\n* @example\n* var bool = hasUint32ArraySupport();\n* // returns <boolean>\n*/\nfunction hasUint32ArraySupport() {\n\tvar bool;\n\tvar arr;\n\n\tif ( typeof GlobalUint32Array !== 'function' ) {\n\t\treturn false;\n\t}\n\t// Test basic support...\n\ttry {\n\t\tarr = [ 1, 3.14, -3.14, UINT32_MAX+1, UINT32_MAX+2 ];\n\t\tarr = new GlobalUint32Array( arr );\n\t\tbool = (\n\t\t\tisUint32Array( arr ) &&\n\t\t\tarr[ 0 ] === 1 &&\n\t\t\tarr[ 1 ] === 3 &&            // truncation\n\t\t\tarr[ 2 ] === UINT32_MAX-2 && // truncation and wrap around\n\t\t\tarr[ 3 ] === 0 &&            // wrap around\n\t\t\tarr[ 4 ] === 1               // wrap around\n\t\t);\n\t} catch ( err ) { // eslint-disable-line no-unused-vars\n\t\tbool = false;\n\t}\n\treturn bool;\n}\n\n\n// EXPORTS //\n\nmodule.exports = hasUint32ArraySupport;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n/**\n* Test for native `Uint32Array` support.\n*\n* @module @stdlib/assert-has-uint32array-support\n*\n* @example\n* var hasUint32ArraySupport = require( '@stdlib/assert-has-uint32array-support' );\n*\n* var bool = hasUint32ArraySupport();\n* // returns <boolean>\n*/\n\n// MODULES //\n\nvar hasUint32ArraySupport = require( './main.js' );\n\n\n// EXPORTS //\n\nmodule.exports = hasUint32ArraySupport;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MAIN //\n\nvar ctor = ( typeof Uint32Array === 'function' ) ? Uint32Array : void 0; // eslint-disable-line stdlib/require-globals\n\n\n// EXPORTS //\n\nmodule.exports = ctor;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// TODO: write polyfill\n\n// MAIN //\n\n/**\n* Typed array which represents an array of 32-bit unsigned integers in the platform byte order.\n*\n* @throws {Error} not implemented\n*/\nfunction polyfill() {\n\tthrow new Error( 'not implemented' );\n}\n\n\n// EXPORTS //\n\nmodule.exports = polyfill;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n/**\n* Typed array constructor which returns a typed array representing an array of 32-bit unsigned integers in the platform byte order.\n*\n* @module @stdlib/array-uint32\n*\n* @example\n* var ctor = require( '@stdlib/array-uint32' );\n*\n* var arr = new ctor( 10 );\n* // returns <Uint32Array>\n*/\n\n// MODULES //\n\nvar hasUint32ArraySupport = require( '@stdlib/assert-has-uint32array-support' );\nvar builtin = require( './main.js' );\nvar polyfill = require( './polyfill.js' );\n\n\n// MAIN //\n\nvar ctor;\nif ( hasUint32ArraySupport() ) {\n\tctor = builtin;\n} else {\n\tctor = polyfill;\n}\n\n\n// EXPORTS //\n\nmodule.exports = ctor;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nvar PINF = require( '@stdlib/constants-float64-pinf' );\n\n\n// MAIN //\n\n/**\n* Tests if a double-precision floating-point numeric value is positive zero.\n*\n* @param {number} x - value to test\n* @returns {boolean} boolean indicating whether the value is positive zero\n*\n* @example\n* var bool = isPositiveZero( 0.0 );\n* // returns true\n*\n* @example\n* var bool = isPositiveZero( -0.0 );\n* // returns false\n*/\nfunction isPositiveZero( x ) {\n\treturn (x === 0.0 && 1.0/x === PINF);\n}\n\n\n// EXPORTS //\n\nmodule.exports = isPositiveZero;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n/**\n* Test if a double-precision floating-point numeric value is positive zero.\n*\n* @module @stdlib/math-base-assert-is-positive-zero\n*\n* @example\n* var isPositiveZero = require( '@stdlib/math-base-assert-is-positive-zero' );\n*\n* var bool = isPositiveZero( 0.0 );\n* // returns true\n*\n* bool = isPositiveZero( -0.0 );\n* // returns false\n*/\n\n// MODULES //\n\nvar main = require( './main.js' );\n\n\n// EXPORTS //\n\nmodule.exports = main;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MAIN //\n\n/**\n* Tests if a double-precision floating-point numeric value is `NaN`.\n*\n* @param {number} x - value to test\n* @returns {boolean} boolean indicating whether the value is `NaN`\n*\n* @example\n* var bool = isnan( NaN );\n* // returns true\n*\n* @example\n* var bool = isnan( 7.0 );\n* // returns false\n*/\nfunction isnan( x ) {\n\treturn ( x !== x );\n}\n\n\n// EXPORTS //\n\nmodule.exports = isnan;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n/**\n* Test if a double-precision floating-point numeric value is `NaN`.\n*\n* @module @stdlib/math-base-assert-is-nan\n*\n* @example\n* var isnan = require( '@stdlib/math-base-assert-is-nan' );\n*\n* var bool = isnan( NaN );\n* // returns true\n*\n* bool = isnan( 7.0 );\n* // returns false\n*/\n\n// MODULES //\n\nvar main = require( './main.js' );\n\n\n// EXPORTS //\n\nmodule.exports = main;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nvar isPositiveZero = require( '@stdlib/math-base-assert-is-positive-zero' );\nvar isnan = require( '@stdlib/math-base-assert-is-nan' );\nvar PINF = require( '@stdlib/constants-float64-pinf' );\n\n\n// MAIN //\n\n/**\n* Returns the maximum value.\n*\n* @param {number} x - first number\n* @param {number} y - second number\n* @returns {number} maximum value\n*\n* @example\n* var v = max( 3.14, 4.2 );\n* // returns 4.2\n*\n* @example\n* var v = max( 3.14, NaN );\n* // returns NaN\n*\n* @example\n* var v = max( +0.0, -0.0 );\n* // returns +0.0\n*/\nfunction max( x, y ) {\n\tif ( isnan( x ) || isnan( y ) ) {\n\t\treturn NaN;\n\t}\n\tif ( x === PINF || y === PINF ) {\n\t\treturn PINF;\n\t}\n\tif ( x === y && x === 0.0 ) {\n\t\tif ( isPositiveZero( x ) ) {\n\t\t\treturn x;\n\t\t}\n\t\treturn y;\n\t}\n\tif ( x > y ) {\n\t\treturn x;\n\t}\n\treturn y;\n}\n\n\n// EXPORTS //\n\nmodule.exports = max;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n/**\n* Return the maximum value.\n*\n* @module @stdlib/math-base-special-max\n*\n* @example\n* var max = require( '@stdlib/math-base-special-max' );\n*\n* var v = max( 3.14, 4.2 );\n* // returns 4.2\n*\n* v = max( 3.14, NaN );\n* // returns NaN\n*\n* v = max( +0.0, -0.0 );\n* // returns +0.0\n*/\n\n// MODULES //\n\nvar max = require( './main.js' );\n\n\n// EXPORTS //\n\nmodule.exports = max;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// VARIABLES //\n\n// Define a mask for the least significant 16 bits (low word): 65535 => 0x0000ffff => 00000000000000001111111111111111\nvar LOW_WORD_MASK = 0x0000ffff>>>0; // asm type annotation\n\n\n// MAIN //\n\n/**\n* Performs C-like multiplication of two unsigned 32-bit integers.\n*\n* ## Method\n*\n* -   To emulate C-like multiplication without the aid of 64-bit integers, we recognize that a 32-bit integer can be split into two 16-bit words\n*\n*     ```tex\n*     a = w_h*2^{16} + w_l\n*     ```\n*\n*     where \\\\( w_h \\\\) is the most significant 16 bits and \\\\( w_l \\\\) is the least significant 16 bits. For example, consider the maximum unsigned 32-bit integer \\\\( 2^{32}-1 \\\\)\n*\n*     ```binarystring\n*     11111111111111111111111111111111\n*     ```\n*\n*     The 16-bit high word is then\n*\n*     ```binarystring\n*     1111111111111111\n*     ```\n*\n*     and the 16-bit low word\n*\n*     ```binarystring\n*     1111111111111111\n*     ```\n*\n*     If we cast the high word to 32-bit precision and multiply by \\\\( 2^{16} \\\\) (equivalent to a 16-bit left shift), then the bit sequence is\n*\n*     ```binarystring\n*     11111111111111110000000000000000\n*     ```\n*\n*     Similarly, upon casting the low word to 32-bit precision, the bit sequence is\n*\n*     ```binarystring\n*     00000000000000001111111111111111\n*     ```\n*\n*     From the rules of binary addition, we recognize that adding the two 32-bit values for the high and low words will return our original value \\\\( 2^{32}-1 \\\\).\n*\n* -   Accordingly, the multiplication of two 32-bit integers can be expressed\n*\n*     ```tex\n*     \\begin{align*}\n*     a \\cdot b &= ( a_h \\cdot 2^{16} + a_l) \\cdot ( b_h \\cdot 2^{16} + b_l) \\\\\n*           &= a_l \\cdot b_l + a_h \\cdot b_l \\cdot 2^{16} + a_l \\cdot b_h \\cdot 2^{16} + (a_h \\cdot b_h) \\cdot 2^{32} \\\\\n*           &= a_l \\cdot b_l + (a_h \\cdot b_l + a_l \\cdot b_h) \\cdot 2^{16} + (a_h \\cdot b_h) \\cdot 2^{32}\n*     \\end{align*}\n*     ```\n*\n* -   We note that multiplying (dividing) an integer by \\\\( 2^n \\\\) is equivalent to performing a left (right) shift of \\\\( n \\\\) bits.\n*\n* -   Further, as we want to return an integer of the same precision, for a 32-bit integer, the return value will be modulo \\\\( 2^{32} \\\\). Stated another way, we only care about the low word of a 64-bit result.\n*\n* -   Accordingly, the last term, being evenly divisible by \\\\( 2^{32} \\\\), drops from the equation leaving the remaining two terms as the remainder.\n*\n*     ```tex\n*     a \\cdot b = a_l \\cdot b_l + (a_h \\cdot b_l + a_l \\cdot b_h) << 16\n*     ```\n*\n* -   Lastly, the second term in the above equation contributes to the middle bits and may cause the product to \"overflow\". However, we can disregard (`>>>0`) overflow bits due to modulo arithmetic, as discussed earlier with regard to the term involving the partial product of high words.\n*\n* @param {uinteger32} a - integer\n* @param {uinteger32} b - integer\n* @returns {uinteger32} product\n*\n* @example\n* var v = umul( 10>>>0, 4>>>0 );\n* // returns 40\n*/\nfunction umul( a, b ) {\n\tvar lbits;\n\tvar mbits;\n\tvar ha;\n\tvar hb;\n\tvar la;\n\tvar lb;\n\n\ta >>>= 0; // asm type annotation\n\tb >>>= 0; // asm type annotation\n\n\t// Isolate the most significant 16-bits:\n\tha = ( a>>>16 )>>>0; // asm type annotation\n\thb = ( b>>>16 )>>>0; // asm type annotation\n\n\t// Isolate the least significant 16-bits:\n\tla = ( a&LOW_WORD_MASK )>>>0; // asm type annotation\n\tlb = ( b&LOW_WORD_MASK )>>>0; // asm type annotation\n\n\t// Compute partial sums:\n\tlbits = ( la*lb )>>>0; // asm type annotation; no integer overflow possible\n\tmbits = ( ((ha*lb) + (la*hb))<<16 )>>>0; // asm type annotation; possible integer overflow\n\n\t// The final `>>>0` converts the intermediate sum to an unsigned integer (possible integer overflow during sum):\n\treturn ( lbits + mbits )>>>0; // asm type annotation\n}\n\n\n// EXPORTS //\n\nmodule.exports = umul;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n/**\n* Perform C-like multiplication of two unsigned 32-bit integers.\n*\n* @module @stdlib/math-base-ops-umul\n*\n* @example\n* var umul = require( '@stdlib/math-base-ops-umul' );\n*\n* var v = umul( 10>>>0, 4>>>0 );\n* // returns 40\n*/\n\n// MODULES //\n\nvar main = require( './main.js' );\n\n\n// EXPORTS //\n\nmodule.exports = main;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2022 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// VARIABLES //\n\nvar TYPE = 'function';\n\n\n// MAIN //\n\n/**\n* Tests if an array-like object supports the accessor (get/set) protocol.\n*\n* @param {Object} value - value to test\n* @returns {boolean} boolean indicating whether a value is an accessor array\n*\n* @example\n* var Complex128Array = require( '@stdlib/array-complex128' );\n*\n* var bool = isAccessorArray( new Complex128Array( 10 ) );\n* // returns true\n*\n* @example\n* var bool = isAccessorArray( [] );\n* // returns false\n*/\nfunction isAccessorArray( value ) {\n\treturn ( typeof value.get === TYPE && typeof value.set === TYPE ); // eslint-disable-line valid-typeof\n}\n\n\n// EXPORTS //\n\nmodule.exports = isAccessorArray;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2022 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n/**\n* Test if an array-like object supports the accessor (get/set) protocol.\n*\n* @module @stdlib/array-base-assert-is-accessor-array\n*\n* @example\n* var Complex128Array = require( '@stdlib/array-complex128array' );\n* var isAccessorArray = require( '@stdlib/array-base-assert-is-accessor-array' );\n*\n* var bool = isAccessorArray( new Complex128Array( 10 ) );\n* // returns true\n*\n* bool = isAccessorArray( [] );\n* // returns false\n*/\n\n// MODULES //\n\nvar main = require( './main.js' );\n\n\n// EXPORTS //\n\nmodule.exports = main;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2022 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// VARIABLES //\n\nvar GETTERS = {\n\t'float64': getFloat64,\n\t'float32': getFloat32,\n\t'int32': getInt32,\n\t'int16': getInt16,\n\t'int8': getInt8,\n\t'uint32': getUint32,\n\t'uint16': getUint16,\n\t'uint8': getUint8,\n\t'uint8c': getUint8c,\n\t'generic': getGeneric,\n\t'default': getArrayLike\n};\n\n\n// FUNCTIONS //\n\n/**\n* Returns an element from a `Float64Array`.\n*\n* @private\n* @param {Float64Array} arr - input array\n* @param {NonNegativeInteger} idx - element index\n* @returns {number} element value\n*\n* @example\n* var Float64Array = require( '@stdlib/array-float64' );\n*\n* var arr = new Float64Array( [ 1, 2, 3, 4 ] );\n*\n* var v = getFloat64( arr, 2 );\n* // returns 3.0\n*/\nfunction getFloat64( arr, idx ) {\n\treturn arr[ idx ];\n}\n\n/**\n* Returns an element from a `Float32Array`.\n*\n* @private\n* @param {Float32Array} arr - input array\n* @param {NonNegativeInteger} idx - element index\n* @returns {number} element value\n*\n* @example\n* var Float32Array = require( '@stdlib/array-float32' );\n*\n* var arr = new Float32Array( [ 1, 2, 3, 4 ] );\n*\n* var v = getFloat32( arr, 2 );\n* // returns 3.0\n*/\nfunction getFloat32( arr, idx ) {\n\treturn arr[ idx ];\n}\n\n/**\n* Returns an element from an `Int32Array`.\n*\n* @private\n* @param {Int32Array} arr - input array\n* @param {NonNegativeInteger} idx - element index\n* @returns {number} element value\n*\n* @example\n* var Int32Array = require( '@stdlib/array-int32' );\n*\n* var arr = new Int32Array( [ 1, 2, 3, 4 ] );\n*\n* var v = getInt32( arr, 2 );\n* // returns 3\n*/\nfunction getInt32( arr, idx ) { // eslint-disable-line stdlib/jsdoc-doctest-decimal-point\n\treturn arr[ idx ];\n}\n\n/**\n* Returns an element from an `Int16Array`.\n*\n* @private\n* @param {Int16Array} arr - input array\n* @param {NonNegativeInteger} idx - element index\n* @returns {number} element value\n*\n* @example\n* var Int16Array = require( '@stdlib/array-int16' );\n*\n* var arr = new Int16Array( [ 1, 2, 3, 4 ] );\n*\n* var v = getInt16( arr, 2 );\n* // returns 3\n*/\nfunction getInt16( arr, idx ) { // eslint-disable-line stdlib/jsdoc-doctest-decimal-point\n\treturn arr[ idx ];\n}\n\n/**\n* Returns an element from an `Int8Array`.\n*\n* @private\n* @param {Int8Array} arr - input array\n* @param {NonNegativeInteger} idx - element index\n* @returns {number} element value\n*\n* @example\n* var Int8Array = require( '@stdlib/array-int8' );\n*\n* var arr = new Int8Array( [ 1, 2, 3, 4 ] );\n*\n* var v = getInt8( arr, 2 );\n* // returns 3\n*/\nfunction getInt8( arr, idx ) { // eslint-disable-line stdlib/jsdoc-doctest-decimal-point\n\treturn arr[ idx ];\n}\n\n/**\n* Returns an element from a `Uint32Array`.\n*\n* @private\n* @param {Uint32Array} arr - input array\n* @param {NonNegativeInteger} idx - element index\n* @returns {number} element value\n*\n* @example\n* var Uint32Array = require( '@stdlib/array-uint32' );\n*\n* var arr = new Uint32Array( [ 1, 2, 3, 4 ] );\n*\n* var v = getUint32( arr, 2 );\n* // returns 3\n*/\nfunction getUint32( arr, idx ) { // eslint-disable-line stdlib/jsdoc-doctest-decimal-point\n\treturn arr[ idx ];\n}\n\n/**\n* Returns an element from a `Uint16Array`.\n*\n* @private\n* @param {Uint16Array} arr - input array\n* @param {NonNegativeInteger} idx - element index\n* @returns {number} element value\n*\n* @example\n* var Uint16Array = require( '@stdlib/array-uint16' );\n*\n* var arr = new Uint16Array( [ 1, 2, 3, 4 ] );\n*\n* var v = getUint16( arr, 2 );\n* // returns 3\n*/\nfunction getUint16( arr, idx ) { // eslint-disable-line stdlib/jsdoc-doctest-decimal-point\n\treturn arr[ idx ];\n}\n\n/**\n* Returns an element from a `Uint8Array`.\n*\n* @private\n* @param {Uint8Array} arr - input array\n* @param {NonNegativeInteger} idx - element index\n* @returns {number} element value\n*\n* @example\n* var Uint8Array = require( '@stdlib/array-uint8' );\n*\n* var arr = new Uint8Array( [ 1, 2, 3, 4 ] );\n*\n* var v = getUint8( arr, 2 );\n* // returns 3\n*/\nfunction getUint8( arr, idx ) { // eslint-disable-line stdlib/jsdoc-doctest-decimal-point\n\treturn arr[ idx ];\n}\n\n/**\n* Returns an element from a `Uint8ClampedArray`.\n*\n* @private\n* @param {Uint8ClampedArray} arr - input array\n* @param {NonNegativeInteger} idx - element index\n* @returns {number} element value\n*\n* @example\n* var Uint8ClampedArray = require( '@stdlib/array-uint8c' );\n*\n* var arr = new Uint8ClampedArray( [ 1, 2, 3, 4 ] );\n*\n* var v = getUint8c( arr, 2 );\n* // returns 3\n*/\nfunction getUint8c( arr, idx ) { // eslint-disable-line stdlib/jsdoc-doctest-decimal-point\n\treturn arr[ idx ];\n}\n\n/**\n* Returns an element from a generic `Array`.\n*\n* @private\n* @param {Array} arr - input array\n* @param {NonNegativeInteger} idx - element index\n* @returns {*} element value\n*\n* @example\n* var arr = [ 1, 2, 3, 4 ];\n*\n* var v = getGeneric( arr, 2 );\n* // returns 3\n*/\nfunction getGeneric( arr, idx ) {\n\treturn arr[ idx ];\n}\n\n/**\n* Returns an element from an indexed array-like object.\n*\n* @private\n* @param {Collection} arr - input array\n* @param {NonNegativeInteger} idx - element index\n* @returns {*} element value\n*\n* @example\n* var arr = [ 1, 2, 3, 4 ];\n*\n* var v = getArrayLike( arr, 2 );\n* // returns 3\n*/\nfunction getArrayLike( arr, idx ) {\n\treturn arr[ idx ];\n}\n\n\n// MAIN //\n\n/**\n* Returns an accessor function for retrieving an element from an indexed array-like object.\n*\n* @param {string} dtype - array dtype\n* @returns {Function} accessor\n*\n* @example\n* var dtype = require( '@stdlib/array-dtype' );\n*\n* var arr = [ 1, 2, 3, 4 ];\n*\n* var get = getter( dtype( arr ) );\n* var v = get( arr, 2 );\n* // returns 3\n*/\nfunction getter( dtype ) {\n\tvar f = GETTERS[ dtype ];\n\tif ( typeof f === 'function' ) {\n\t\treturn f;\n\t}\n\treturn GETTERS.default;\n}\n\n\n// EXPORTS //\n\nmodule.exports = getter;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2022 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n/**\n* Return an accessor function for retrieving an element from an indexed array-like object.\n*\n* @module @stdlib/array-base-getter\n*\n* @example\n* var dtype = require( '@stdlib/array-dtype' );\n* var getter = require( '@stdlib/array-base-getter' );\n*\n* var arr = [ 1, 2, 3, 4 ];\n*\n* var get = getter( dtype( arr ) );\n* var v = get( arr, 2 );\n* // returns 3\n*/\n\n// MODULES //\n\nvar main = require( './main.js' );\n\n\n// EXPORTS //\n\nmodule.exports = main;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2022 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// VARIABLES //\n\nvar SETTERS = {\n\t'float64': setFloat64,\n\t'float32': setFloat32,\n\t'int32': setInt32,\n\t'int16': setInt16,\n\t'int8': setInt8,\n\t'uint32': setUint32,\n\t'uint16': setUint16,\n\t'uint8': setUint8,\n\t'uint8c': setUint8c,\n\t'generic': setGeneric,\n\t'default': setArrayLike\n};\n\n\n// FUNCTIONS //\n\n/**\n* Sets an element in a `Float64Array`.\n*\n* @private\n* @param {Float64Array} arr - input array\n* @param {NonNegativeInteger} idx - element index\n* @param {number} value - value to set\n*\n* @example\n* var Float64Array = require( '@stdlib/array-float64' );\n*\n* var arr = new Float64Array( 4 );\n*\n* setFloat64( arr, 2, 3.0 );\n*\n* var v = arr[ 2 ];\n* // returns 3.0\n*/\nfunction setFloat64( arr, idx, value ) {\n\tarr[ idx ] = value;\n}\n\n/**\n* Sets an element in a `Float32Array`.\n*\n* @private\n* @param {Float32Array} arr - input array\n* @param {NonNegativeInteger} idx - element index\n* @param {number} value - value to set\n*\n* @example\n* var Float32Array = require( '@stdlib/array-float32' );\n*\n* var arr = new Float32Array( 4 );\n*\n* setFloat32( arr, 2, 3.0 );\n*\n* var v = arr[ 2 ];\n* // returns 3.0\n*/\nfunction setFloat32( arr, idx, value ) {\n\tarr[ idx ] = value;\n}\n\n/**\n* Sets an element in an `Int32Array`.\n*\n* @private\n* @param {Int32Array} arr - input array\n* @param {NonNegativeInteger} idx - element index\n* @param {number} value - value to set\n*\n* @example\n* var Int32Array = require( '@stdlib/array-int32' );\n*\n* var arr = new Int32Array( 4 );\n*\n* setInt32( arr, 2, 3 );\n*\n* var v = arr[ 2 ];\n* // returns 3\n*/\nfunction setInt32( arr, idx, value ) {\n\tarr[ idx ] = value;\n}\n\n/**\n* Sets an element in an `Int16Array`.\n*\n* @private\n* @param {Int16Array} arr - input array\n* @param {NonNegativeInteger} idx - element index\n* @param {number} value - value to set\n*\n* @example\n* var Int16Array = require( '@stdlib/array-int16' );\n*\n* var arr = new Int16Array( 4 );\n*\n* setInt16( arr, 2, 3 );\n*\n* var v = arr[ 2 ];\n* // returns 3\n*/\nfunction setInt16( arr, idx, value ) {\n\tarr[ idx ] = value;\n}\n\n/**\n* Sets an element in an `Int8Array`.\n*\n* @private\n* @param {Int8Array} arr - input array\n* @param {NonNegativeInteger} idx - element index\n* @param {number} value - value to set\n*\n* @example\n* var Int8Array = require( '@stdlib/array-int8' );\n*\n* var arr = new Int8Array( 4 );\n*\n* setInt8( arr, 2, 3 );\n*\n* var v = arr[ 2 ];\n* // returns 3\n*/\nfunction setInt8( arr, idx, value ) {\n\tarr[ idx ] = value;\n}\n\n/**\n* Sets an element in a `Uint32Array`.\n*\n* @private\n* @param {Uint32Array} arr - input array\n* @param {NonNegativeInteger} idx - element index\n* @param {number} value - value to set\n*\n* @example\n* var Uint32Array = require( '@stdlib/array-uint32' );\n*\n* var arr = new Uint32Array( 4 );\n*\n* setUint32( arr, 2, 3 );\n*\n* var v = arr[ 2 ];\n* // returns 3\n*/\nfunction setUint32( arr, idx, value ) {\n\tarr[ idx ] = value;\n}\n\n/**\n* Sets an element in a `Uint16Array`.\n*\n* @private\n* @param {Uint16Array} arr - input array\n* @param {NonNegativeInteger} idx - element index\n* @param {number} value - value to set\n*\n* @example\n* var Uint16Array = require( '@stdlib/array-uint16' );\n*\n* var arr = new Uint16Array( 4 );\n*\n* setUint16( arr, 2, 3 );\n*\n* var v = arr[ 2 ];\n* // returns 3\n*/\nfunction setUint16( arr, idx, value ) {\n\tarr[ idx ] = value;\n}\n\n/**\n* Sets an element in a `Uint8Array`.\n*\n* @private\n* @param {Uint8Array} arr - input array\n* @param {NonNegativeInteger} idx - element index\n* @param {number} value - value to set\n*\n* @example\n* var Uint8Array = require( '@stdlib/array-uint8' );\n*\n* var arr = new Uint8Array( 4 );\n*\n* setUint8( arr, 2, 3 );\n*\n* var v = arr[ 2 ];\n* // returns 3\n*/\nfunction setUint8( arr, idx, value ) {\n\tarr[ idx ] = value;\n}\n\n/**\n* Sets an element in a `Uint8ClampedArray`.\n*\n* @private\n* @param {Uint8ClampedArray} arr - input array\n* @param {NonNegativeInteger} idx - element index\n* @param {number} value - value to set\n*\n* @example\n* var Uint8ClampedArray = require( '@stdlib/array-uint8c' );\n*\n* var arr = new Uint8ClampedArray( 4 );\n*\n* setUint8c( arr, 2, 3 );\n*\n* var v = arr[ 2 ];\n* // returns 3\n*/\nfunction setUint8c( arr, idx, value ) {\n\tarr[ idx ] = value;\n}\n\n/**\n* Sets an element in a generic `Array`.\n*\n* @private\n* @param {Array} arr - input array\n* @param {NonNegativeInteger} idx - element index\n* @param {*} value - value to set\n*\n* @example\n* var arr = [ 1, 2, 3, 4 ];\n*\n* setGeneric( arr, 2, 3 );\n*\n* var v = arr[ 2 ];\n* // returns 3\n*/\nfunction setGeneric( arr, idx, value ) {\n\tarr[ idx ] = value;\n}\n\n/**\n* Sets an element in an indexed array-like object.\n*\n* @private\n* @param {Collection} arr - input array\n* @param {NonNegativeInteger} idx - element index\n* @param {*} value - value to set\n*\n* @example\n* var arr = [ 1, 2, 3, 4 ];\n*\n* setArrayLike( arr, 2, 3 );\n*\n* var v = arr[ 2 ];\n* // returns 3\n*/\nfunction setArrayLike( arr, idx, value ) {\n\tarr[ idx ] = value;\n}\n\n\n// MAIN //\n\n/**\n* Returns an accessor function for setting an element in an indexed array-like object.\n*\n* @param {string} dtype - array dtype\n* @returns {Function} accessor\n*\n* @example\n* var dtype = require( '@stdlib/array-dtype' );\n*\n* var arr = [ 1, 2, 3, 4 ];\n*\n* var set = setter( dtype( arr ) );\n* set( arr, 2, 3 );\n*\n* var v = arr[ 2 ];\n* // returns 3\n*/\nfunction setter( dtype ) {\n\tvar f = SETTERS[ dtype ];\n\tif ( typeof f === 'function' ) {\n\t\treturn f;\n\t}\n\treturn SETTERS.default;\n}\n\n\n// EXPORTS //\n\nmodule.exports = setter;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2022 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n/**\n* Return an accessor function for setting an element in an indexed array-like object.\n*\n* @module @stdlib/array-base-setter\n*\n* @example\n* var dtype = require( '@stdlib/array-dtype' );\n* var set = require( '@stdlib/array-base-setter' );\n*\n* var arr = [ 1, 2, 3, 4 ];\n*\n* var set = setter( dtype( arr ) );\n* set( arr, 2, 10 );\n*\n* var v = arr[ 2 ];\n* // returns 10\n*/\n\n// MODULES //\n\nvar main = require( './main.js' );\n\n\n// EXPORTS //\n\nmodule.exports = main;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2022 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// VARIABLES //\n\nvar GETTERS = {\n\t'complex128': getComplex128,\n\t'complex64': getComplex64,\n\t'default': getArrayLike\n};\n\n\n// FUNCTIONS //\n\n/**\n* Returns an element from a `Complex128Array`.\n*\n* @private\n* @param {Complex128Array} arr - input array\n* @param {NonNegativeInteger} idx - element index\n* @returns {number} element value\n*\n* @example\n* var Complex128Array = require( '@stdlib/array-complex128' );\n* var real = require( '@stdlib/complex-real' );\n* var imag = require( '@stdlib/complex-imag' );\n*\n* var arr = new Complex128Array( [ 1, 2, 3, 4 ] );\n*\n* var v = getComplex128( arr, 1 );\n* // returns <Complex128>\n*\n* var re = real( v );\n* // returns 3.0\n*\n* var im = imag( v );\n* // returns 4.0\n*/\nfunction getComplex128( arr, idx ) {\n\treturn arr.get( idx );\n}\n\n/**\n* Returns an element from a `Complex64Array`.\n*\n* @private\n* @param {Complex64Array} arr - input array\n* @param {NonNegativeInteger} idx - element index\n* @returns {number} element value\n*\n* @example\n* var Complex64Array = require( '@stdlib/array-complex64' );\n* var realf = require( '@stdlib/complex-realf' );\n* var imagf = require( '@stdlib/complex-imagf' );\n*\n* var arr = new Complex64Array( [ 1, 2, 3, 4 ] );\n*\n* var v = getComplex64( arr, 1 );\n* // returns <Complex64>\n*\n* var re = realf( v );\n* // returns 3.0\n*\n* var im = imagf( v );\n* // returns 4.0\n*/\nfunction getComplex64( arr, idx ) {\n\treturn arr.get( idx );\n}\n\n/**\n* Returns an element from an array-like object supporting the get/set protocol.\n*\n* @private\n* @param {Collection} arr - input array\n* @param {NonNegativeInteger} idx - element index\n* @returns {*} element value\n*\n* @example\n* var arr = [ 1, 2, 3, 4 ];\n*\n* function get( idx ) {\n*    return arr[ idx ];\n* }\n*\n* function set( value, idx ) {\n*    arr[ idx ] = value;\n* }\n*\n* arr.get = get;\n* arr.set = set;\n*\n* var v = getArrayLike( arr, 2 );\n* // returns 3\n*/\nfunction getArrayLike( arr, idx ) {\n\treturn arr.get( idx );\n}\n\n\n// MAIN //\n\n/**\n* Returns an accessor function for retrieving an element from an array-like object supporting the get/set protocol.\n*\n* @param {string} dtype - array dtype\n* @returns {Function} accessor\n*\n* @example\n* var Complex64Array = require( '@stdlib/array-complex64' );\n* var realf = require( '@stdlib/complex-realf' );\n* var imagf = require( '@stdlib/complex-imagf' );\n* var dtype = require( '@stdlib/array-dtype' );\n*\n* var arr = new Complex64Array( [ 1, 2, 3, 4 ] );\n*\n* var get = getter( dtype( arr ) );\n* var v = get( arr, 1 );\n* // returns <Complex64>\n*\n* var re = realf( v );\n* // returns 3.0\n*\n* var im = imagf( v );\n* // returns 4.0\n*/\nfunction getter( dtype ) {\n\tvar f = GETTERS[ dtype ];\n\tif ( typeof f === 'function' ) {\n\t\treturn f;\n\t}\n\treturn GETTERS.default;\n}\n\n\n// EXPORTS //\n\nmodule.exports = getter;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2022 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n/**\n* Return an accessor function for retrieving an element from an array-like object supporting the get/set protocol.\n*\n* @module @stdlib/array-base-accessor-getter\n*\n* @example\n* var Complex64Array = require( '@stdlib/array-complex64' );\n* var realf = require( '@stdlib/complex-realf' );\n* var imagf = require( '@stdlib/complex-imagf' );\n* var dtype = require( '@stdlib/array-dtype' );\n* var getter = require( '@stdlib/array-base-accessor-getter' );\n*\n* var arr = new Complex64Array( [ 1, 2, 3, 4 ] );\n*\n* var get = getter( dtype( arr ) );\n* var v = get( arr, 1 );\n* // returns <Complex64>\n*\n* var re = realf( v );\n* // returns 3.0\n*\n* var im = imagf( v );\n* // returns 4.0\n*/\n\n// MODULES //\n\nvar main = require( './main.js' );\n\n\n// EXPORTS //\n\nmodule.exports = main;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2022 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// VARIABLES //\n\nvar SETTERS = {\n\t'complex128': setComplex128,\n\t'complex64': setComplex64,\n\t'default': setArrayLike\n};\n\n\n// FUNCTIONS //\n\n/**\n* Sets an element in a `Complex128Array`.\n*\n* @private\n* @param {Complex128Array} arr - input array\n* @param {NonNegativeInteger} idx - element index\n* @param {(Collection|Complex|ComplexArray)} value - value(s)\n*\n* @example\n* var Complex128Array = require( '@stdlib/array-complex128' );\n* var Complex128 = require( '@stdlib/complex-float64' );\n* var real = require( '@stdlib/complex-real' );\n* var imag = require( '@stdlib/complex-imag' );\n*\n* var arr = new Complex128Array( [ 1, 2, 3, 4 ] );\n*\n* setComplex128( arr, 1, new Complex128( 10.0, 11.0 ) );\n* var v = arr.get( 1 );\n* // returns <Complex128>\n*\n* var re = real( v );\n* // returns 10.0\n*\n* var im = imag( v );\n* // returns 11.0\n*/\nfunction setComplex128( arr, idx, value ) {\n\tarr.set( value, idx );\n}\n\n/**\n* Sets an element in a `Complex64Array`.\n*\n* @private\n* @param {Complex64Array} arr - input array\n* @param {NonNegativeInteger} idx - element index\n* @param {(Collection|Complex|ComplexArray)} value - value(s)\n*\n* @example\n* var Complex64Array = require( '@stdlib/array-complex64' );\n* var Complex64 = require( '@stdlib/complex-float32' );\n* var realf = require( '@stdlib/complex-realf' );\n* var imagf = require( '@stdlib/complex-imagf' );\n*\n* var arr = new Complex64Array( [ 1, 2, 3, 4 ] );\n*\n* setComplex64( arr, 1, new Complex64( 10.0, 11.0 ) );\n* var v = arr.get( 1 );\n* // returns <Complex64>\n*\n* var re = realf( v );\n* // returns 10.0\n*\n* var im = imagf( v );\n* // returns 11.0\n*/\nfunction setComplex64( arr, idx, value ) {\n\tarr.set( value, idx );\n}\n\n/**\n* Sets an element in an array-like object supporting the get/set protocol.\n*\n* @private\n* @param {Collection} arr - input array\n* @param {NonNegativeInteger} idx - element index\n* @param {(Collection|Complex|ComplexArray)} value - value(s)\n*\n* @example\n* var arr = [ 1, 2, 3, 4 ];\n*\n* function get( idx ) {\n*    return arr[ idx ];\n* }\n*\n* function set( value, idx ) {\n*    arr[ idx ] = value;\n* }\n*\n* arr.get = get;\n* arr.set = set;\n*\n* setArrayLike( arr, 2, 10 );\n*\n* var v = arr[ 2 ];\n* // returns 10\n*/\nfunction setArrayLike( arr, idx, value ) {\n\tarr.set( value, idx );\n}\n\n\n// MAIN //\n\n/**\n* Returns an accessor function for setting an element in an array-like object supporting the get/set protocol.\n*\n* @param {string} dtype - array dtype\n* @returns {Function} accessor\n*\n* @example\n* var Complex64Array = require( '@stdlib/array-complex64' );\n* var Complex64 = require( '@stdlib/complex-float32' );\n* var realf = require( '@stdlib/complex-realf' );\n* var imagf = require( '@stdlib/complex-imagf' );\n* var dtype = require( '@stdlib/array-dtype' );\n*\n* var arr = new Complex64Array( [ 1, 2, 3, 4 ] );\n*\n* var set = setter( dtype( arr ) );\n* set( arr, 1, new Complex64( 10.0, 11.0 ) );\n*\n* var v = arr.get( 1 );\n* // returns <Complex64>\n*\n* var re = realf( v );\n* // returns 10.0\n*\n* var im = imagf( v );\n* // returns 11.0\n*/\nfunction setter( dtype ) {\n\tvar f = SETTERS[ dtype ];\n\tif ( typeof f === 'function' ) {\n\t\treturn f;\n\t}\n\treturn SETTERS.default;\n}\n\n\n// EXPORTS //\n\nmodule.exports = setter;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2022 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n/**\n* Return an accessor function for setting an element in an array-like object supporting the get/set protocol.\n*\n* @module @stdlib/array-base-accessor-setter\n*\n* @example\n* var Complex64Array = require( '@stdlib/array-complex64' );\n* var Complex64 = require( '@stdlib/complex-float32' );\n* var realf = require( '@stdlib/complex-realf' );\n* var imagf = require( '@stdlib/complex-imagf' );\n* var dtype = require( '@stdlib/array-dtype' );\n* var setter = require( '@stdlib/array-base-accessor-setter' );\n*\n* var arr = new Complex64Array( [ 1, 2, 3, 4 ] );\n*\n* var set = setter( dtype( arr ) );\n* set( arr, 1, new Complex64( 10.0, 11.0 ) );\n*\n* var v = arr.get( 1 );\n* // returns <Complex64>\n*\n* var re = realf( v );\n* // returns 10.0\n*\n* var im = imagf( v );\n* // returns 11.0\n*/\n\n// MODULES //\n\nvar main = require( './main.js' );\n\n\n// EXPORTS //\n\nmodule.exports = main;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MAIN //\n\n// Mapping from array constructors to data types...\nvar ctor2dtypes = {\n\t'Float32Array': 'float32',\n\t'Float64Array': 'float64',\n\t'Array': 'generic',\n\t'Int16Array': 'int16',\n\t'Int32Array': 'int32',\n\t'Int8Array': 'int8',\n\t'Uint16Array': 'uint16',\n\t'Uint32Array': 'uint32',\n\t'Uint8Array': 'uint8',\n\t'Uint8ClampedArray': 'uint8c',\n\t'Complex64Array': 'complex64',\n\t'Complex128Array': 'complex128'\n};\n\n\n// EXPORTS //\n\nmodule.exports = ctor2dtypes;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nvar nativeClass = require( '@stdlib/utils-native-class' );\n\n\n// VARIABLES //\n\nvar hasFloat64Array = ( typeof Float64Array === 'function' ); // eslint-disable-line stdlib/require-globals\n\n\n// MAIN //\n\n/**\n* Tests if a value is a Float64Array.\n*\n* @param {*} value - value to test\n* @returns {boolean} boolean indicating whether value is a Float64Array\n*\n* @example\n* var bool = isFloat64Array( new Float64Array( 10 ) );\n* // returns true\n*\n* @example\n* var bool = isFloat64Array( [] );\n* // returns false\n*/\nfunction isFloat64Array( value ) {\n\treturn (\n\t\t( hasFloat64Array && value instanceof Float64Array ) || // eslint-disable-line stdlib/require-globals\n\t\tnativeClass( value ) === '[object Float64Array]'\n\t);\n}\n\n\n// EXPORTS //\n\nmodule.exports = isFloat64Array;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n/**\n* Test if a value is a Float64Array.\n*\n* @module @stdlib/assert-is-float64array\n*\n* @example\n* var isFloat64Array = require( '@stdlib/assert-is-float64array' );\n*\n* var bool = isFloat64Array( new Float64Array( 10 ) );\n* // returns true\n*\n* bool = isFloat64Array( [] );\n* // returns false\n*/\n\n// MODULES //\n\nvar isFloat64Array = require( './main.js' );\n\n\n// EXPORTS //\n\nmodule.exports = isFloat64Array;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MAIN //\n\nvar main = ( typeof Float64Array === 'function' ) ? Float64Array : null; // eslint-disable-line stdlib/require-globals\n\n\n// EXPORTS //\n\nmodule.exports = main;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nvar isFloat64Array = require( '@stdlib/assert-is-float64array' );\nvar GlobalFloat64Array = require( './float64array.js' );\n\n\n// MAIN //\n\n/**\n* Tests for native `Float64Array` support.\n*\n* @returns {boolean} boolean indicating if an environment has `Float64Array` support\n*\n* @example\n* var bool = hasFloat64ArraySupport();\n* // returns <boolean>\n*/\nfunction hasFloat64ArraySupport() {\n\tvar bool;\n\tvar arr;\n\n\tif ( typeof GlobalFloat64Array !== 'function' ) {\n\t\treturn false;\n\t}\n\t// Test basic support...\n\ttry {\n\t\tarr = new GlobalFloat64Array( [ 1.0, 3.14, -3.14, NaN ] );\n\t\tbool = (\n\t\t\tisFloat64Array( arr ) &&\n\t\t\tarr[ 0 ] === 1.0 &&\n\t\t\tarr[ 1 ] === 3.14 &&\n\t\t\tarr[ 2 ] === -3.14 &&\n\t\t\tarr[ 3 ] !== arr[ 3 ]\n\t\t);\n\t} catch ( err ) { // eslint-disable-line no-unused-vars\n\t\tbool = false;\n\t}\n\treturn bool;\n}\n\n\n// EXPORTS //\n\nmodule.exports = hasFloat64ArraySupport;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n/**\n* Test for native `Float64Array` support.\n*\n* @module @stdlib/assert-has-float64array-support\n*\n* @example\n* var hasFloat64ArraySupport = require( '@stdlib/assert-has-float64array-support' );\n*\n* var bool = hasFloat64ArraySupport();\n* // returns <boolean>\n*/\n\n// MODULES //\n\nvar hasFloat64ArraySupport = require( './main.js' );\n\n\n// EXPORTS //\n\nmodule.exports = hasFloat64ArraySupport;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MAIN //\n\nvar ctor = ( typeof Float64Array === 'function' ) ? Float64Array : void 0; // eslint-disable-line stdlib/require-globals\n\n\n// EXPORTS //\n\nmodule.exports = ctor;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// TODO: write polyfill\n\n// MAIN //\n\n/**\n* Typed array which represents an array of double-precision floating-point numbers in the platform byte order.\n*\n* @throws {Error} not implemented\n*/\nfunction polyfill() {\n\tthrow new Error( 'not implemented' );\n}\n\n\n// EXPORTS //\n\nmodule.exports = polyfill;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n/**\n* Typed array constructor which returns a typed array representing an array of double-precision floating-point numbers in the platform byte order.\n*\n* @module @stdlib/array-float64\n*\n* @example\n* var ctor = require( '@stdlib/array-float64' );\n*\n* var arr = new ctor( 10 );\n* // returns <Float64Array>\n*/\n\n// MODULES //\n\nvar hasFloat64ArraySupport = require( '@stdlib/assert-has-float64array-support' );\nvar builtin = require( './main.js' );\nvar polyfill = require( './polyfill.js' );\n\n\n// MAIN //\n\nvar ctor;\nif ( hasFloat64ArraySupport() ) {\n\tctor = builtin;\n} else {\n\tctor = polyfill;\n}\n\n\n// EXPORTS //\n\nmodule.exports = ctor;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nvar nativeClass = require( '@stdlib/utils-native-class' );\n\n\n// VARIABLES //\n\nvar hasFloat32Array = ( typeof Float32Array === 'function' ); // eslint-disable-line stdlib/require-globals\n\n\n// MAIN //\n\n/**\n* Tests if a value is a Float32Array.\n*\n* @param {*} value - value to test\n* @returns {boolean} boolean indicating whether value is a Float32Array\n*\n* @example\n* var bool = isFloat32Array( new Float32Array( 10 ) );\n* // returns true\n*\n* @example\n* var bool = isFloat32Array( [] );\n* // returns false\n*/\nfunction isFloat32Array( value ) {\n\treturn (\n\t\t( hasFloat32Array && value instanceof Float32Array ) || // eslint-disable-line stdlib/require-globals\n\t\tnativeClass( value ) === '[object Float32Array]'\n\t);\n}\n\n\n// EXPORTS //\n\nmodule.exports = isFloat32Array;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n/**\n* Test if a value is a Float32Array.\n*\n* @module @stdlib/assert-is-float32array\n*\n* @example\n* var isFloat32Array = require( '@stdlib/assert-is-float32array' );\n*\n* var bool = isFloat32Array( new Float32Array( 10 ) );\n* // returns true\n*\n* bool = isFloat32Array( [] );\n* // returns false\n*/\n\n// MODULES //\n\nvar isFloat32Array = require( './main.js' );\n\n\n// EXPORTS //\n\nmodule.exports = isFloat32Array;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MAIN //\n\nvar main = ( typeof Float32Array === 'function' ) ? Float32Array : null; // eslint-disable-line stdlib/require-globals\n\n\n// EXPORTS //\n\nmodule.exports = main;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nvar isFloat32Array = require( '@stdlib/assert-is-float32array' );\nvar PINF = require( '@stdlib/constants-float64-pinf' );\nvar GlobalFloat32Array = require( './float32array.js' );\n\n\n// MAIN //\n\n/**\n* Tests for native `Float32Array` support.\n*\n* @returns {boolean} boolean indicating if an environment has `Float32Array` support\n*\n* @example\n* var bool = hasFloat32ArraySupport();\n* // returns <boolean>\n*/\nfunction hasFloat32ArraySupport() {\n\tvar bool;\n\tvar arr;\n\n\tif ( typeof GlobalFloat32Array !== 'function' ) {\n\t\treturn false;\n\t}\n\t// Test basic support...\n\ttry {\n\t\tarr = new GlobalFloat32Array( [ 1.0, 3.14, -3.14, 5.0e40 ] );\n\t\tbool = (\n\t\t\tisFloat32Array( arr ) &&\n\t\t\tarr[ 0 ] === 1.0 &&\n\t\t\tarr[ 1 ] === 3.140000104904175 &&\n\t\t\tarr[ 2 ] === -3.140000104904175 &&\n\t\t\tarr[ 3 ] === PINF\n\t\t);\n\t} catch ( err ) { // eslint-disable-line no-unused-vars\n\t\tbool = false;\n\t}\n\treturn bool;\n}\n\n\n// EXPORTS //\n\nmodule.exports = hasFloat32ArraySupport;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n/**\n* Test for native `Float32Array` support.\n*\n* @module @stdlib/assert-has-float32array-support\n*\n* @example\n* var hasFloat32ArraySupport = require( '@stdlib/assert-has-float32array-support' );\n*\n* var bool = hasFloat32ArraySupport();\n* // returns <boolean>\n*/\n\n// MODULES //\n\nvar hasFloat32ArraySupport = require( './main.js' );\n\n\n// EXPORTS //\n\nmodule.exports = hasFloat32ArraySupport;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MAIN //\n\nvar ctor = ( typeof Float32Array === 'function' ) ? Float32Array : void 0; // eslint-disable-line stdlib/require-globals\n\n\n// EXPORTS //\n\nmodule.exports = ctor;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// TODO: write polyfill\n\n// MAIN //\n\n/**\n* Typed array which represents an array of single-precision floating-point numbers in the platform byte order.\n*\n* @throws {Error} not implemented\n*/\nfunction polyfill() {\n\tthrow new Error( 'not implemented' );\n}\n\n\n// EXPORTS //\n\nmodule.exports = polyfill;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n/**\n* Typed array constructor which returns a typed array representing an array of single-precision floating-point numbers in the platform byte order.\n*\n* @module @stdlib/array-float32\n*\n* @example\n* var ctor = require( '@stdlib/array-float32' );\n*\n* var arr = new ctor( 10 );\n* // returns <Float32Array>\n*/\n\n// MODULES //\n\nvar hasFloat32ArraySupport = require( '@stdlib/assert-has-float32array-support' );\nvar builtin = require( './main.js' );\nvar polyfill = require( './polyfill.js' );\n\n\n// MAIN //\n\nvar ctor;\nif ( hasFloat32ArraySupport() ) {\n\tctor = builtin;\n} else {\n\tctor = polyfill;\n}\n\n\n// EXPORTS //\n\nmodule.exports = ctor;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nvar nativeClass = require( '@stdlib/utils-native-class' );\n\n\n// VARIABLES //\n\nvar hasInt32Array = ( typeof Int32Array === 'function' ); // eslint-disable-line stdlib/require-globals\n\n\n// MAIN //\n\n/**\n* Tests if a value is an Int32Array.\n*\n* @param {*} value - value to test\n* @returns {boolean} boolean indicating whether value is an Int32Array\n*\n* @example\n* var bool = isInt32Array( new Int32Array( 10 ) );\n* // returns true\n*\n* @example\n* var bool = isInt32Array( [] );\n* // returns false\n*/\nfunction isInt32Array( value ) {\n\treturn (\n\t\t( hasInt32Array && value instanceof Int32Array ) || // eslint-disable-line stdlib/require-globals\n\t\tnativeClass( value ) === '[object Int32Array]'\n\t);\n}\n\n\n// EXPORTS //\n\nmodule.exports = isInt32Array;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n/**\n* Test if a value is an Int32Array.\n*\n* @module @stdlib/assert-is-int32array\n*\n* @example\n* var isInt32Array = require( '@stdlib/assert-is-int32array' );\n*\n* var bool = isInt32Array( new Int32Array( 10 ) );\n* // returns true\n*\n* bool = isInt32Array( [] );\n* // returns false\n*/\n\n// MODULES //\n\nvar isInt32Array = require( './main.js' );\n\n\n// EXPORTS //\n\nmodule.exports = isInt32Array;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n/**\n* Maximum signed 32-bit integer.\n*\n* @module @stdlib/constants-int32-max\n* @type {integer32}\n*\n* @example\n* var INT32_MAX = require( '@stdlib/constants-int32-max' );\n* // returns 2147483647\n*/\n\n\n// MAIN //\n\n/**\n* Maximum signed 32-bit integer.\n*\n* ## Notes\n*\n* The number has the value\n*\n* ```tex\n* 2^{31} - 1\n* ```\n*\n* which corresponds to the bit sequence\n*\n* ```binarystring\n* 01111111111111111111111111111111\n* ```\n*\n* @constant\n* @type {integer32}\n* @default 2147483647\n*/\nvar INT32_MAX = 2147483647|0; // asm type annotation\n\n\n// EXPORTS //\n\nmodule.exports = INT32_MAX;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n/**\n* Minimum signed 32-bit integer.\n*\n* @module @stdlib/constants-int32-min\n* @type {integer32}\n*\n* @example\n* var INT32_MIN = require( '@stdlib/constants-int32-min' );\n* // returns -2147483648\n*/\n\n\n// MAIN //\n\n/**\n* Minimum signed 32-bit integer.\n*\n* ## Notes\n*\n* The number has the value\n*\n* ```tex\n* -(2^{31})\n* ```\n*\n* which corresponds to the two's complement bit sequence\n*\n* ```binarystring\n* 10000000000000000000000000000000\n* ```\n*\n* @constant\n* @type {integer32}\n* @default -2147483648\n*/\nvar INT32_MIN = -2147483648|0; // asm type annotation\n\n\n// EXPORTS //\n\nmodule.exports = INT32_MIN;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MAIN //\n\nvar main = ( typeof Int32Array === 'function' ) ? Int32Array : null; // eslint-disable-line stdlib/require-globals\n\n\n// EXPORTS //\n\nmodule.exports = main;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nvar isInt32Array = require( '@stdlib/assert-is-int32array' );\nvar INT32_MAX = require( '@stdlib/constants-int32-max' );\nvar INT32_MIN = require( '@stdlib/constants-int32-min' );\nvar GlobalInt32Array = require( './int32array.js' );\n\n\n// MAIN //\n\n/**\n* Tests for native `Int32Array` support.\n*\n* @returns {boolean} boolean indicating if an environment has `Int32Array` support\n*\n* @example\n* var bool = hasInt32ArraySupport();\n* // returns <boolean>\n*/\nfunction hasInt32ArraySupport() {\n\tvar bool;\n\tvar arr;\n\n\tif ( typeof GlobalInt32Array !== 'function' ) {\n\t\treturn false;\n\t}\n\t// Test basic support...\n\ttry {\n\t\tarr = new GlobalInt32Array( [ 1, 3.14, -3.14, INT32_MAX+1 ] );\n\t\tbool = (\n\t\t\tisInt32Array( arr ) &&\n\t\t\tarr[ 0 ] === 1 &&\n\t\t\tarr[ 1 ] === 3 &&      // truncation\n\t\t\tarr[ 2 ] === -3 &&     // truncation\n\t\t\tarr[ 3 ] === INT32_MIN // wrap around\n\t\t);\n\t} catch ( err ) { // eslint-disable-line no-unused-vars\n\t\tbool = false;\n\t}\n\treturn bool;\n}\n\n\n// EXPORTS //\n\nmodule.exports = hasInt32ArraySupport;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n/**\n* Test for native `Int32Array` support.\n*\n* @module @stdlib/assert-has-int32array-support\n*\n* @example\n* var hasInt32ArraySupport = require( '@stdlib/assert-has-int32array-support' );\n*\n* var bool = hasInt32ArraySupport();\n* // returns <boolean>\n*/\n\n// MODULES //\n\nvar hasInt32ArraySupport = require( './main.js' );\n\n\n// EXPORTS //\n\nmodule.exports = hasInt32ArraySupport;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MAIN //\n\nvar ctor = ( typeof Int32Array === 'function' ) ? Int32Array : void 0; // eslint-disable-line stdlib/require-globals\n\n\n// EXPORTS //\n\nmodule.exports = ctor;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// TODO: write polyfill\n\n// MAIN //\n\n/**\n* Typed array which represents an array of twos-complement 32-bit signed integers in the platform byte order.\n*\n* @throws {Error} not implemented\n*/\nfunction polyfill() {\n\tthrow new Error( 'not implemented' );\n}\n\n\n// EXPORTS //\n\nmodule.exports = polyfill;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n/**\n* Typed array constructor which returns a typed array representing an array of twos-complement 32-bit signed integers in the platform byte order.\n*\n* @module @stdlib/array-int32\n*\n* @example\n* var ctor = require( '@stdlib/array-int32' );\n*\n* var arr = new ctor( 10 );\n* // returns <Int32Array>\n*/\n\n// MODULES //\n\nvar hasInt32ArraySupport = require( '@stdlib/assert-has-int32array-support' );\nvar builtin = require( './main.js' );\nvar polyfill = require( './polyfill.js' );\n\n\n// MAIN //\n\nvar ctor;\nif ( hasInt32ArraySupport() ) {\n\tctor = builtin;\n} else {\n\tctor = polyfill;\n}\n\n\n// EXPORTS //\n\nmodule.exports = ctor;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nvar nativeClass = require( '@stdlib/utils-native-class' );\n\n\n// VARIABLES //\n\nvar hasUint16Array = ( typeof Uint16Array === 'function' ); // eslint-disable-line stdlib/require-globals\n\n\n// MAIN //\n\n/**\n* Tests if a value is a Uint16Array.\n*\n* @param {*} value - value to test\n* @returns {boolean} boolean indicating whether value is a Uint16Array\n*\n* @example\n* var bool = isUint16Array( new Uint16Array( 10 ) );\n* // returns true\n*\n* @example\n* var bool = isUint16Array( [] );\n* // returns false\n*/\nfunction isUint16Array( value ) {\n\treturn (\n\t\t( hasUint16Array && value instanceof Uint16Array ) || // eslint-disable-line stdlib/require-globals\n\t\tnativeClass( value ) === '[object Uint16Array]'\n\t);\n}\n\n\n// EXPORTS //\n\nmodule.exports = isUint16Array;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n/**\n* Test if a value is a Uint16Array.\n*\n* @module @stdlib/assert-is-uint16array\n*\n* @example\n* var isUint16Array = require( '@stdlib/assert-is-uint16array' );\n*\n* var bool = isUint16Array( new Uint16Array( 10 ) );\n* // returns true\n*\n* bool = isUint16Array( [] );\n* // returns false\n*/\n\n// MODULES //\n\nvar isUint16Array = require( './main.js' );\n\n\n// EXPORTS //\n\nmodule.exports = isUint16Array;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n/**\n* Maximum unsigned 16-bit integer.\n*\n* @module @stdlib/constants-uint16-max\n* @type {integer32}\n*\n* @example\n* var UINT16_MAX = require( '@stdlib/constants-uint16-max' );\n* // returns 65535\n*/\n\n\n// MAIN //\n\n/**\n* Maximum unsigned 16-bit integer.\n*\n* ## Notes\n*\n* The number has the value\n*\n* ```tex\n* 2^{16} - 1\n* ```\n*\n* which corresponds to the bit sequence\n*\n* ```binarystring\n* 1111111111111111\n* ```\n*\n* @constant\n* @type {integer32}\n* @default 65535\n*/\nvar UINT16_MAX = 65535|0; // asm type annotation\n\n\n// EXPORTS //\n\nmodule.exports = UINT16_MAX;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MAIN //\n\nvar main = ( typeof Uint16Array === 'function' ) ? Uint16Array : null; // eslint-disable-line stdlib/require-globals\n\n\n// EXPORTS //\n\nmodule.exports = main;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nvar isUint16Array = require( '@stdlib/assert-is-uint16array' );\nvar UINT16_MAX = require( '@stdlib/constants-uint16-max' );\nvar GlobalUint16Array = require( './uint16array.js' );\n\n\n// MAIN //\n\n/**\n* Tests for native `Uint16Array` support.\n*\n* @returns {boolean} boolean indicating if an environment has `Uint16Array` support\n*\n* @example\n* var bool = hasUint16ArraySupport();\n* // returns <boolean>\n*/\nfunction hasUint16ArraySupport() {\n\tvar bool;\n\tvar arr;\n\n\tif ( typeof GlobalUint16Array !== 'function' ) {\n\t\treturn false;\n\t}\n\t// Test basic support...\n\ttry {\n\t\tarr = [ 1, 3.14, -3.14, UINT16_MAX+1, UINT16_MAX+2 ];\n\t\tarr = new GlobalUint16Array( arr );\n\t\tbool = (\n\t\t\tisUint16Array( arr ) &&\n\t\t\tarr[ 0 ] === 1 &&\n\t\t\tarr[ 1 ] === 3 &&            // truncation\n\t\t\tarr[ 2 ] === UINT16_MAX-2 && // truncation and wrap around\n\t\t\tarr[ 3 ] === 0 &&            // wrap around\n\t\t\tarr[ 4 ] === 1               // wrap around\n\t\t);\n\t} catch ( err ) { // eslint-disable-line no-unused-vars\n\t\tbool = false;\n\t}\n\treturn bool;\n}\n\n\n// EXPORTS //\n\nmodule.exports = hasUint16ArraySupport;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n/**\n* Test for native `Uint16Array` support.\n*\n* @module @stdlib/assert-has-uint16array-support\n*\n* @example\n* var hasUint16ArraySupport = require( '@stdlib/assert-has-uint16array-support' );\n*\n* var bool = hasUint16ArraySupport();\n* // returns <boolean>\n*/\n\n// MODULES //\n\nvar hasUint16ArraySupport = require( './main.js' );\n\n\n// EXPORTS //\n\nmodule.exports = hasUint16ArraySupport;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MAIN //\n\nvar ctor = ( typeof Uint16Array === 'function' ) ? Uint16Array : void 0; // eslint-disable-line stdlib/require-globals\n\n\n// EXPORTS //\n\nmodule.exports = ctor;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// TODO: write polyfill\n\n// MAIN //\n\n/**\n* Typed array which represents an array of 16-bit unsigned integers in the platform byte order.\n*\n* @throws {Error} not implemented\n*/\nfunction polyfill() {\n\tthrow new Error( 'not implemented' );\n}\n\n\n// EXPORTS //\n\nmodule.exports = polyfill;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n/**\n* Typed array constructor which returns a typed array representing an array of 16-bit unsigned integers in the platform byte order.\n*\n* @module @stdlib/array-uint16\n*\n* @example\n* var ctor = require( '@stdlib/array-uint16' );\n*\n* var arr = new ctor( 10 );\n* // returns <Uint16Array>\n*/\n\n// MODULES //\n\nvar hasUint16ArraySupport = require( '@stdlib/assert-has-uint16array-support' );\nvar builtin = require( './main.js' );\nvar polyfill = require( './polyfill.js' );\n\n\n// MAIN //\n\nvar ctor;\nif ( hasUint16ArraySupport() ) {\n\tctor = builtin;\n} else {\n\tctor = polyfill;\n}\n\n\n// EXPORTS //\n\nmodule.exports = ctor;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nvar nativeClass = require( '@stdlib/utils-native-class' );\n\n\n// VARIABLES //\n\nvar hasInt16Array = ( typeof Int16Array === 'function' ); // eslint-disable-line stdlib/require-globals\n\n\n// MAIN //\n\n/**\n* Tests if a value is an Int16Array.\n*\n* @param {*} value - value to test\n* @returns {boolean} boolean indicating whether value is an Int16Array\n*\n* @example\n* var bool = isInt16Array( new Int16Array( 10 ) );\n* // returns true\n*\n* @example\n* var bool = isInt16Array( [] );\n* // returns false\n*/\nfunction isInt16Array( value ) {\n\treturn (\n\t\t( hasInt16Array && value instanceof Int16Array ) || // eslint-disable-line stdlib/require-globals\n\t\tnativeClass( value ) === '[object Int16Array]'\n\t);\n}\n\n\n// EXPORTS //\n\nmodule.exports = isInt16Array;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n/**\n* Test if a value is an Int16Array.\n*\n* @module @stdlib/assert-is-int16array\n*\n* @example\n* var isInt16Array = require( '@stdlib/assert-is-int16array' );\n*\n* var bool = isInt16Array( new Int16Array( 10 ) );\n* // returns true\n*\n* bool = isInt16Array( [] );\n* // returns false\n*/\n\n// MODULES //\n\nvar isInt16Array = require( './main.js' );\n\n\n// EXPORTS //\n\nmodule.exports = isInt16Array;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n/**\n* Maximum signed 16-bit integer.\n*\n* @module @stdlib/constants-int16-max\n* @type {integer32}\n*\n* @example\n* var INT16_MAX = require( '@stdlib/constants-int16-max' );\n* // returns 32767\n*/\n\n\n// MAIN //\n\n/**\n* Maximum signed 16-bit integer.\n*\n* ## Notes\n*\n* The number has the value\n*\n* ```tex\n* 2^{15} - 1\n* ```\n*\n* which corresponds to the bit sequence\n*\n* ```binarystring\n* 0111111111111111\n* ```\n*\n* @constant\n* @type {integer32}\n* @default 32767\n*/\nvar INT16_MAX = 32767|0; // asm type annotation\n\n\n// EXPORTS //\n\nmodule.exports = INT16_MAX;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n/**\n* Minimum signed 16-bit integer.\n*\n* @module @stdlib/constants-int16-min\n* @type {integer32}\n*\n* @example\n* var INT16_MIN = require( '@stdlib/constants-int16-min' );\n* // returns -32768\n*/\n\n\n// MAIN //\n\n/**\n* Minimum signed 16-bit integer.\n*\n* ## Notes\n*\n* The number has the value\n*\n* ```tex\n* -(2^{15})\n* ```\n*\n* which corresponds to the two's complement bit sequence\n*\n* ```binarystring\n* 1000000000000000\n* ```\n*\n* @constant\n* @type {integer32}\n* @default -32768\n*/\nvar INT16_MIN = -32768|0; // asm type annotation\n\n\n// EXPORTS //\n\nmodule.exports = INT16_MIN;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MAIN //\n\nvar main = ( typeof Int16Array === 'function' ) ? Int16Array : null; // eslint-disable-line stdlib/require-globals\n\n\n// EXPORTS //\n\nmodule.exports = main;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nvar isInt16Array = require( '@stdlib/assert-is-int16array' );\nvar INT16_MAX = require( '@stdlib/constants-int16-max' );\nvar INT16_MIN = require( '@stdlib/constants-int16-min' );\nvar GlobalInt16Array = require( './int16array.js' );\n\n\n// MAIN //\n\n/**\n* Tests for native `Int16Array` support.\n*\n* @returns {boolean} boolean indicating if an environment has `Int16Array` support\n*\n* @example\n* var bool = hasInt16ArraySupport();\n* // returns <boolean>\n*/\nfunction hasInt16ArraySupport() {\n\tvar bool;\n\tvar arr;\n\n\tif ( typeof GlobalInt16Array !== 'function' ) {\n\t\treturn false;\n\t}\n\t// Test basic support...\n\ttry {\n\t\tarr = new GlobalInt16Array( [ 1, 3.14, -3.14, INT16_MAX+1 ] );\n\t\tbool = (\n\t\t\tisInt16Array( arr ) &&\n\t\t\tarr[ 0 ] === 1 &&\n\t\t\tarr[ 1 ] === 3 &&      // truncation\n\t\t\tarr[ 2 ] === -3 &&     // truncation\n\t\t\tarr[ 3 ] === INT16_MIN // wrap around\n\t\t);\n\t} catch ( err ) { // eslint-disable-line no-unused-vars\n\t\tbool = false;\n\t}\n\treturn bool;\n}\n\n\n// EXPORTS //\n\nmodule.exports = hasInt16ArraySupport;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n/**\n* Test for native `Int16Array` support.\n*\n* @module @stdlib/assert-has-int16array-support\n*\n* @example\n* var hasInt16ArraySupport = require( '@stdlib/assert-has-int16array-support' );\n*\n* var bool = hasInt16ArraySupport();\n* // returns <boolean>\n*/\n\n// MODULES //\n\nvar hasInt16ArraySupport = require( './main.js' );\n\n\n// EXPORTS //\n\nmodule.exports = hasInt16ArraySupport;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MAIN //\n\nvar ctor = ( typeof Int16Array === 'function' ) ? Int16Array : void 0; // eslint-disable-line stdlib/require-globals\n\n\n// EXPORTS //\n\nmodule.exports = ctor;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// TODO: write polyfill\n\n// MAIN //\n\n/**\n* Typed array which represents an array of twos-complement 16-bit signed integers in the platform byte order.\n*\n* @throws {Error} not implemented\n*/\nfunction polyfill() {\n\tthrow new Error( 'not implemented' );\n}\n\n\n// EXPORTS //\n\nmodule.exports = polyfill;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n/**\n* Typed array constructor which returns a typed array representing an array of twos-complement 16-bit signed integers in the platform byte order.\n*\n* @module @stdlib/array-int16\n*\n* @example\n* var ctor = require( '@stdlib/array-int16' );\n*\n* var arr = new ctor( 10 );\n* // returns <Int16Array>\n*/\n\n// MODULES //\n\nvar hasInt16ArraySupport = require( '@stdlib/assert-has-int16array-support' );\nvar builtin = require( './main.js' );\nvar polyfill = require( './polyfill.js' );\n\n\n// MAIN //\n\nvar ctor;\nif ( hasInt16ArraySupport() ) {\n\tctor = builtin;\n} else {\n\tctor = polyfill;\n}\n\n\n// EXPORTS //\n\nmodule.exports = ctor;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nvar nativeClass = require( '@stdlib/utils-native-class' );\n\n\n// VARIABLES //\n\nvar hasUint8Array = ( typeof Uint8Array === 'function' ); // eslint-disable-line stdlib/require-globals\n\n\n// MAIN //\n\n/**\n* Tests if a value is a Uint8Array.\n*\n* @param {*} value - value to test\n* @returns {boolean} boolean indicating whether value is a Uint8Array\n*\n* @example\n* var bool = isUint8Array( new Uint8Array( 10 ) );\n* // returns true\n*\n* @example\n* var bool = isUint8Array( [] );\n* // returns false\n*/\nfunction isUint8Array( value ) {\n\treturn (\n\t\t( hasUint8Array && value instanceof Uint8Array ) || // eslint-disable-line stdlib/require-globals\n\t\tnativeClass( value ) === '[object Uint8Array]'\n\t);\n}\n\n\n// EXPORTS //\n\nmodule.exports = isUint8Array;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n/**\n* Test if a value is a Uint8Array.\n*\n* @module @stdlib/assert-is-uint8array\n*\n* @example\n* var isUint8Array = require( '@stdlib/assert-is-uint8array' );\n*\n* var bool = isUint8Array( new Uint8Array( 10 ) );\n* // returns true\n*\n* bool = isUint8Array( [] );\n* // returns false\n*/\n\n// MODULES //\n\nvar isUint8Array = require( './main.js' );\n\n\n// EXPORTS //\n\nmodule.exports = isUint8Array;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n/**\n* Maximum unsigned 8-bit integer.\n*\n* @module @stdlib/constants-uint8-max\n* @type {integer32}\n*\n* @example\n* var UINT8_MAX = require( '@stdlib/constants-uint8-max' );\n* // returns 255\n*/\n\n\n// MAIN //\n\n/**\n* Maximum unsigned 8-bit integer.\n*\n* ## Notes\n*\n* The number has the value\n*\n* ```tex\n* 2^{8} - 1\n* ```\n*\n* which corresponds to the bit sequence\n*\n* ```binarystring\n* 11111111\n* ```\n*\n* @constant\n* @type {integer32}\n* @default 255\n*/\nvar UINT8_MAX = 255|0; // asm type annotation\n\n\n// EXPORTS //\n\nmodule.exports = UINT8_MAX;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MAIN //\n\nvar main = ( typeof Uint8Array === 'function' ) ? Uint8Array : null; // eslint-disable-line stdlib/require-globals\n\n\n// EXPORTS //\n\nmodule.exports = main;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nvar isUint8Array = require( '@stdlib/assert-is-uint8array' );\nvar UINT8_MAX = require( '@stdlib/constants-uint8-max' );\nvar GlobalUint8Array = require( './uint8array.js' );\n\n\n// MAIN //\n\n/**\n* Tests for native `Uint8Array` support.\n*\n* @returns {boolean} boolean indicating if an environment has `Uint8Array` support\n*\n* @example\n* var bool = hasUint8ArraySupport();\n* // returns <boolean>\n*/\nfunction hasUint8ArraySupport() {\n\tvar bool;\n\tvar arr;\n\n\tif ( typeof GlobalUint8Array !== 'function' ) {\n\t\treturn false;\n\t}\n\t// Test basic support...\n\ttry {\n\t\tarr = [ 1, 3.14, -3.14, UINT8_MAX+1, UINT8_MAX+2 ];\n\t\tarr = new GlobalUint8Array( arr );\n\t\tbool = (\n\t\t\tisUint8Array( arr ) &&\n\t\t\tarr[ 0 ] === 1 &&\n\t\t\tarr[ 1 ] === 3 &&           // truncation\n\t\t\tarr[ 2 ] === UINT8_MAX-2 && // truncation and wrap around\n\t\t\tarr[ 3 ] === 0 &&           // wrap around\n\t\t\tarr[ 4 ] === 1              // wrap around\n\t\t);\n\t} catch ( err ) { // eslint-disable-line no-unused-vars\n\t\tbool = false;\n\t}\n\treturn bool;\n}\n\n\n// EXPORTS //\n\nmodule.exports = hasUint8ArraySupport;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n/**\n* Test for native `Uint8Array` support.\n*\n* @module @stdlib/assert-has-uint8array-support\n*\n* @example\n* var hasUint8ArraySupport = require( '@stdlib/assert-has-uint8array-support' );\n*\n* var bool = hasUint8ArraySupport();\n* // returns <boolean>\n*/\n\n// MODULES //\n\nvar hasUint8ArraySupport = require( './main.js' );\n\n\n// EXPORTS //\n\nmodule.exports = hasUint8ArraySupport;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MAIN //\n\nvar ctor = ( typeof Uint8Array === 'function' ) ? Uint8Array : void 0; // eslint-disable-line stdlib/require-globals\n\n\n// EXPORTS //\n\nmodule.exports = ctor;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// TODO: write polyfill\n\n// MAIN //\n\n/**\n* Typed array which represents an array of 8-bit unsigned integers in the platform byte order.\n*\n* @throws {Error} not implemented\n*/\nfunction polyfill() {\n\tthrow new Error( 'not implemented' );\n}\n\n\n// EXPORTS //\n\nmodule.exports = polyfill;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n/**\n* Typed array constructor which returns a typed array representing an array of 8-bit unsigned integers in the platform byte order.\n*\n* @module @stdlib/array-uint8\n*\n* @example\n* var ctor = require( '@stdlib/array-uint8' );\n*\n* var arr = new ctor( 10 );\n* // returns <Uint8Array>\n*/\n\n// MODULES //\n\nvar hasUint8ArraySupport = require( '@stdlib/assert-has-uint8array-support' );\nvar builtin = require( './main.js' );\nvar polyfill = require( './polyfill.js' );\n\n\n// MAIN //\n\nvar ctor;\nif ( hasUint8ArraySupport() ) {\n\tctor = builtin;\n} else {\n\tctor = polyfill;\n}\n\n\n// EXPORTS //\n\nmodule.exports = ctor;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nvar nativeClass = require( '@stdlib/utils-native-class' );\n\n\n// VARIABLES //\n\nvar hasUint8ClampedArray = ( typeof Uint8ClampedArray === 'function' ); // eslint-disable-line stdlib/require-globals\n\n\n// MAIN //\n\n/**\n* Tests if a value is a Uint8ClampedArray.\n*\n* @param {*} value - value to test\n* @returns {boolean} boolean indicating whether value is a Uint8ClampedArray\n*\n* @example\n* var bool = isUint8ClampedArray( new Uint8ClampedArray( 10 ) );\n* // returns true\n*\n* @example\n* var bool = isUint8ClampedArray( [] );\n* // returns false\n*/\nfunction isUint8ClampedArray( value ) {\n\treturn (\n\t\t( hasUint8ClampedArray && value instanceof Uint8ClampedArray ) || // eslint-disable-line stdlib/require-globals\n\t\tnativeClass( value ) === '[object Uint8ClampedArray]'\n\t);\n}\n\n\n// EXPORTS //\n\nmodule.exports = isUint8ClampedArray;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n/**\n* Test if a value is a Uint8ClampedArray.\n*\n* @module @stdlib/assert-is-uint8clampedarray\n*\n* @example\n* var isUint8ClampedArray = require( '@stdlib/assert-is-uint8clampedarray' );\n*\n* var bool = isUint8ClampedArray( new Uint8ClampedArray( 10 ) );\n* // returns true\n*\n* bool = isUint8ClampedArray( [] );\n* // returns false\n*/\n\n// MODULES //\n\nvar isUint8ClampedArray = require( './main.js' );\n\n\n// EXPORTS //\n\nmodule.exports = isUint8ClampedArray;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MAIN //\n\nvar main = ( typeof Uint8ClampedArray === 'function' ) ? Uint8ClampedArray : null; // eslint-disable-line stdlib/require-globals\n\n\n// EXPORTS //\n\nmodule.exports = main;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nvar isUint8ClampedArray = require( '@stdlib/assert-is-uint8clampedarray' );\nvar GlobalUint8ClampedArray = require( './uint8clampedarray.js' );\n\n\n// MAIN //\n\n/**\n* Tests for native `Uint8ClampedArray` support.\n*\n* @returns {boolean} boolean indicating if an environment has `Uint8ClampedArray` support\n*\n* @example\n* var bool = hasUint8ClampedArraySupport();\n* // returns <boolean>\n*/\nfunction hasUint8ClampedArraySupport() { // eslint-disable-line id-length\n\tvar bool;\n\tvar arr;\n\n\tif ( typeof GlobalUint8ClampedArray !== 'function' ) {\n\t\treturn false;\n\t}\n\t// Test basic support...\n\ttry {\n\t\tarr = new GlobalUint8ClampedArray( [ -1, 0, 1, 3.14, 4.99, 255, 256 ] );\n\t\tbool = (\n\t\t\tisUint8ClampedArray( arr ) &&\n\t\t\tarr[ 0 ] === 0 &&   // clamped\n\t\t\tarr[ 1 ] === 0 &&\n\t\t\tarr[ 2 ] === 1 &&\n\t\t\tarr[ 3 ] === 3 &&   // round to nearest\n\t\t\tarr[ 4 ] === 5 &&   // round to nearest\n\t\t\tarr[ 5 ] === 255 &&\n\t\t\tarr[ 6 ] === 255    // clamped\n\t\t);\n\t} catch ( err ) { // eslint-disable-line no-unused-vars\n\t\tbool = false;\n\t}\n\treturn bool;\n}\n\n\n// EXPORTS //\n\nmodule.exports = hasUint8ClampedArraySupport;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n/**\n* Test for native `Uint8ClampedArray` support.\n*\n* @module @stdlib/assert-has-uint8clampedarray-support\n*\n* @example\n* var hasUint8ClampedArraySupport = require( '@stdlib/assert-has-uint8clampedarray-support' );\n*\n* var bool = hasUint8ClampedArraySupport();\n* // returns <boolean>\n*/\n\n// MODULES //\n\nvar hasUint8ClampedArraySupport = require( './main.js' );\n\n\n// EXPORTS //\n\nmodule.exports = hasUint8ClampedArraySupport;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MAIN //\n\nvar ctor = ( typeof Uint8ClampedArray === 'function' ) ? Uint8ClampedArray : void 0; // eslint-disable-line stdlib/require-globals\n\n\n// EXPORTS //\n\nmodule.exports = ctor;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// TODO: write polyfill\n\n// MAIN //\n\n/**\n* Typed array which represents an array of 8-bit unsigned integers in the platform byte order clamped to 0-255.\n*\n* @throws {Error} not implemented\n*/\nfunction polyfill() {\n\tthrow new Error( 'not implemented' );\n}\n\n\n// EXPORTS //\n\nmodule.exports = polyfill;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n/**\n* Typed array constructor which returns a typed array representing an array of 8-bit unsigned integers in the platform byte order clamped to 0-255.\n*\n* @module @stdlib/array-uint8c\n*\n* @example\n* var ctor = require( '@stdlib/array-uint8c' );\n*\n* var arr = new ctor( 10 );\n* // returns <Uint8ClampedArray>\n*/\n\n// MODULES //\n\nvar hasUint8ClampedArraySupport = require( '@stdlib/assert-has-uint8clampedarray-support' ); // eslint-disable-line id-length\nvar builtin = require( './main.js' );\nvar polyfill = require( './polyfill.js' );\n\n\n// MAIN //\n\nvar ctor;\nif ( hasUint8ClampedArraySupport() ) {\n\tctor = builtin;\n} else {\n\tctor = polyfill;\n}\n\n\n// EXPORTS //\n\nmodule.exports = ctor;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nvar nativeClass = require( '@stdlib/utils-native-class' );\n\n\n// VARIABLES //\n\nvar hasInt8Array = ( typeof Int8Array === 'function' ); // eslint-disable-line stdlib/require-globals\n\n\n// MAIN //\n\n/**\n* Tests if a value is an Int8Array.\n*\n* @param {*} value - value to test\n* @returns {boolean} boolean indicating whether value is an Int8Array\n*\n* @example\n* var bool = isInt8Array( new Int8Array( 10 ) );\n* // returns true\n*\n* @example\n* var bool = isInt8Array( [] );\n* // returns false\n*/\nfunction isInt8Array( value ) {\n\treturn (\n\t\t( hasInt8Array && value instanceof Int8Array ) || // eslint-disable-line stdlib/require-globals\n\t\tnativeClass( value ) === '[object Int8Array]'\n\t);\n}\n\n\n// EXPORTS //\n\nmodule.exports = isInt8Array;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n/**\n* Test if a value is an Int8Array.\n*\n* @module @stdlib/assert-is-int8array\n*\n* @example\n* var isInt8Array = require( '@stdlib/assert-is-int8array' );\n*\n* var bool = isInt8Array( new Int8Array( 10 ) );\n* // returns true\n*\n* bool = isInt8Array( [] );\n* // returns false\n*/\n\n// MODULES //\n\nvar isInt8Array = require( './main.js' );\n\n\n// EXPORTS //\n\nmodule.exports = isInt8Array;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n/**\n* Maximum signed 8-bit integer.\n*\n* @module @stdlib/constants-int8-max\n* @type {integer32}\n*\n* @example\n* var INT8_MAX = require( '@stdlib/constants-int8-max' );\n* // returns 127\n*/\n\n\n// MAIN //\n\n/**\n* Maximum signed 8-bit integer.\n*\n* ## Notes\n*\n* The number is given by\n*\n* ```tex\n* 2^{7} - 1\n* ```\n*\n* which corresponds to the bit sequence\n*\n* ```binarystring\n* 01111111\n* ```\n*\n* @constant\n* @type {integer32}\n* @default 127\n*/\nvar INT8_MAX = 127|0; // asm type annotation\n\n\n// EXPORTS //\n\nmodule.exports = INT8_MAX;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n/**\n* Minimum signed 8-bit integer.\n*\n* @module @stdlib/constants-int8-min\n* @type {integer32}\n*\n* @example\n* var INT8_MIN = require( '@stdlib/constants-int8-min' );\n* // returns -128\n*/\n\n\n// MAIN //\n\n/**\n* Minimum signed 8-bit integer.\n*\n* ## Notes\n*\n* The number is given by\n*\n* ```tex\n* -(2^{7})\n* ```\n*\n* which corresponds to the two's complement bit sequence\n*\n* ```binarystring\n* 10000000\n* ```\n*\n* @constant\n* @type {integer32}\n* @default -128\n*/\nvar INT8_MIN = -128|0; // asm type annotation\n\n\n// EXPORTS //\n\nmodule.exports = INT8_MIN;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MAIN //\n\nvar main = ( typeof Int8Array === 'function' ) ? Int8Array : null; // eslint-disable-line stdlib/require-globals\n\n\n// EXPORTS //\n\nmodule.exports = main;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nvar isInt8Array = require( '@stdlib/assert-is-int8array' );\nvar INT8_MAX = require( '@stdlib/constants-int8-max' );\nvar INT8_MIN = require( '@stdlib/constants-int8-min' );\nvar GlobalInt8Array = require( './int8array.js' );\n\n\n// MAIN //\n\n/**\n* Tests for native `Int8Array` support.\n*\n* @returns {boolean} boolean indicating if an environment has `Int8Array` support\n*\n* @example\n* var bool = hasInt8ArraySupport();\n* // returns <boolean>\n*/\nfunction hasInt8ArraySupport() {\n\tvar bool;\n\tvar arr;\n\n\tif ( typeof GlobalInt8Array !== 'function' ) {\n\t\treturn false;\n\t}\n\t// Test basic support...\n\ttry {\n\t\tarr = new GlobalInt8Array( [ 1, 3.14, -3.14, INT8_MAX+1 ] );\n\t\tbool = (\n\t\t\tisInt8Array( arr ) &&\n\t\t\tarr[ 0 ] === 1 &&\n\t\t\tarr[ 1 ] === 3 &&     // truncation\n\t\t\tarr[ 2 ] === -3 &&    // truncation\n\t\t\tarr[ 3 ] === INT8_MIN // wrap around\n\t\t);\n\t} catch ( err ) { // eslint-disable-line no-unused-vars\n\t\tbool = false;\n\t}\n\treturn bool;\n}\n\n\n// EXPORTS //\n\nmodule.exports = hasInt8ArraySupport;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n/**\n* Test for native `Int8Array` support.\n*\n* @module @stdlib/assert-has-int8array-support\n*\n* @example\n* var hasInt8ArraySupport = require( '@stdlib/assert-has-int8array-support' );\n*\n* var bool = hasInt8ArraySupport();\n* // returns <boolean>\n*/\n\n// MODULES //\n\nvar hasInt8ArraySupport = require( './main.js' );\n\n\n// EXPORTS //\n\nmodule.exports = hasInt8ArraySupport;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MAIN //\n\nvar ctor = ( typeof Int8Array === 'function' ) ? Int8Array : void 0; // eslint-disable-line stdlib/require-globals\n\n\n// EXPORTS //\n\nmodule.exports = ctor;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// TODO: write polyfill\n\n// MAIN //\n\n/**\n* Typed array which represents an array of twos-complement 8-bit signed integers in the platform byte order.\n*\n* @throws {Error} not implemented\n*/\nfunction polyfill() {\n\tthrow new Error( 'not implemented' );\n}\n\n\n// EXPORTS //\n\nmodule.exports = polyfill;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n/**\n* Typed array constructor which returns a typed array representing an array of twos-complement 8-bit signed integers in the platform byte order.\n*\n* @module @stdlib/array-int8\n*\n* @example\n* var ctor = require( '@stdlib/array-int8' );\n*\n* var arr = new ctor( 10 );\n* // returns <Int8Array>\n*/\n\n// MODULES //\n\nvar hasInt8ArraySupport = require( '@stdlib/assert-has-int8array-support' );\nvar builtin = require( './main.js' );\nvar polyfill = require( './polyfill.js' );\n\n\n// MAIN //\n\nvar ctor;\nif ( hasInt8ArraySupport() ) {\n\tctor = builtin;\n} else {\n\tctor = polyfill;\n}\n\n\n// EXPORTS //\n\nmodule.exports = ctor;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nvar isInteger = require( '@stdlib/assert-is-integer' ).isPrimitive;\n\n\n// MAIN //\n\n/**\n* Tests if a value is a number primitive having a nonnegative integer value.\n*\n* @param {*} value - value to test\n* @returns {boolean} boolean indicating if a value is a number primitive having a nonnegative integer value\n*\n* @example\n* var bool = isNonNegativeInteger( 3.0 );\n* // returns true\n*\n* @example\n* var bool = isNonNegativeInteger( new Number( 3.0 ) );\n* // returns false\n*/\nfunction isNonNegativeInteger( value ) {\n\treturn (\n\t\tisInteger( value ) &&\n\t\tvalue >= 0\n\t);\n}\n\n\n// EXPORTS //\n\nmodule.exports = isNonNegativeInteger;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nvar isInteger = require( '@stdlib/assert-is-integer' ).isObject;\n\n\n// MAIN //\n\n/**\n* Tests if a value is a number object having a nonnegative integer value.\n*\n* @param {*} value - value to test\n* @returns {boolean} boolean indicating if a value is a number object having a nonnegative integer value\n*\n* @example\n* var bool = isNonNegativeInteger( 3.0 );\n* // returns false\n*\n* @example\n* var bool = isNonNegativeInteger( new Number( 3.0 ) );\n* // returns true\n*/\nfunction isNonNegativeInteger( value ) {\n\treturn (\n\t\tisInteger( value ) &&\n\t\tvalue.valueOf() >= 0\n\t);\n}\n\n\n// EXPORTS //\n\nmodule.exports = isNonNegativeInteger;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nvar isPrimitive = require( './primitive.js' );\nvar isObject = require( './object.js' );\n\n\n// MAIN //\n\n/**\n* Tests if a value is a nonnegative integer.\n*\n* @param {*} value - value to test\n* @returns {boolean} boolean indicating whether value is a nonnegative integer\n*\n* @example\n* var bool = isNonNegativeInteger( 5.0 );\n* // returns true\n*\n* @example\n* var bool = isNonNegativeInteger( new Number( 5.0 ) );\n* // returns true\n*\n* @example\n* var bool = isNonNegativeInteger( -5.0 );\n* // returns false\n*\n* @example\n* var bool = isNonNegativeInteger( 3.14 );\n* // returns false\n*\n* @example\n* var bool = isNonNegativeInteger( null );\n* // returns false\n*/\nfunction isNonNegativeInteger( value ) {\n\treturn ( isPrimitive( value ) || isObject( value ) );\n}\n\n\n// EXPORTS //\n\nmodule.exports = isNonNegativeInteger;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n/**\n* Test if a value is a nonnegative integer.\n*\n* @module @stdlib/assert-is-nonnegative-integer\n*\n* @example\n* var isNonNegativeInteger = require( '@stdlib/assert-is-nonnegative-integer' );\n*\n* var bool = isNonNegativeInteger( 5.0 );\n* // returns true\n*\n* bool = isNonNegativeInteger( new Number( 5.0 ) );\n* // returns true\n*\n* bool = isNonNegativeInteger( -5.0 );\n* // returns false\n*\n* bool = isNonNegativeInteger( 3.14 );\n* // returns false\n*\n* bool = isNonNegativeInteger( null );\n* // returns false\n*\n* @example\n* var isNonNegativeInteger = require( '@stdlib/assert-is-nonnegative-integer' ).isPrimitive;\n*\n* var bool = isNonNegativeInteger( 3.0 );\n* // returns true\n*\n* bool = isNonNegativeInteger( new Number( 3.0 ) );\n* // returns false\n*\n* @example\n* var isNonNegativeInteger = require( '@stdlib/assert-is-nonnegative-integer' ).isObject;\n*\n* var bool = isNonNegativeInteger( 3.0 );\n* // returns false\n*\n* bool = isNonNegativeInteger( new Number( 3.0 ) );\n* // returns true\n*/\n\n// MODULES //\n\nvar setReadOnly = require( '@stdlib/utils-define-nonenumerable-read-only-property' );\nvar main = require( './main.js' );\nvar isPrimitive = require( './primitive.js' );\nvar isObject = require( './object.js' );\n\n\n// MAIN //\n\nsetReadOnly( main, 'isPrimitive', isPrimitive );\nsetReadOnly( main, 'isObject', isObject );\n\n\n// EXPORTS //\n\nmodule.exports = main;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n/**\n* Maximum length of a generic array.\n*\n* @module @stdlib/constants-array-max-array-length\n*\n* @example\n* var MAX_ARRAY_LENGTH = require( '@stdlib/constants-array-max-array-length' );\n* // returns 4294967295\n*/\n\n// MAIN //\n\n/**\n* Maximum length of a generic array.\n*\n* ```tex\n* 2^{32} - 1\n* ```\n*\n* @constant\n* @type {uinteger32}\n* @default 4294967295\n*/\nvar MAX_ARRAY_LENGTH = 4294967295>>>0; // asm type annotation\n\n\n// EXPORTS //\n\nmodule.exports = MAX_ARRAY_LENGTH;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nvar isInteger = require( '@stdlib/math-base-assert-is-integer' );\nvar MAX_LENGTH = require( '@stdlib/constants-array-max-array-length' );\n\n\n// MAIN //\n\n/**\n* Tests if a value is an array-like object.\n*\n* @param {*} value - value to test\n* @returns {boolean} boolean indicating if a value is an array-like object\n*\n* @example\n* var bool = isArrayLikeObject( [] );\n* // returns true\n*\n* @example\n* var bool = isArrayLikeObject( { 'length':10 } );\n* // returns true\n*\n* @example\n* var bool = isArrayLikeObject( 'beep' );\n* // returns false\n*/\nfunction isArrayLikeObject( value ) {\n\treturn (\n\t\ttypeof value === 'object' &&\n\t\tvalue !== null &&\n\t\ttypeof value.length === 'number' &&\n\t\tisInteger( value.length ) &&\n\t\tvalue.length >= 0 &&\n\t\tvalue.length <= MAX_LENGTH\n\t);\n}\n\n\n// EXPORTS //\n\nmodule.exports = isArrayLikeObject;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n/**\n* Test if a value is an array-like object.\n*\n* @module @stdlib/assert-is-array-like-object\n*\n* @example\n* var isArrayLikeObject = require( '@stdlib/assert-is-array-like-object' );\n*\n* var bool = isArrayLikeObject( [] );\n* // returns true\n*\n* bool = isArrayLikeObject( { 'length':10 } );\n* // returns true\n*\n* bool = isArrayLikeObject( 'beep' );\n* // returns false\n*/\n\n// MODULES //\n\nvar main = require( './main.js' );\n\n\n// EXPORTS //\n\nmodule.exports = main;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nvar nativeClass = require( '@stdlib/utils-native-class' );\n\n\n// VARIABLES //\n\nvar hasArrayBuffer = ( typeof ArrayBuffer === 'function' ); // eslint-disable-line stdlib/require-globals\n\n\n// MAIN //\n\n/**\n* Tests if a value is an ArrayBuffer.\n*\n* @param {*} value - value to test\n* @returns {boolean} boolean indicating whether value is an ArrayBuffer\n*\n* @example\n* var ArrayBuffer = require( '@stdlib/array-buffer' );\n*\n* var bool = isArrayBuffer( new ArrayBuffer( 10 ) );\n* // returns true\n*\n* @example\n* var bool = isArrayBuffer( [] );\n* // returns false\n*/\nfunction isArrayBuffer( value ) {\n\treturn (\n\t\t( hasArrayBuffer && value instanceof ArrayBuffer ) || // eslint-disable-line stdlib/require-globals\n\t\tnativeClass( value ) === '[object ArrayBuffer]'\n\t);\n}\n\n\n// EXPORTS //\n\nmodule.exports = isArrayBuffer;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n/**\n* Test if a value is an ArrayBuffer.\n*\n* @module @stdlib/assert-is-arraybuffer\n*\n* @example\n* var ArrayBuffer = require( '@stdlib/array-buffer' );\n* var isArrayBuffer = require( '@stdlib/assert-is-arraybuffer' );\n*\n* var bool = isArrayBuffer( new ArrayBuffer( 10 ) );\n* // returns true\n*\n* bool = isArrayBuffer( [] );\n* // returns false\n*/\n\n// MODULES //\n\nvar main = require( './main.js' );\n\n\n// EXPORTS //\n\nmodule.exports = main;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n/**\n* Tests if a value is a string primitive.\n*\n* @param {*} value - value to test\n* @returns {boolean} boolean indicating if a value is a string primitive\n*\n* @example\n* var bool = isString( 'beep' );\n* // returns true\n*\n* @example\n* var bool = isString( new String( 'beep' ) );\n* // returns false\n*/\nfunction isString( value ) {\n\treturn ( typeof value === 'string' );\n}\n\n\n// EXPORTS //\n\nmodule.exports = isString;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// eslint-disable-next-line stdlib/no-redeclare\nvar valueOf = String.prototype.valueOf; // non-generic\n\n\n// EXPORTS //\n\nmodule.exports = valueOf;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nvar valueOf = require( './valueof.js' ); // eslint-disable-line stdlib/no-redeclare\n\n\n// MAIN //\n\n/**\n* Attempts to extract a string value.\n*\n* @private\n* @param {*} value - value to test\n* @returns {boolean} boolean indicating if a string can be extracted\n*/\nfunction test( value ) {\n\ttry {\n\t\tvalueOf.call( value );\n\t\treturn true;\n\t} catch ( err ) { // eslint-disable-line no-unused-vars\n\t\treturn false;\n\t}\n}\n\n\n// EXPORTS //\n\nmodule.exports = test;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nvar hasToStringTag = require( '@stdlib/assert-has-tostringtag-support' );\nvar nativeClass = require( '@stdlib/utils-native-class' );\nvar test = require( './try2valueof.js' );\n\n\n// VARIABLES //\n\nvar FLG = hasToStringTag();\n\n\n// MAIN //\n\n/**\n* Tests if a value is a string object.\n*\n* @param {*} value - value to test\n* @returns {boolean} boolean indicating if a value is a string object\n*\n* @example\n* var bool = isString( new String( 'beep' ) );\n* // returns true\n*\n* @example\n* var bool = isString( 'beep' );\n* // returns false\n*/\nfunction isString( value ) {\n\tif ( typeof value === 'object' ) {\n\t\tif ( value instanceof String ) {\n\t\t\treturn true;\n\t\t}\n\t\tif ( FLG ) {\n\t\t\treturn test( value );\n\t\t}\n\t\treturn ( nativeClass( value ) === '[object String]' );\n\t}\n\treturn false;\n}\n\n\n// EXPORTS //\n\nmodule.exports = isString;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nvar isPrimitive = require( './primitive.js' );\nvar isObject = require( './object.js' );\n\n\n// MAIN //\n\n/**\n* Tests if a value is a string.\n*\n* @param {*} value - value to test\n* @returns {boolean} boolean indicating whether value is a string\n*\n* @example\n* var bool = isString( new String( 'beep' ) );\n* // returns true\n*\n* @example\n* var bool = isString( 'beep' );\n* // returns true\n*/\nfunction isString( value ) {\n\treturn ( isPrimitive( value ) || isObject( value ) );\n}\n\n\n// EXPORTS //\n\nmodule.exports = isString;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n/**\n* Test if a value is a string.\n*\n* @module @stdlib/assert-is-string\n*\n* @example\n* var isString = require( '@stdlib/assert-is-string' );\n*\n* var bool = isString( 'beep' );\n* // returns true\n*\n* bool = isString( new String( 'beep' ) );\n* // returns true\n*\n* bool = isString( 5 );\n* // returns false\n*\n* @example\n* var isString = require( '@stdlib/assert-is-string' ).isObject;\n*\n* var bool = isString( new String( 'beep' ) );\n* // returns true\n*\n* bool = isString( 'beep' );\n* // returns false\n*\n* @example\n* var isString = require( '@stdlib/assert-is-string' ).isPrimitive;\n*\n* var bool = isString( 'beep' );\n* // returns true\n*\n* bool = isString( new String( 'beep' ) );\n* // returns false\n*/\n\n// MODULES //\n\nvar setReadOnly = require( '@stdlib/utils-define-nonenumerable-read-only-property' );\nvar main = require( './main.js' );\nvar isPrimitive = require( './primitive.js' );\nvar isObject = require( './object.js' );\n\n\n// MAIN //\n\nsetReadOnly( main, 'isPrimitive', isPrimitive );\nsetReadOnly( main, 'isObject', isObject );\n\n\n// EXPORTS //\n\nmodule.exports = main;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n/**\n* Serializes a complex number as a string.\n*\n* @private\n* @returns {string} serialized complex number\n*/\nfunction toString() { // eslint-disable-line stdlib/no-redeclare\n\t/* eslint-disable no-invalid-this */\n\tvar str = '' + this.re;\n\tif ( this.im < 0 ) {\n\t\tstr += ' - ' + (-this.im);\n\t} else {\n\t\tstr += ' + ' + this.im;\n\t}\n\tstr += 'i';\n\treturn str;\n}\n\n\n// EXPORTS //\n\nmodule.exports = toString;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n/**\n* Serializes a complex number as a JSON object.\n*\n* @private\n* @returns {Object} JSON representation\n*/\nfunction toJSON() {\n\t/* eslint-disable no-invalid-this */\n\tvar out = {};\n\tout.type = 'Complex128';\n\tout.re = this.re;\n\tout.im = this.im;\n\treturn out;\n}\n\n\n// EXPORTS //\n\nmodule.exports = toJSON;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nvar isNumber = require( '@stdlib/assert-is-number' ).isPrimitive;\nvar defineProperty = require( '@stdlib/utils-define-property' );\nvar setReadOnly = require( '@stdlib/utils-define-nonenumerable-read-only-property' );\nvar format = require( '@stdlib/string-format' );\nvar toStr = require( './tostring.js' );\nvar toJSON = require( './tojson.js' );\n\n\n// MAIN //\n\n/**\n* 128-bit complex number constructor.\n*\n* @constructor\n* @param {number} real - real component\n* @param {number} imag - imaginary component\n* @throws {TypeError} must invoke using the `new` keyword\n* @throws {TypeError} real component must be a number\n* @throws {TypeError} imaginary component must be a number\n* @returns {Complex128} 128-bit complex number\n*\n* @example\n* var z = new Complex128( 5.0, 3.0 );\n* // returns <Complex128>\n*/\nfunction Complex128( real, imag ) {\n\tif ( !( this instanceof Complex128 ) ) {\n\t\tthrow new TypeError( 'invalid invocation. Constructor must be called with the `new` keyword.' );\n\t}\n\tif ( !isNumber( real ) ) {\n\t\tthrow new TypeError( format( 'invalid argument. Real component must be a number. Value: `%s`.', real ) );\n\t}\n\tif ( !isNumber( imag ) ) {\n\t\tthrow new TypeError( format( 'invalid argument. Imaginary component must be a number. Value: `%s`.', imag ) );\n\t}\n\tdefineProperty( this, 're', {\n\t\t'configurable': false,\n\t\t'enumerable': true,\n\t\t'writable': false,\n\t\t'value': real\n\t});\n\tdefineProperty( this, 'im', {\n\t\t'configurable': false,\n\t\t'enumerable': true,\n\t\t'writable': false,\n\t\t'value': imag\n\t});\n\treturn this;\n}\n\n/**\n* Size (in bytes) of each component.\n*\n* @name BYTES_PER_ELEMENT\n* @memberof Complex128\n* @type {integer}\n* @returns {integer} size of each component\n*\n* @example\n* var nbytes = Complex128.BYTES_PER_ELEMENT;\n* // returns 8\n*/\nsetReadOnly( Complex128, 'BYTES_PER_ELEMENT', 8 );\n\n/**\n* Size (in bytes) of each component.\n*\n* @name BYTES_PER_ELEMENT\n* @memberof Complex128.prototype\n* @type {integer}\n* @returns {integer} size of each component\n*\n* @example\n* var z = new Complex128( 5.0, 3.0 );\n*\n* var nbytes = z.BYTES_PER_ELEMENT;\n* // returns 8\n*/\nsetReadOnly( Complex128.prototype, 'BYTES_PER_ELEMENT', 8 );\n\n/**\n* Length (in bytes) of a complex number.\n*\n* @name byteLength\n* @memberof Complex128.prototype\n* @type {integer}\n* @returns {integer} byte length\n*\n* @example\n* var z = new Complex128( 5.0, 3.0 );\n*\n* var nbytes = z.byteLength;\n* // returns 16\n*/\nsetReadOnly( Complex128.prototype, 'byteLength', 16 );\n\n/**\n* Serializes a complex number as a string.\n*\n* @name toString\n* @memberof Complex128.prototype\n* @type {Function}\n* @returns {string} serialized complex number\n*\n* @example\n* var z = new Complex128( 5.0, 3.0 );\n*\n* var str = z.toString();\n* // returns '5 + 3i'\n*/\nsetReadOnly( Complex128.prototype, 'toString', toStr );\n\n/**\n* Serializes a complex number as a JSON object.\n*\n* ## Notes\n*\n* -   `JSON.stringify()` implicitly calls this method when stringifying a `Complex128` instance.\n*\n* @name toJSON\n* @memberof Complex128.prototype\n* @type {Function}\n* @returns {Object} serialized complex number\n*\n* @example\n* var z = new Complex128( 5.0, 3.0 );\n*\n* var obj = z.toJSON();\n* // returns { 'type': 'Complex128', 're': 5.0, 'im': 3.0 }\n*/\nsetReadOnly( Complex128.prototype, 'toJSON', toJSON );\n\n\n// EXPORTS //\n\nmodule.exports = Complex128;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n/**\n* 128-bit complex number constructor.\n*\n* @module @stdlib/complex-float64\n*\n* @example\n* var Complex128 = require( '@stdlib/complex-float64' );\n*\n* var z = new Complex128( 5.0, 3.0 );\n* // returns <Complex128>\n*/\n\n// MODULES //\n\nvar main = require( './main.js' );\n\n\n// EXPORTS //\n\nmodule.exports = main;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MAIN //\n\nvar fround = ( typeof Math.fround === 'function' ) ? Math.fround : null; // eslint-disable-line stdlib/no-builtin-math\n\n\n// EXPORTS //\n\nmodule.exports = fround;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nvar Float32Array = require( '@stdlib/array-float32' );\n\n\n// VARIABLES //\n\nvar FLOAT32_VIEW = new Float32Array( 1 );\n\n\n// MAIN //\n\n/**\n* Converts a double-precision floating-point number to the nearest single-precision floating-point number.\n*\n* @param {number} x - double-precision floating-point number\n* @returns {number} nearest single-precision floating-point number\n*\n* @example\n* var y = float64ToFloat32( 1.337 );\n* // returns 1.3370000123977661\n*/\nfunction float64ToFloat32( x ) {\n\tFLOAT32_VIEW[ 0 ] = x;\n\treturn FLOAT32_VIEW[ 0 ];\n}\n\n\n// EXPORTS //\n\nmodule.exports = float64ToFloat32;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n/**\n* Convert a double-precision floating-point number to the nearest single-precision floating-point number.\n*\n* @module @stdlib/number-float64-base-to-float32\n*\n* @example\n* var float64ToFloat32 = require( '@stdlib/number-float64-base-to-float32' );\n*\n* var y = float64ToFloat32( 1.337 );\n* // returns 1.3370000123977661\n*/\n\n// MODULES //\n\nvar builtin = require( './main.js' );\nvar polyfill = require( './polyfill.js' );\n\n\n// MAIN //\n\nvar float64ToFloat32;\nif ( typeof builtin === 'function' ) {\n\tfloat64ToFloat32 = builtin;\n} else {\n\tfloat64ToFloat32 = polyfill;\n}\n\n\n// EXPORTS //\n\nmodule.exports = float64ToFloat32;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n/**\n* Serializes a complex number as a string.\n*\n* @private\n* @returns {string} serialized complex number\n*/\nfunction toString() { // eslint-disable-line stdlib/no-redeclare\n\t/* eslint-disable no-invalid-this */\n\tvar str = '' + this.re;\n\tif ( this.im < 0 ) {\n\t\tstr += ' - ' + (-this.im);\n\t} else {\n\t\tstr += ' + ' + this.im;\n\t}\n\tstr += 'i';\n\treturn str;\n}\n\n\n// EXPORTS //\n\nmodule.exports = toString;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n/**\n* Serializes a complex number as a JSON object.\n*\n* @private\n* @returns {Object} JSON representation\n*/\nfunction toJSON() {\n\t/* eslint-disable no-invalid-this */\n\tvar out = {};\n\tout.type = 'Complex64';\n\tout.re = this.re;\n\tout.im = this.im;\n\treturn out;\n}\n\n\n// EXPORTS //\n\nmodule.exports = toJSON;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nvar isNumber = require( '@stdlib/assert-is-number' ).isPrimitive;\nvar defineProperty = require( '@stdlib/utils-define-property' );\nvar setReadOnly = require( '@stdlib/utils-define-nonenumerable-read-only-property' );\nvar float64ToFloat32 = require( '@stdlib/number-float64-base-to-float32' );\nvar format = require( '@stdlib/string-format' );\nvar toStr = require( './tostring.js' );\nvar toJSON = require( './tojson.js' );\n\n\n// MAIN //\n\n/**\n* 64-bit complex number constructor.\n*\n* @constructor\n* @param {number} real - real component\n* @param {number} imag - imaginary component\n* @throws {TypeError} must invoke using the `new` keyword\n* @throws {TypeError} real component must be a number\n* @throws {TypeError} imaginary component must be a number\n* @returns {Complex64} 64-bit complex number\n*\n* @example\n* var z = new Complex64( 5.0, 3.0 );\n* // returns <Complex64>\n*/\nfunction Complex64( real, imag ) {\n\tif ( !( this instanceof Complex64 ) ) {\n\t\tthrow new TypeError( 'invalid invocation. Constructor must be called with the `new` keyword.' );\n\t}\n\tif ( !isNumber( real ) ) {\n\t\tthrow new TypeError( format( 'invalid argument. Real component must be a number. Value: `%s`.', real ) );\n\t}\n\tif ( !isNumber( imag ) ) {\n\t\tthrow new TypeError( format( 'invalid argument. Imaginary component must be a number. Value: `%s`.', imag ) );\n\t}\n\tdefineProperty( this, 're', {\n\t\t'configurable': false,\n\t\t'enumerable': true,\n\t\t'writable': false,\n\t\t'value': float64ToFloat32( real )\n\t});\n\tdefineProperty( this, 'im', {\n\t\t'configurable': false,\n\t\t'enumerable': true,\n\t\t'writable': false,\n\t\t'value': float64ToFloat32( imag )\n\t});\n\treturn this;\n}\n\n/**\n* Size (in bytes) of each component.\n*\n* @name BYTES_PER_ELEMENT\n* @memberof Complex64\n* @type {integer}\n* @returns {integer} size of each component\n*\n* @example\n* var nbytes = Complex64.BYTES_PER_ELEMENT;\n* // returns 4\n*/\nsetReadOnly( Complex64, 'BYTES_PER_ELEMENT', 4 );\n\n/**\n* Size (in bytes) of each component.\n*\n* @name BYTES_PER_ELEMENT\n* @memberof Complex64.prototype\n* @type {integer}\n* @returns {integer} size of each component\n*\n* @example\n* var z = new Complex64( 5.0, 3.0 );\n*\n* var nbytes = z.BYTES_PER_ELEMENT;\n* // returns 4\n*/\nsetReadOnly( Complex64.prototype, 'BYTES_PER_ELEMENT', 4 );\n\n/**\n* Length (in bytes) of a complex number.\n*\n* @name byteLength\n* @memberof Complex64.prototype\n* @type {integer}\n* @returns {integer} byte length\n*\n* @example\n* var z = new Complex64( 5.0, 3.0 );\n*\n* var nbytes = z.byteLength;\n* // returns 8\n*/\nsetReadOnly( Complex64.prototype, 'byteLength', 8 );\n\n/**\n* Serializes a complex number as a string.\n*\n* @name toString\n* @memberof Complex64.prototype\n* @type {Function}\n* @returns {string} serialized complex number\n*\n* @example\n* var z = new Complex64( 5.0, 3.0 );\n*\n* var str = z.toString();\n* // returns '5 + 3i'\n*/\nsetReadOnly( Complex64.prototype, 'toString', toStr );\n\n/**\n* Serializes a complex number as a JSON object.\n*\n* ## Notes\n*\n* -   `JSON.stringify()` implicitly calls this method when stringifying a `Complex64` instance.\n*\n* @name toJSON\n* @memberof Complex64.prototype\n* @type {Function}\n* @returns {Object} serialized complex number\n*\n* @example\n* var z = new Complex64( 5.0, 3.0 );\n*\n* var obj = z.toJSON();\n* // returns { 'type': 'Complex64', 're': 5.0, 'im': 3.0 }\n*/\nsetReadOnly( Complex64.prototype, 'toJSON', toJSON );\n\n\n// EXPORTS //\n\nmodule.exports = Complex64;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n/**\n* 64-bit complex number constructor.\n*\n* @module @stdlib/complex-float32\n*\n* @example\n* var Complex64 = require( '@stdlib/complex-float32' );\n*\n* var z = new Complex64( 5.0, 3.0 );\n* // returns <Complex64>\n*/\n\n// MODULES //\n\nvar main = require( './main.js' );\n\n\n// EXPORTS //\n\nmodule.exports = main;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nvar Complex128 = require( '@stdlib/complex-float64' );\nvar Complex64 = require( '@stdlib/complex-float32' );\n\n\n// MAIN //\n\n/**\n* Tests if a value is a complex number-like object.\n*\n* @param {*} value - value to test\n* @returns {boolean} boolean indicating if a value is a complex number-like object.\n*\n* @example\n* var Complex128 = require( '@stdlib/complex-float64' );\n* var Complex64 = require( '@stdlib/complex-float32' );\n*\n* var x = new Complex128( 4.0, 2.0 );\n* var bool = isComplexLike( x );\n* // returns true\n*\n* x = new Complex64( 4.0, 2.0 );\n* bool = isComplexLike( x );\n* // returns true\n*/\nfunction isComplexLike( value ) {\n\tif ( value instanceof Complex128 || value instanceof Complex64 ) {\n\t\treturn true;\n\t}\n\treturn (\n\t\ttypeof value === 'object' &&\n\t\tvalue !== null &&\n\t\ttypeof value.re === 'number' &&\n\t\ttypeof value.im === 'number'\n\t);\n}\n\n\n// EXPORTS //\n\nmodule.exports = isComplexLike;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n/**\n* Test if a value is a complex number-like object.\n*\n* @module @stdlib/assert-is-complex-like\n*\n* @example\n* var Complex128 = require( '@stdlib/complex-float64' );\n* var Complex64 = require( '@stdlib/complex-float32' );\n* var isComplexLike = require( '@stdlib/assert-is-complex-like' );\n*\n* var x = new Complex128( 4.0, 2.0 );\n* var bool = isComplexLike( x );\n* // returns true\n*\n* x = new Complex64( 4.0, 2.0 );\n* bool = isComplexLike( x );\n* // returns true\n*/\n\n// MODULES //\n\nvar main = require( './main.js' );\n\n\n// EXPORTS //\n\nmodule.exports = main;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nvar isInteger = require( '@stdlib/math-base-assert-is-integer' );\n\n\n// MAIN //\n\n/**\n* Tests if a finite numeric value is an even number.\n*\n* @param {number} x - value to test\n* @returns {boolean} boolean indicating whether the value is an even number\n*\n* @example\n* var bool = isEven( 5.0 );\n* // returns false\n*\n* @example\n* var bool = isEven( -2.0 );\n* // returns true\n*\n* @example\n* var bool = isEven( 0.0 );\n* // returns true\n*\n* @example\n* var bool = isEven( NaN );\n* // returns false\n*/\nfunction isEven( x ) {\n\treturn isInteger( x/2.0 );\n}\n\n\n// EXPORTS //\n\nmodule.exports = isEven;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n/**\n* Test if a finite numeric value is an even number.\n*\n* @module @stdlib/math-base-assert-is-even\n*\n* @example\n* var isEven = require( '@stdlib/math-base-assert-is-even' );\n*\n* var bool = isEven( 5.0 );\n* // returns false\n*\n* bool = isEven( -2.0 );\n* // returns true\n*\n* bool = isEven( 0.0 );\n* // returns true\n*\n* bool = isEven( NaN );\n* // returns false\n*/\n\n// MODULES //\n\nvar main = require( './main.js' );\n\n\n// EXPORTS //\n\nmodule.exports = main;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2024 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// VARIABLES //\n\nvar BYTES_PER_ELEMENT = 8; // 4 bytes per float32 x (1 real + 1 imag component)\n\n\n// MAIN //\n\n/**\n* Returns a boolean indicating if a value is a `Complex64Array`.\n*\n* @param {*} value - value to test\n* @returns {boolean} boolean indicating if a value is a `Complex64Array`\n*\n* @example\n* var Complex64Array = require( '@stdlib/array-complex64' );\n*\n* var bool = isComplex64Array( new Complex64Array( 10 ) );\n* // returns true\n*\n* bool = isComplex64Array( [] );\n* // returns false\n*/\nfunction isComplex64Array( value ) {\n\t// Note: the following is not robust and that is intentional. In this case, we are seeking a lower cost way to reasonably determine whether an input value is a `Complex64Array` in order to avoid walking the prototype chain and resolving constructors, which is necessary for robust identification of cross-realm instances. For more robust validation, see `@stdlib/assert/is-complex64array`.\n\treturn (\n\t\ttypeof value === 'object' &&\n\t\tvalue !== null &&\n\t\tvalue.constructor.name === 'Complex64Array' &&\n\t\tvalue.BYTES_PER_ELEMENT === BYTES_PER_ELEMENT\n\t);\n}\n\n\n// EXPORTS //\n\nmodule.exports = isComplex64Array;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2024 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n/**\n* Test if a value is a `Complex64Array`.\n*\n* @module @stdlib/array-base-assert-is-complex64array\n*\n* @example\n* var Complex64Array = require( '@stdlib/array-complex64' );\n* var isComplex64Array = require( '@stdlib/array-base-assert-is-complex64array' );\n*\n* var bool = isComplex64Array( new Complex64Array( 10 ) );\n* // returns true\n*\n* bool = isComplex64Array( [] );\n* // returns false\n*/\n\n// MODULES //\n\nvar main = require( './main.js' );\n\n\n// EXPORTS //\n\nmodule.exports = main;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2024 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// VARIABLES //\n\nvar BYTES_PER_ELEMENT = 16; // 8 bytes per float64 x (1 real + 1 imag component)\n\n\n// MAIN //\n\n/**\n* Returns a boolean indicating if a value is a `Complex128Array`.\n*\n* @param {*} value - value to test\n* @returns {boolean} boolean indicating if a value is a `Complex128Array`\n*\n* @example\n* var Complex128Array = require( '@stdlib/array-complex128' );\n*\n* var bool = isComplex128Array( new Complex128Array( 10 ) );\n* // returns true\n*\n* bool = isComplex128Array( [] );\n* // returns false\n*/\nfunction isComplex128Array( value ) {\n\t// Note: the following is not robust and that is intentional. In this case, we are seeking a lower cost way to reasonably determine whether an input value is a `Complex128Array` in order to avoid walking the prototype chain and resolving constructors, which is necessary for robust identification of cross-realm instances. For more robust validation, see `@stdlib/assert/is-complex128array`.\n\treturn (\n\t\ttypeof value === 'object' &&\n\t\tvalue !== null &&\n\t\tvalue.constructor.name === 'Complex128Array' &&\n\t\tvalue.BYTES_PER_ELEMENT === BYTES_PER_ELEMENT\n\t);\n}\n\n\n// EXPORTS //\n\nmodule.exports = isComplex128Array;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2024 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n/**\n* Test if a value is a `Complex128Array`.\n*\n* @module @stdlib/array-base-assert-is-complex128array\n*\n* @example\n* var Complex128Array = require( '@stdlib/array-complex128' );\n* var isComplex128Array = require( '@stdlib/array-base-assert-is-complex128array' );\n*\n* var bool = isComplex128Array( new Complex128Array( 10 ) );\n* // returns true\n*\n* bool = isComplex128Array( [] );\n* // returns false\n*/\n\n// MODULES //\n\nvar main = require( './main.js' );\n\n\n// EXPORTS //\n\nmodule.exports = main;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nvar hasOwnProp = require( '@stdlib/assert-has-own-property' );\nvar Symbol = require( '@stdlib/symbol-ctor' );\n\n\n// MAIN //\n\n/**\n* Tests for native `Symbol.iterator` support.\n*\n* @returns {boolean} boolean indicating if an environment has `Symbol.iterator` support\n*\n* @example\n* var bool = hasIteratorSymbolSupport();\n* // returns <boolean>\n*/\nfunction hasIteratorSymbolSupport() {\n\treturn (\n\t\ttypeof Symbol === 'function' &&\n\t\ttypeof Symbol( 'foo' ) === 'symbol' &&\n\t\thasOwnProp( Symbol, 'iterator' ) &&\n\t\ttypeof Symbol.iterator === 'symbol'\n\t);\n}\n\n\n// EXPORTS //\n\nmodule.exports = hasIteratorSymbolSupport;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n/**\n* Test for native `Symbol.iterator` support.\n*\n* @module @stdlib/assert-has-iterator-symbol-support\n*\n* @example\n* var hasIteratorSymbolSupport = require( '@stdlib/assert-has-iterator-symbol-support' );\n*\n* var bool = hasIteratorSymbolSupport();\n* // returns <boolean>\n*/\n\n// MODULES //\n\nvar main = require( './main.js' );\n\n\n// EXPORTS //\n\nmodule.exports = main;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nvar hasIteratorSymbolSupport = require( '@stdlib/assert-has-iterator-symbol-support' );\n\n\n// MAIN //\n\n/**\n* Iterator symbol.\n*\n* @name IteratorSymbol\n* @constant\n* @type {(symbol|null)}\n*\n* @example\n* function iterator() {\n*     var it;\n*     var i;\n*\n*     i = -1;\n*\n*     it = {};\n*     it.next = next;\n*     it.return = done;\n*\n*     if ( IteratorSymbol ) {\n*         it[ IteratorSymbol ] = iterator;\n*     }\n*     return it;\n*\n*     function next() {\n*         i += 1;\n*         return {\n*             'value': i,\n*             'done': false\n*         };\n*     }\n*\n*     function done( value ) {\n*         if ( arguments.length === 0 ) {\n*             return {\n*                 'done': true\n*             };\n*         }\n*         return {\n*             'value': value,\n*             'done': true\n*         };\n*     }\n* }\n*\n* var obj = iterator();\n*/\nvar IteratorSymbol = ( hasIteratorSymbolSupport() ) ? Symbol.iterator : null;\n\n\n// EXPORTS //\n\nmodule.exports = IteratorSymbol;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n/**\n* Iterator symbol.\n*\n* @module @stdlib/symbol-iterator\n*\n* @example\n* var IteratorSymbol = require( '@stdlib/symbol-iterator' );\n*\n* function iterator() {\n*     var it;\n*     var i;\n*\n*     i = -1;\n*\n*     it = {};\n*     it.next = next;\n*     it.return = done;\n*\n*     if ( IteratorSymbol ) {\n*         it[ IteratorSymbol ] = iterator;\n*     }\n*     return it;\n*\n*     function next() {\n*         i += 1;\n*         return {\n*             'value': i,\n*             'done': false\n*         };\n*     }\n*\n*     function done( value ) {\n*         if ( arguments.length === 0 ) {\n*             return {\n*                 'done': true\n*             };\n*         }\n*         return {\n*             'value': value,\n*             'done': true\n*         };\n*     }\n* }\n*\n* var obj = iterator();\n*/\n\n// MAIN //\n\nvar main = require( './main.js' );\n\n\n// EXPORTS //\n\nmodule.exports = main;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2021 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n/**\n* Returns the real component of a single-precision complex floating-point number.\n*\n* @param {Complex} z - complex number\n* @returns {number} real component\n*\n* @example\n* var Complex64 = require( '@stdlib/complex-float32' );\n*\n* var z = new Complex64( 5.0, 3.0 );\n*\n* var re = realf( z );\n* // returns 5.0\n*/\nfunction realf( z ) {\n\treturn z.re;\n}\n\n\n// EXPORTS //\n\nmodule.exports = realf;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2021 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n/**\n* Return the real component of a single-precision complex floating-point number.\n*\n* @module @stdlib/complex-realf\n*\n* @example\n* var Complex64 = require( '@stdlib/complex-float32' );\n* var realf = require( '@stdlib/complex-realf' );\n*\n* var z = new Complex64( 5.0, 3.0 );\n*\n* var re = realf( z );\n* // returns 5.0\n*/\n\n// MODULES //\n\nvar main = require( './main.js' );\n\n\n// EXPORTS //\n\nmodule.exports = main;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2021 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n/**\n* Returns the imaginary component of a single-precision complex floating-point number.\n*\n* @param {Complex} z - complex number\n* @returns {number} imaginary component\n*\n* @example\n* var Complex64 = require( '@stdlib/complex-float32' );\n*\n* var z = new Complex64( 5.0, 3.0 );\n*\n* var im = imagf( z );\n* // returns 3.0\n*/\nfunction imagf( z ) {\n\treturn z.im;\n}\n\n\n// EXPORTS //\n\nmodule.exports = imagf;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2021 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n/**\n* Return the imaginary component of a single-precision complex floating-point number.\n*\n* @module @stdlib/complex-imagf\n*\n* @example\n* var Complex64 = require( '@stdlib/complex-float32' );\n* var imagf = require( '@stdlib/complex-imagf' );\n*\n* var z = new Complex64( 5.0, 3.0 );\n*\n* var im = imagf( z );\n* // returns 3.0\n*/\n\n// MODULES //\n\nvar main = require( './main.js' );\n\n\n// EXPORTS //\n\nmodule.exports = main;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2021 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nvar Float32Array = require( '@stdlib/array-float32' );\n\n\n// MAIN //\n\n/**\n* Reinterprets a `Complex64Array` as a `Float32Array`.\n*\n* @param {Complex64Array} x - input array\n* @param {NonNegativeInteger} offset - starting index\n* @returns {Float32Array} `Float32Array` view\n*\n* @example\n* var Complex64Array = require( '@stdlib/array-complex64' );\n*\n* var x = new Complex64Array( 10 );\n*\n* var out = reinterpret( x, 0 );\n* // returns <Float32Array>\n*\n* var bool = ( out.buffer === x.buffer );\n* // returns true\n*/\nfunction reinterpret( x, offset ) {\n\treturn new Float32Array( x.buffer, x.byteOffset+(x.BYTES_PER_ELEMENT*offset), 2*(x.length-offset) ); // eslint-disable-line max-len\n}\n\n\n// EXPORTS //\n\nmodule.exports = reinterpret;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2021 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n/**\n* Reinterpret a `Complex64Array` as a `Float32Array`.\n*\n* @module @stdlib/strided-base-reinterpret-complex64\n*\n* @example\n* var Complex64Array = require( '@stdlib/array-complex64' );\n* var reinterpret = require( '@stdlib/strided-base-reinterpret-complex64' );\n*\n* var x = new Complex64Array( 10 );\n*\n* var out = reinterpret( x, 0 );\n* // returns <Float32Array>\n*\n* var bool = ( out.buffer === x.buffer );\n* // returns true\n*/\n\n// MODULES //\n\nvar main = require( './main.js' );\n\n\n// EXPORTS //\n\nmodule.exports = main;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2021 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nvar Float64Array = require( '@stdlib/array-float64' );\n\n\n// MAIN //\n\n/**\n* Reinterprets a `Complex128Array` as a `Float64Array`.\n*\n* @param {Complex128Array} x - input array\n* @param {NonNegativeInteger} offset - starting index\n* @returns {Float64Array} `Float64Array` view\n*\n* @example\n* var Complex128Array = require( '@stdlib/array-complex128' );\n*\n* var x = new Complex128Array( 10 );\n*\n* var out = reinterpret( x, 0 );\n* // returns <Float64Array>\n*\n* var bool = ( out.buffer === x.buffer );\n* // returns true\n*/\nfunction reinterpret( x, offset ) {\n\treturn new Float64Array( x.buffer, x.byteOffset+(x.BYTES_PER_ELEMENT*offset), 2*(x.length-offset) ); // eslint-disable-line max-len\n}\n\n\n// EXPORTS //\n\nmodule.exports = reinterpret;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2021 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n/**\n* Reinterpret a `Complex128Array` as a `Float64Array`.\n*\n* @module @stdlib/strided-base-reinterpret-complex128\n*\n* @example\n* var Complex128Array = require( '@stdlib/array-complex128' );\n* var reinterpret = require( '@stdlib/strided-base-reinterpret-complex128' );\n*\n* var x = new Complex128Array( 10 );\n*\n* var out = reinterpret( x, 0 );\n* // returns <Float64Array>\n*\n* var bool = ( out.buffer === x.buffer );\n* // returns true\n*/\n\n// MODULES //\n\nvar main = require( './main.js' );\n\n\n// EXPORTS //\n\nmodule.exports = main;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nvar isArrayLikeObject = require( '@stdlib/assert-is-array-like-object' );\nvar isComplexLike = require( '@stdlib/assert-is-complex-like' );\nvar realf = require( '@stdlib/complex-realf' );\nvar imagf = require( '@stdlib/complex-imagf' );\nvar format = require( '@stdlib/string-format' );\n\n\n// MAIN //\n\n/**\n* Returns an array of iterated values.\n*\n* @private\n* @param {Object} it - iterator\n* @returns {(Array|TypeError)} array or an error\n*/\nfunction fromIterator( it ) {\n\tvar out;\n\tvar v;\n\tvar z;\n\n\tout = [];\n\twhile ( true ) {\n\t\tv = it.next();\n\t\tif ( v.done ) {\n\t\t\tbreak;\n\t\t}\n\t\tz = v.value;\n\t\tif ( isArrayLikeObject( z ) && z.length >= 2 ) {\n\t\t\tout.push( z[ 0 ], z[ 1 ] );\n\t\t} else if ( isComplexLike( z ) ) {\n\t\t\tout.push( realf( z ), imagf( z ) );\n\t\t} else {\n\t\t\treturn new TypeError( format( 'invalid argument. An iterator must return either a two-element array containing real and imaginary components or a complex number. Value: `%s`.', z ) );\n\t\t}\n\t}\n\treturn out;\n}\n\n\n// EXPORTS //\n\nmodule.exports = fromIterator;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nvar isArrayLikeObject = require( '@stdlib/assert-is-array-like-object' );\nvar isComplexLike = require( '@stdlib/assert-is-complex-like' );\nvar realf = require( '@stdlib/complex-realf' );\nvar imagf = require( '@stdlib/complex-imagf' );\nvar format = require( '@stdlib/string-format' );\n\n\n// MAIN //\n\n/**\n* Returns an array of iterated values.\n*\n* @private\n* @param {Object} it - iterator\n* @param {Function} clbk - callback to invoke for each iterated value\n* @param {*} thisArg - invocation context\n* @returns {(Array|TypeError)} array or an error\n*/\nfunction fromIteratorMap( it, clbk, thisArg ) {\n\tvar out;\n\tvar v;\n\tvar z;\n\tvar i;\n\n\tout = [];\n\ti = -1;\n\twhile ( true ) {\n\t\tv = it.next();\n\t\tif ( v.done ) {\n\t\t\tbreak;\n\t\t}\n\t\ti += 1;\n\t\tz = clbk.call( thisArg, v.value, i );\n\t\tif ( isArrayLikeObject( z ) && z.length >= 2 ) {\n\t\t\tout.push( z[ 0 ], z[ 1 ] );\n\t\t} else if ( isComplexLike( z ) ) {\n\t\t\tout.push( realf( z ), imagf( z ) );\n\t\t} else {\n\t\t\treturn new TypeError( format( 'invalid argument. Callback must return either a two-element array containing real and imaginary components or a complex number. Value: `%s`.', z ) );\n\t\t}\n\t}\n\treturn out;\n}\n\n\n// EXPORTS //\n\nmodule.exports = fromIteratorMap;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nvar isComplexLike = require( '@stdlib/assert-is-complex-like' );\nvar realf = require( '@stdlib/complex-realf' );\nvar imagf = require( '@stdlib/complex-imagf' );\n\n\n// MAIN //\n\n/**\n* Returns a strided array of real and imaginary components.\n*\n* @private\n* @param {Float32Array} buf - output array\n* @param {Array} arr - array containing complex numbers\n* @returns {(Float32Array|null)} output array or null\n*/\nfunction fromArray( buf, arr ) {\n\tvar len;\n\tvar v;\n\tvar i;\n\tvar j;\n\n\tlen = arr.length;\n\tj = 0;\n\tfor ( i = 0; i < len; i++ ) {\n\t\tv = arr[ i ];\n\t\tif ( !isComplexLike( v ) ) {\n\t\t\treturn null;\n\t\t}\n\t\tbuf[ j ] = realf( v );\n\t\tbuf[ j+1 ] = imagf( v );\n\t\tj += 2; // stride\n\t}\n\treturn buf;\n}\n\n\n// EXPORTS //\n\nmodule.exports = fromArray;\n","/* eslint-disable no-restricted-syntax, max-lines, no-invalid-this */\n\n/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nvar isNonNegativeInteger = require( '@stdlib/assert-is-nonnegative-integer' ).isPrimitive;\nvar isArrayLikeObject = require( '@stdlib/assert-is-array-like-object' );\nvar isCollection = require( '@stdlib/assert-is-collection' );\nvar isArrayBuffer = require( '@stdlib/assert-is-arraybuffer' );\nvar isObject = require( '@stdlib/assert-is-object' );\nvar isArray = require( '@stdlib/assert-is-array' );\nvar isString = require( '@stdlib/assert-is-string' ).isPrimitive;\nvar isFunction = require( '@stdlib/assert-is-function' );\nvar isComplexLike = require( '@stdlib/assert-is-complex-like' );\nvar isEven = require( '@stdlib/math-base-assert-is-even' );\nvar isInteger = require( '@stdlib/math-base-assert-is-integer' );\nvar isComplex64Array = require( '@stdlib/array-base-assert-is-complex64array' );\nvar isComplex128Array = require( '@stdlib/array-base-assert-is-complex128array' );\nvar hasIteratorSymbolSupport = require( '@stdlib/assert-has-iterator-symbol-support' );\nvar ITERATOR_SYMBOL = require( '@stdlib/symbol-iterator' );\nvar setReadOnly = require( '@stdlib/utils-define-nonenumerable-read-only-property' );\nvar setReadOnlyAccessor = require( '@stdlib/utils-define-nonenumerable-read-only-accessor' );\nvar Float32Array = require( '@stdlib/array-float32' );\nvar Complex64 = require( '@stdlib/complex-float32' );\nvar format = require( '@stdlib/string-format' );\nvar realf = require( '@stdlib/complex-realf' );\nvar imagf = require( '@stdlib/complex-imagf' );\nvar floor = require( '@stdlib/math-base-special-floor' );\nvar reinterpret64 = require( '@stdlib/strided-base-reinterpret-complex64' );\nvar reinterpret128 = require( '@stdlib/strided-base-reinterpret-complex128' );\nvar getter = require( '@stdlib/array-base-getter' );\nvar accessorGetter = require( '@stdlib/array-base-accessor-getter' );\nvar fromIterator = require( './from_iterator.js' );\nvar fromIteratorMap = require( './from_iterator_map.js' );\nvar fromArray = require( './from_array.js' );\n\n\n// VARIABLES //\n\nvar BYTES_PER_ELEMENT = Float32Array.BYTES_PER_ELEMENT * 2;\nvar HAS_ITERATOR_SYMBOL = hasIteratorSymbolSupport();\n\n\n// FUNCTIONS //\n\n/**\n* Returns a boolean indicating if a value is a complex typed array.\n*\n* @private\n* @param {*} value - value to test\n* @returns {boolean} boolean indicating if a value is a complex typed array\n*/\nfunction isComplexArray( value ) {\n\treturn (\n\t\tvalue instanceof Complex64Array ||\n\t\t(\n\t\t\ttypeof value === 'object' &&\n\t\t\tvalue !== null &&\n\t\t\t(\n\t\t\t\tvalue.constructor.name === 'Complex64Array' ||\n\t\t\t\tvalue.constructor.name === 'Complex128Array'\n\t\t\t) &&\n\t\t\ttypeof value._length === 'number' && // eslint-disable-line no-underscore-dangle\n\n\t\t\t// NOTE: we don't perform a more rigorous test here for a typed array for performance reasons, as robustly checking for a typed array instance could require walking the prototype tree and performing relatively expensive constructor checks...\n\t\t\ttypeof value._buffer === 'object' // eslint-disable-line no-underscore-dangle\n\t\t)\n\t);\n}\n\n/**\n* Returns a boolean indicating if a value is a complex typed array constructor.\n*\n* @private\n* @param {*} value - value to test\n* @returns {boolean} boolean indicating if a value is a complex typed array constructor\n*/\nfunction isComplexArrayConstructor( value ) {\n\treturn (\n\t\tvalue === Complex64Array ||\n\n\t\t// NOTE: weaker test in order to avoid a circular dependency with Complex128Array...\n\t\tvalue.name === 'Complex128Array'\n\t);\n}\n\n/**\n* Retrieves a complex number from a complex number array buffer.\n*\n* @private\n* @param {Float32Array} buf - array buffer\n* @param {NonNegativeInteger} idx - element index\n* @returns {Complex64} complex number\n*/\nfunction getComplex64( buf, idx ) {\n\tidx *= 2;\n\treturn new Complex64( buf[ idx ], buf[ idx+1 ] );\n}\n\n\n// MAIN //\n\n/**\n* 64-bit complex number array constructor.\n*\n* @constructor\n* @param {(NonNegativeInteger|Collection|ArrayBuffer|Iterable)} [arg] - length, typed array, array-like object, buffer, or an iterable\n* @param {NonNegativeInteger} [byteOffset=0] - byte offset\n* @param {NonNegativeInteger} [length] - view length\n* @throws {RangeError} ArrayBuffer byte length must be a multiple of `8`\n* @throws {RangeError} array-like object and typed array input arguments must have a length which is a multiple of two\n* @throws {TypeError} if provided only a single argument, must provide a valid argument\n* @throws {TypeError} byte offset must be a nonnegative integer\n* @throws {RangeError} byte offset must be a multiple of `8`\n* @throws {TypeError} view length must be a positive multiple of `8`\n* @throws {RangeError} must provide sufficient memory to accommodate byte offset and view length requirements\n* @throws {TypeError} an iterator must return either a two element array containing real and imaginary components or a complex number\n* @returns {Complex64Array} complex number array\n*\n* @example\n* var arr = new Complex64Array();\n* // returns <Complex64Array>\n*\n* var len = arr.length;\n* // returns 0\n*\n* @example\n* var arr = new Complex64Array( 2 );\n* // returns <Complex64Array>\n*\n* var len = arr.length;\n* // returns 2\n*\n* @example\n* var arr = new Complex64Array( [ 1.0, -1.0 ] );\n* // returns <Complex64Array>\n*\n* var len = arr.length;\n* // returns 1\n*\n* @example\n* var ArrayBuffer = require( '@stdlib/array-buffer' );\n*\n* var buf = new ArrayBuffer( 16 );\n* var arr = new Complex64Array( buf );\n* // returns <Complex64Array>\n*\n* var len = arr.length;\n* // returns 2\n*\n* @example\n* var ArrayBuffer = require( '@stdlib/array-buffer' );\n*\n* var buf = new ArrayBuffer( 16 );\n* var arr = new Complex64Array( buf, 8 );\n* // returns <Complex64Array>\n*\n* var len = arr.length;\n* // returns 1\n*\n* @example\n* var ArrayBuffer = require( '@stdlib/array-buffer' );\n*\n* var buf = new ArrayBuffer( 32 );\n* var arr = new Complex64Array( buf, 8, 2 );\n* // returns <Complex64Array>\n*\n* var len = arr.length;\n* // returns 2\n*/\nfunction Complex64Array() {\n\tvar byteOffset;\n\tvar nargs;\n\tvar buf;\n\tvar len;\n\n\tnargs = arguments.length;\n\tif ( !(this instanceof Complex64Array) ) {\n\t\tif ( nargs === 0 ) {\n\t\t\treturn new Complex64Array();\n\t\t}\n\t\tif ( nargs === 1 ) {\n\t\t\treturn new Complex64Array( arguments[0] );\n\t\t}\n\t\tif ( nargs === 2 ) {\n\t\t\treturn new Complex64Array( arguments[0], arguments[1] );\n\t\t}\n\t\treturn new Complex64Array( arguments[0], arguments[1], arguments[2] );\n\t}\n\t// Create the underlying data buffer...\n\tif ( nargs === 0 ) {\n\t\tbuf = new Float32Array( 0 ); // backward-compatibility\n\t} else if ( nargs === 1 ) {\n\t\tif ( isNonNegativeInteger( arguments[0] ) ) {\n\t\t\tbuf = new Float32Array( arguments[0]*2 );\n\t\t} else if ( isCollection( arguments[0] ) ) {\n\t\t\tbuf = arguments[ 0 ];\n\t\t\tlen = buf.length;\n\n\t\t\t// If provided a \"generic\" array, peak at the first value, and, if the value is a complex number, try to process as an array of complex numbers, falling back to \"normal\" typed array initialization if we fail and ensuring consistency if the first value had not been a complex number...\n\t\t\tif ( len && isArray( buf ) && isComplexLike( buf[0] ) ) {\n\t\t\t\tbuf = fromArray( new Float32Array( len*2 ), buf );\n\t\t\t\tif ( buf === null ) {\n\t\t\t\t\t// We failed and we are now forced to allocate a new array :-(\n\t\t\t\t\tif ( !isEven( len ) ) {\n\t\t\t\t\t\tthrow new RangeError( format( 'invalid argument. Array-like object arguments must have a length which is a multiple of two. Length: `%u`.', len ) );\n\t\t\t\t\t}\n\t\t\t\t\t// We failed, so fall back to directly setting values...\n\t\t\t\t\tbuf = new Float32Array( arguments[0] );\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif ( isComplex64Array( buf ) ) {\n\t\t\t\t\tbuf = reinterpret64( buf, 0 );\n\t\t\t\t} else if ( isComplex128Array( buf ) ) {\n\t\t\t\t\tbuf = reinterpret128( buf, 0 );\n\t\t\t\t} else if ( !isEven( len ) ) {\n\t\t\t\t\tthrow new RangeError( format( 'invalid argument. Array-like object and typed array arguments must have a length which is a multiple of two. Length: `%u`.', len ) );\n\t\t\t\t}\n\t\t\t\tbuf = new Float32Array( buf );\n\t\t\t}\n\t\t} else if ( isArrayBuffer( arguments[0] ) ) {\n\t\t\tbuf = arguments[ 0 ];\n\t\t\tif ( !isInteger( buf.byteLength/BYTES_PER_ELEMENT ) ) {\n\t\t\t\tthrow new RangeError( format( 'invalid argument. ArrayBuffer byte length must be a multiple of %u. Byte length: `%u`.', BYTES_PER_ELEMENT, buf.byteLength ) );\n\t\t\t}\n\t\t\tbuf = new Float32Array( buf );\n\t\t} else if ( isObject( arguments[0] ) ) {\n\t\t\tbuf = arguments[ 0 ];\n\t\t\tif ( HAS_ITERATOR_SYMBOL === false ) {\n\t\t\t\tthrow new TypeError( format( 'invalid argument. Environment lacks Symbol.iterator support. Must provide a length, ArrayBuffer, typed array, or array-like object. Value: `%s`.', buf ) );\n\t\t\t}\n\t\t\tif ( !isFunction( buf[ ITERATOR_SYMBOL ] ) ) {\n\t\t\t\tthrow new TypeError( format( 'invalid argument. Must provide a length, ArrayBuffer, typed array, array-like object, or an iterable. Value: `%s`.', buf ) );\n\t\t\t}\n\t\t\tbuf = buf[ ITERATOR_SYMBOL ]();\n\t\t\tif ( !isFunction( buf.next ) ) {\n\t\t\t\tthrow new TypeError( format( 'invalid argument. Must provide a length, ArrayBuffer, typed array, array-like object, or an iterable. Value: `%s`.', buf ) ); // FIXME: `buf` is what is returned from above, NOT the original value\n\t\t\t}\n\t\t\tbuf = fromIterator( buf );\n\t\t\tif ( buf instanceof Error ) {\n\t\t\t\tthrow buf;\n\t\t\t}\n\t\t\tbuf = new Float32Array( buf );\n\t\t} else {\n\t\t\tthrow new TypeError( format( 'invalid argument. Must provide a length, ArrayBuffer, typed array, array-like object, or an iterable. Value: `%s`.', arguments[0] ) );\n\t\t}\n\t} else {\n\t\tbuf = arguments[ 0 ];\n\t\tif ( !isArrayBuffer( buf ) ) {\n\t\t\tthrow new TypeError( format( 'invalid argument. First argument must be an ArrayBuffer. Value: `%s`.', buf ) );\n\t\t}\n\t\tbyteOffset = arguments[ 1 ];\n\t\tif ( !isNonNegativeInteger( byteOffset ) ) {\n\t\t\tthrow new TypeError( format( 'invalid argument. Byte offset must be a nonnegative integer. Value: `%s`.', byteOffset ) );\n\t\t}\n\t\tif ( !isInteger( byteOffset/BYTES_PER_ELEMENT ) ) {\n\t\t\tthrow new RangeError( format( 'invalid argument. Byte offset must be a multiple of %u. Value: `%u`.', BYTES_PER_ELEMENT, byteOffset ) );\n\t\t}\n\t\tif ( nargs === 2 ) {\n\t\t\tlen = buf.byteLength - byteOffset;\n\t\t\tif ( !isInteger( len/BYTES_PER_ELEMENT ) ) {\n\t\t\t\tthrow new RangeError( format( 'invalid arguments. ArrayBuffer view byte length must be a multiple of %u. View byte length: `%u`.', BYTES_PER_ELEMENT, len ) );\n\t\t\t}\n\t\t\tbuf = new Float32Array( buf, byteOffset );\n\t\t} else {\n\t\t\tlen = arguments[ 2 ];\n\t\t\tif ( !isNonNegativeInteger( len ) ) {\n\t\t\t\tthrow new TypeError( format( 'invalid argument. Length must be a nonnegative integer. Value: `%s`.', len ) );\n\t\t\t}\n\t\t\tif ( (len*BYTES_PER_ELEMENT) > (buf.byteLength-byteOffset) ) {\n\t\t\t\tthrow new RangeError( format( 'invalid arguments. ArrayBuffer has insufficient capacity. Either decrease the array length or provide a bigger buffer. Minimum capacity: `%u`.', len*BYTES_PER_ELEMENT ) );\n\t\t\t}\n\t\t\tbuf = new Float32Array( buf, byteOffset, len*2 );\n\t\t}\n\t}\n\tsetReadOnly( this, '_buffer', buf );\n\tsetReadOnly( this, '_length', buf.length/2 );\n\n\treturn this;\n}\n\n/**\n* Size (in bytes) of each array element.\n*\n* @name BYTES_PER_ELEMENT\n* @memberof Complex64Array\n* @readonly\n* @type {PositiveInteger}\n* @default 8\n*\n* @example\n* var nbytes = Complex64Array.BYTES_PER_ELEMENT;\n* // returns 8\n*/\nsetReadOnly( Complex64Array, 'BYTES_PER_ELEMENT', BYTES_PER_ELEMENT );\n\n/**\n* Constructor name.\n*\n* @name name\n* @memberof Complex64Array\n* @readonly\n* @type {string}\n* @default 'Complex64Array'\n*\n* @example\n* var str = Complex64Array.name;\n* // returns 'Complex64Array'\n*/\nsetReadOnly( Complex64Array, 'name', 'Complex64Array' );\n\n/**\n* Creates a new 64-bit complex number array from an array-like object or an iterable.\n*\n* @name from\n* @memberof Complex64Array\n* @type {Function}\n* @param {(Collection|Iterable)} src - array-like object or iterable\n* @param {Function} [clbk] - callback to invoke for each source element\n* @param {*} [thisArg] - context\n* @throws {TypeError} `this` context must be a constructor\n* @throws {TypeError} `this` must be a complex number array\n* @throws {TypeError} first argument must be an array-like object or an iterable\n* @throws {TypeError} second argument must be a function\n* @throws {RangeError} array-like objects must have a length which is a multiple of two\n* @throws {TypeError} an iterator must return either a two element array containing real and imaginary components or a complex number\n* @throws {TypeError} when provided an iterator, a callback must return either a two element array containing real and imaginary components or a complex number\n* @returns {Complex64Array} 64-bit complex number array\n*\n* @example\n* var arr = Complex64Array.from( [ 1.0, -1.0 ] );\n* // returns <Complex64Array>\n*\n* var len = arr.length;\n* // returns 1\n*\n* @example\n* var Complex64 = require( '@stdlib/complex-float32' );\n*\n* var arr = Complex64Array.from( [ new Complex64( 1.0, 1.0 ) ] );\n* // returns <Complex64Array>\n*\n* var len = arr.length;\n* // returns 1\n*\n* @example\n* var Complex64 = require( '@stdlib/complex-float32' );\n* var realf = require( '@stdlib/complex-realf' );\n* var imagf = require( '@stdlib/complex-imagf' );\n*\n* function clbk( v ) {\n*     return new Complex64( realf(v)*2.0, imagf(v)*2.0 );\n* }\n*\n* var arr = Complex64Array.from( [ new Complex64( 1.0, 1.0 ) ], clbk );\n* // returns <Complex64Array>\n*\n* var len = arr.length;\n* // returns 1\n*/\nsetReadOnly( Complex64Array, 'from', function from( src ) {\n\tvar thisArg;\n\tvar nargs;\n\tvar clbk;\n\tvar out;\n\tvar buf;\n\tvar tmp;\n\tvar get;\n\tvar len;\n\tvar flg;\n\tvar v;\n\tvar i;\n\tvar j;\n\tif ( !isFunction( this ) ) {\n\t\tthrow new TypeError( 'invalid invocation. `this` context must be a constructor.' );\n\t}\n\tif ( !isComplexArrayConstructor( this ) ) {\n\t\tthrow new TypeError( 'invalid invocation. `this` is not a complex number array.' );\n\t}\n\tnargs = arguments.length;\n\tif ( nargs > 1 ) {\n\t\tclbk = arguments[ 1 ];\n\t\tif ( !isFunction( clbk ) ) {\n\t\t\tthrow new TypeError( format( 'invalid argument. Second argument must be a function. Value: `%s`.', clbk ) );\n\t\t}\n\t\tif ( nargs > 2 ) {\n\t\t\tthisArg = arguments[ 2 ];\n\t\t}\n\t}\n\tif ( isComplexArray( src ) ) {\n\t\tlen = src.length;\n\t\tif ( clbk ) {\n\t\t\tout = new this( len );\n\t\t\tbuf = out._buffer; // eslint-disable-line no-underscore-dangle\n\t\t\tj = 0;\n\t\t\tfor ( i = 0; i < len; i++ ) {\n\t\t\t\tv = clbk.call( thisArg, src.get( i ), i );\n\t\t\t\tif ( isComplexLike( v ) ) {\n\t\t\t\t\tbuf[ j ] = realf( v );\n\t\t\t\t\tbuf[ j+1 ] = imagf( v );\n\t\t\t\t} else if ( isArrayLikeObject( v ) && v.length >= 2 ) {\n\t\t\t\t\tbuf[ j ] = v[ 0 ];\n\t\t\t\t\tbuf[ j+1 ] = v[ 1 ];\n\t\t\t\t} else {\n\t\t\t\t\tthrow new TypeError( format( 'invalid argument. Callback must return either a two-element array containing real and imaginary components or a complex number. Value: `%s`.', v ) );\n\t\t\t\t}\n\t\t\t\tj += 2; // stride\n\t\t\t}\n\t\t\treturn out;\n\t\t}\n\t\treturn new this( src );\n\t}\n\tif ( isCollection( src ) ) {\n\t\tif ( clbk ) {\n\t\t\t// Note: array contents affect how we iterate over a provided data source. If only complex number objects, we can extract real and imaginary components. Otherwise, for non-complex number arrays (e.g., `Float64Array`, etc), we assume a strided array where real and imaginary components are interleaved. In the former case, we expect a callback to return real and imaginary components (possibly as a complex number). In the latter case, we expect a callback to return *either* a real or imaginary component.\n\n\t\t\tlen = src.length;\n\t\t\tif ( src.get && src.set ) {\n\t\t\t\tget = accessorGetter( 'default' );\n\t\t\t} else {\n\t\t\t\tget = getter( 'default' );\n\t\t\t}\n\t\t\t// Detect whether we've been provided an array which returns complex number objects...\n\t\t\tfor ( i = 0; i < len; i++ ) {\n\t\t\t\tif ( !isComplexLike( get( src, i ) ) ) {\n\t\t\t\t\tflg = true;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\t// If an array does not contain only complex number objects, then we assume interleaved real and imaginary components...\n\t\t\tif ( flg ) {\n\t\t\t\tif ( !isEven( len ) ) {\n\t\t\t\t\tthrow new RangeError( format( 'invalid argument. First argument must have a length which is a multiple of %u. Length: `%u`.', 2, len ) );\n\t\t\t\t}\n\t\t\t\tout = new this( len/2 );\n\t\t\t\tbuf = out._buffer; // eslint-disable-line no-underscore-dangle\n\t\t\t\tfor ( i = 0; i < len; i++ ) {\n\t\t\t\t\tbuf[ i ] = clbk.call( thisArg, get( src, i ), i );\n\t\t\t\t}\n\t\t\t\treturn out;\n\t\t\t}\n\t\t\t// If an array contains only complex number objects, then we need to extract real and imaginary components...\n\t\t\tout = new this( len );\n\t\t\tbuf = out._buffer; // eslint-disable-line no-underscore-dangle\n\t\t\tj = 0;\n\t\t\tfor ( i = 0; i < len; i++ ) {\n\t\t\t\tv = clbk.call( thisArg, get( src, i ), i );\n\t\t\t\tif ( isComplexLike( v ) ) {\n\t\t\t\t\tbuf[ j ] = realf( v );\n\t\t\t\t\tbuf[ j+1 ] = imagf( v );\n\t\t\t\t} else if ( isArrayLikeObject( v ) && v.length >= 2 ) {\n\t\t\t\t\tbuf[ j ] = v[ 0 ];\n\t\t\t\t\tbuf[ j+1 ] = v[ 1 ];\n\t\t\t\t} else {\n\t\t\t\t\tthrow new TypeError( format( 'invalid argument. Callback must return either a two-element array containing real and imaginary components or a complex number. Value: `%s`.', v ) );\n\t\t\t\t}\n\t\t\t\tj += 2; // stride\n\t\t\t}\n\t\t\treturn out;\n\t\t}\n\t\treturn new this( src );\n\t}\n\tif ( isObject( src ) && HAS_ITERATOR_SYMBOL && isFunction( src[ ITERATOR_SYMBOL ] ) ) { // eslint-disable-line max-len\n\t\tbuf = src[ ITERATOR_SYMBOL ]();\n\t\tif ( !isFunction( buf.next ) ) {\n\t\t\tthrow new TypeError( format( 'invalid argument. First argument must be an array-like object or an iterable. Value: `%s`.', src ) );\n\t\t}\n\t\tif ( clbk ) {\n\t\t\ttmp = fromIteratorMap( buf, clbk, thisArg );\n\t\t} else {\n\t\t\ttmp = fromIterator( buf );\n\t\t}\n\t\tif ( tmp instanceof Error ) {\n\t\t\tthrow tmp;\n\t\t}\n\t\tlen = tmp.length / 2;\n\t\tout = new this( len );\n\t\tbuf = out._buffer; // eslint-disable-line no-underscore-dangle\n\t\tfor ( i = 0; i < len; i++ ) {\n\t\t\tbuf[ i ] = tmp[ i ];\n\t\t}\n\t\treturn out;\n\t}\n\tthrow new TypeError( format( 'invalid argument. First argument must be an array-like object or an iterable. Value: `%s`.', src ) );\n});\n\n/**\n* Creates a new 64-bit complex number array from a variable number of arguments.\n*\n* @name of\n* @memberof Complex64Array\n* @type {Function}\n* @param {...*} element - array elements\n* @throws {TypeError} `this` context must be a constructor\n* @throws {TypeError} `this` must be a complex number array\n* @returns {Complex64Array} 64-bit complex number array\n*\n* @example\n* var arr = Complex64Array.of( 1.0, 1.0, 1.0, 1.0 );\n* // returns <Complex64Array>\n*\n* var len = arr.length;\n* // returns 2\n*/\nsetReadOnly( Complex64Array, 'of', function of() {\n\tvar args;\n\tvar i;\n\tif ( !isFunction( this ) ) {\n\t\tthrow new TypeError( 'invalid invocation. `this` context must be a constructor.' );\n\t}\n\tif ( !isComplexArrayConstructor( this ) ) {\n\t\tthrow new TypeError( 'invalid invocation. `this` is not a complex number array.' );\n\t}\n\targs = [];\n\tfor ( i = 0; i < arguments.length; i++ ) {\n\t\targs.push( arguments[ i ] );\n\t}\n\treturn new this( args );\n});\n\n/**\n* Returns an array element with support for both nonnegative and negative integer indices.\n*\n* @name at\n* @memberof Complex64Array.prototype\n* @type {Function}\n* @param {integer} idx - element index\n* @throws {TypeError} `this` must be a complex number array\n* @throws {TypeError} must provide an integer\n* @returns {(Complex64|void)} array element\n*\n* @example\n* var arr = new Complex64Array( 10 );\n* var realf = require( '@stdlib/complex-realf' );\n* var imagf = require( '@stdlib/complex-imagf' );\n*\n* var z = arr.at( 0 );\n* // returns <Complex64>\n*\n* var re = realf( z );\n* // returns 0.0\n*\n* var im = imagf( z );\n* // returns 0.0\n*\n* arr.set( [ 1.0, -1.0 ], 0 );\n* arr.set( [ 2.0, -2.0 ], 1 );\n* arr.set( [ 9.0, -9.0 ], 9 );\n*\n* z = arr.at( 0 );\n* // returns <Complex64>\n*\n* re = realf( z );\n* // returns 1.0\n*\n* im = imagf( z );\n* // returns -1.0\n*\n* z = arr.at( -1 );\n* // returns <Complex64>\n*\n* re = realf( z );\n* // returns 9.0\n*\n* im = imagf( z );\n* // returns -9.0\n*\n* z = arr.at( 100 );\n* // returns undefined\n*\n* z = arr.at( -100 );\n* // returns undefined\n*/\nsetReadOnly( Complex64Array.prototype, 'at', function at( idx ) {\n\tif ( !isComplexArray( this ) ) {\n\t\tthrow new TypeError( 'invalid invocation. `this` is not a complex number array.' );\n\t}\n\tif ( !isInteger( idx ) ) {\n\t\tthrow new TypeError( format( 'invalid argument. Must provide an integer. Value: `%s`.', idx ) );\n\t}\n\tif ( idx < 0 ) {\n\t\tidx += this._length;\n\t}\n\tif ( idx < 0 || idx >= this._length ) {\n\t\treturn;\n\t}\n\treturn getComplex64( this._buffer, idx );\n});\n\n/**\n* Pointer to the underlying data buffer.\n*\n* @name buffer\n* @memberof Complex64Array.prototype\n* @readonly\n* @type {ArrayBuffer}\n*\n* @example\n* var arr = new Complex64Array( 10 );\n*\n* var buf = arr.buffer;\n* // returns <ArrayBuffer>\n*/\nsetReadOnlyAccessor( Complex64Array.prototype, 'buffer', function get() {\n\treturn this._buffer.buffer;\n});\n\n/**\n* Size (in bytes) of the array.\n*\n* @name byteLength\n* @memberof Complex64Array.prototype\n* @readonly\n* @type {NonNegativeInteger}\n*\n* @example\n* var arr = new Complex64Array( 10 );\n*\n* var byteLength = arr.byteLength;\n* // returns 80\n*/\nsetReadOnlyAccessor( Complex64Array.prototype, 'byteLength', function get() {\n\treturn this._buffer.byteLength;\n});\n\n/**\n* Offset (in bytes) of the array from the start of its underlying `ArrayBuffer`.\n*\n* @name byteOffset\n* @memberof Complex64Array.prototype\n* @readonly\n* @type {NonNegativeInteger}\n*\n* @example\n* var arr = new Complex64Array( 10 );\n*\n* var byteOffset = arr.byteOffset;\n* // returns 0\n*/\nsetReadOnlyAccessor( Complex64Array.prototype, 'byteOffset', function get() {\n\treturn this._buffer.byteOffset;\n});\n\n/**\n* Size (in bytes) of each array element.\n*\n* @name BYTES_PER_ELEMENT\n* @memberof Complex64Array.prototype\n* @readonly\n* @type {PositiveInteger}\n* @default 8\n*\n* @example\n* var arr = new Complex64Array( 10 );\n*\n* var nbytes = arr.BYTES_PER_ELEMENT;\n* // returns 8\n*/\nsetReadOnly( Complex64Array.prototype, 'BYTES_PER_ELEMENT', Complex64Array.BYTES_PER_ELEMENT );\n\n/**\n* Copies a sequence of elements within the array to the position starting at `target`.\n*\n* @name copyWithin\n* @memberof Complex64Array.prototype\n* @type {Function}\n* @param {integer} target - index at which to start copying elements\n* @param {integer} start - source index at which to copy elements from\n* @param {integer} [end] - source index at which to stop copying elements from\n* @throws {TypeError} `this` must be a complex number array\n* @returns {Complex64Array} modified array\n*\n* @example\n* var Complex64 = require( '@stdlib/complex-float32' );\n* var realf = require( '@stdlib/complex-realf' );\n* var imagf = require( '@stdlib/complex-imagf' );\n*\n* var arr = new Complex64Array( 4 );\n*\n* // Set the array elements:\n* arr.set( new Complex64( 1.0, 1.0 ), 0 );\n* arr.set( new Complex64( 2.0, 2.0 ), 1 );\n* arr.set( new Complex64( 3.0, 3.0 ), 2 );\n* arr.set( new Complex64( 4.0, 4.0 ), 3 );\n*\n* // Copy the first two elements to the last two elements:\n* arr.copyWithin( 2, 0, 2 );\n*\n* // Get the last array element:\n* var z = arr.get( 3 );\n*\n* var re = realf( z );\n* // returns 2.0\n*\n* var im = imagf( z );\n* // returns 2.0\n*/\nsetReadOnly( Complex64Array.prototype, 'copyWithin', function copyWithin( target, start ) {\n\tif ( !isComplexArray( this ) ) {\n\t\tthrow new TypeError( 'invalid invocation. `this` is not a complex number array.' );\n\t}\n\t// FIXME: prefer a functional `copyWithin` implementation which addresses lack of universal browser support (e.g., IE11 and Safari) or ensure that typed arrays are polyfilled\n\tif ( arguments.length === 2 ) {\n\t\tthis._buffer.copyWithin( target*2, start*2 );\n\t} else {\n\t\tthis._buffer.copyWithin( target*2, start*2, arguments[2]*2 );\n\t}\n\treturn this;\n});\n\n/**\n* Returns an iterator for iterating over array key-value pairs.\n*\n* @name entries\n* @memberof Complex64Array.prototype\n* @type {Function}\n* @throws {TypeError} `this` must be a complex number array\n* @returns {Iterator} iterator\n*\n* @example\n* var Complex64 = require( '@stdlib/complex-float32' );\n*\n* var arr = [\n*     new Complex64( 1.0, 1.0 ),\n*     new Complex64( 2.0, 2.0 ),\n*     new Complex64( 3.0, 3.0 )\n* ];\n* arr = new Complex64Array( arr );\n*\n* // Create an iterator:\n* var it = arr.entries();\n*\n* // Iterate over the key-value pairs...\n* var v = it.next().value;\n* // returns [ 0, <Complex64> ]\n*\n* v = it.next().value;\n* // returns [ 1, <Complex64> ]\n*\n* v = it.next().value;\n* // returns [ 2, <Complex64> ]\n*\n* var bool = it.next().done;\n* // returns true\n*/\nsetReadOnly( Complex64Array.prototype, 'entries', function entries() {\n\tvar buffer;\n\tvar self;\n\tvar iter;\n\tvar len;\n\tvar FLG;\n\tvar i;\n\tvar j;\n\tif ( !isComplexArray( this ) ) {\n\t\tthrow new TypeError( 'invalid invocation. `this` is not a complex number array.' );\n\t}\n\tself = this;\n\tbuffer = this._buffer;\n\tlen = this._length;\n\n\t// Initialize the iteration indices:\n\ti = -1;\n\tj = -2;\n\n\t// Create an iterator protocol-compliant object:\n\titer = {};\n\tsetReadOnly( iter, 'next', next );\n\tsetReadOnly( iter, 'return', end );\n\n\tif ( ITERATOR_SYMBOL ) {\n\t\tsetReadOnly( iter, ITERATOR_SYMBOL, factory );\n\t}\n\treturn iter;\n\n\t/**\n\t* Returns an iterator protocol-compliant object containing the next iterated value.\n\t*\n\t* @private\n\t* @returns {Object} iterator protocol-compliant object\n\t*/\n\tfunction next() {\n\t\tvar z;\n\t\ti += 1;\n\t\tif ( FLG || i >= len ) {\n\t\t\treturn {\n\t\t\t\t'done': true\n\t\t\t};\n\t\t}\n\t\tj += 2;\n\t\tz = new Complex64( buffer[ j ], buffer[ j+1 ] );\n\t\treturn {\n\t\t\t'value': [ i, z ],\n\t\t\t'done': false\n\t\t};\n\t}\n\n\t/**\n\t* Finishes an iterator.\n\t*\n\t* @private\n\t* @param {*} [value] - value to return\n\t* @returns {Object} iterator protocol-compliant object\n\t*/\n\tfunction end( value ) {\n\t\tFLG = true;\n\t\tif ( arguments.length ) {\n\t\t\treturn {\n\t\t\t\t'value': value,\n\t\t\t\t'done': true\n\t\t\t};\n\t\t}\n\t\treturn {\n\t\t\t'done': true\n\t\t};\n\t}\n\n\t/**\n\t* Returns a new iterator.\n\t*\n\t* @private\n\t* @returns {Iterator} iterator\n\t*/\n\tfunction factory() {\n\t\treturn self.entries();\n\t}\n});\n\n/**\n* Tests whether all elements in an array pass a test implemented by a predicate function.\n*\n* @name every\n* @memberof Complex64Array.prototype\n* @type {Function}\n* @param {Function} predicate - test function\n* @param {*} [thisArg] - predicate function execution context\n* @throws {TypeError} `this` must be a complex number array\n* @throws {TypeError} first argument must be a function\n* @returns {boolean} boolean indicating whether all elements pass a test\n*\n* @example\n* var realf = require( '@stdlib/complex-realf' );\n* var imagf = require( '@stdlib/complex-imagf' );\n*\n* function predicate( v ) {\n*     return ( realf( v ) === imagf( v ) );\n* }\n*\n* var arr = new Complex64Array( 3 );\n*\n* arr.set( [ 1.0, 1.0 ], 0 );\n* arr.set( [ 2.0, 2.0 ], 1 );\n* arr.set( [ 3.0, 3.0 ], 2 );\n*\n* var bool = arr.every( predicate );\n* // returns true\n*/\nsetReadOnly( Complex64Array.prototype, 'every', function every( predicate, thisArg ) {\n\tvar buf;\n\tvar i;\n\tif ( !isComplexArray( this ) ) {\n\t\tthrow new TypeError( 'invalid invocation. `this` is not a complex number array.' );\n\t}\n\tif ( !isFunction( predicate ) ) {\n\t\tthrow new TypeError( format( 'invalid argument. First argument must be a function. Value: `%s`.', predicate ) );\n\t}\n\tbuf = this._buffer;\n\tfor ( i = 0; i < this._length; i++ ) {\n\t\tif ( !predicate.call( thisArg, getComplex64( buf, i ), i, this ) ) {\n\t\t\treturn false;\n\t\t}\n\t}\n\treturn true;\n});\n\n/**\n* Returns a modified typed array filled with a fill value.\n*\n* @name fill\n* @memberof Complex64Array.prototype\n* @type {Function}\n* @param {ComplexLike} value - fill value\n* @param {integer} [start=0] - starting index (inclusive)\n* @param {integer} [end] - ending index (exclusive)\n* @throws {TypeError} `this` must be a complex number array\n* @throws {TypeError} first argument must be a complex number\n* @throws {TypeError} second argument must be an integer\n* @throws {TypeError} third argument must be an integer\n*\n* @example\n* var realf = require( '@stdlib/complex-realf' );\n* var imagf = require( '@stdlib/complex-imagf' );\n*\n* var arr = new Complex64Array( 3 );\n*\n* arr.fill( new Complex64( 1.0, 1.0 ), 1 );\n*\n* var z = arr.get( 1 );\n* // returns <Complex64>\n*\n* var re = realf( z );\n* // returns 1.0\n*\n* var im = imagf( z );\n* // returns 1.0\n*\n* z = arr.get( 1 );\n* // returns <Complex64>\n*\n* re = realf( z );\n* // returns 1.0\n*\n* im = imagf( z );\n* // returns 1.0\n*/\nsetReadOnly( Complex64Array.prototype, 'fill', function fill( value, start, end ) {\n\tvar buf;\n\tvar len;\n\tvar idx;\n\tvar re;\n\tvar im;\n\tvar i;\n\tif ( !isComplexArray( this ) ) {\n\t\tthrow new TypeError( 'invalid invocation. `this` is not a complex number array.' );\n\t}\n\tif ( !isComplexLike( value ) ) {\n\t\tthrow new TypeError( format( 'invalid argument. First argument must be a complex number. Value: `%s`.', value ) );\n\t}\n\tbuf = this._buffer;\n\tlen = this._length;\n\tif ( arguments.length > 1 ) {\n\t\tif ( !isInteger( start ) ) {\n\t\t\tthrow new TypeError( format( 'invalid argument. Second argument must be an integer. Value: `%s`.', start ) );\n\t\t}\n\t\tif ( start < 0 ) {\n\t\t\tstart += len;\n\t\t\tif ( start < 0 ) {\n\t\t\t\tstart = 0;\n\t\t\t}\n\t\t}\n\t\tif ( arguments.length > 2 ) {\n\t\t\tif ( !isInteger( end ) ) {\n\t\t\t\tthrow new TypeError( format( 'invalid argument. Third argument must be an integer. Value: `%s`.', end ) );\n\t\t\t}\n\t\t\tif ( end < 0 ) {\n\t\t\t\tend += len;\n\t\t\t\tif ( end < 0 ) {\n\t\t\t\t\tend = 0;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif ( end > len ) {\n\t\t\t\tend = len;\n\t\t\t}\n\t\t} else {\n\t\t\tend = len;\n\t\t}\n\t} else {\n\t\tstart = 0;\n\t\tend = len;\n\t}\n\tre = realf( value );\n\tim = imagf( value );\n\tfor ( i = start; i < end; i++ ) {\n\t\tidx = 2*i;\n\t\tbuf[ idx ] = re;\n\t\tbuf[ idx+1 ] = im;\n\t}\n\treturn this;\n});\n\n/**\n* Returns a new array containing the elements of an array which pass a test implemented by a predicate function.\n*\n* @name filter\n* @memberof Complex64Array.prototype\n* @type {Function}\n* @param {Function} predicate - test function\n* @param {*} [thisArg] - predicate function execution context\n* @throws {TypeError} `this` must be a complex number array\n* @throws {TypeError} first argument must be a function\n* @returns {Complex64Array} complex number array\n*\n* @example\n* var realf = require( '@stdlib/complex-realf' );\n* var imagf = require( '@stdlib/complex-imagf' );\n*\n* function predicate( v ) {\n*     return ( realf( v ) === imagf( v ) );\n* }\n*\n* var arr = new Complex64Array( 3 );\n*\n* arr.set( [ 1.0, -1.0 ], 0 );\n* arr.set( [ 2.0, 2.0 ], 1 );\n* arr.set( [ 3.0, -3.0 ], 2 );\n*\n* var out = arr.filter( predicate );\n* // returns <Complex64Array>\n*\n* var len = out.length;\n* // returns 1\n*\n* var z = out.get( 0 );\n* // returns <Complex64>\n*\n* var re = realf( z );\n* // returns 2.0\n*\n* var im = imagf( z );\n* // returns 2.0\n*/\nsetReadOnly( Complex64Array.prototype, 'filter', function filter( predicate, thisArg ) {\n\tvar buf;\n\tvar out;\n\tvar i;\n\tvar z;\n\tif ( !isComplexArray( this ) ) {\n\t\tthrow new TypeError( 'invalid invocation. `this` is not a complex number array.' );\n\t}\n\tif ( !isFunction( predicate ) ) {\n\t\tthrow new TypeError( format( 'invalid argument. First argument must be a function. Value: `%s`.', predicate ) );\n\t}\n\tbuf = this._buffer;\n\tout = [];\n\tfor ( i = 0; i < this._length; i++ ) {\n\t\tz = getComplex64( buf, i );\n\t\tif ( predicate.call( thisArg, z, i, this ) ) {\n\t\t\tout.push( z );\n\t\t}\n\t}\n\treturn new this.constructor( out );\n});\n\n/**\n* Returns the first element in an array for which a predicate function returns a truthy value.\n*\n* @name find\n* @memberof Complex64Array.prototype\n* @type {Function}\n* @param {Function} predicate - test function\n* @param {*} [thisArg] - predicate function execution context\n* @throws {TypeError} `this` must be a complex number array\n* @throws {TypeError} first argument must be a function\n* @returns {(Complex64|void)} array element or undefined\n*\n* @example\n* var realf = require( '@stdlib/complex-realf' );\n* var imagf = require( '@stdlib/complex-imagf' );\n* var Complex64 = require( '@stdlib/complex-float32' );\n*\n* function predicate( v ) {\n*     return ( realf( v ) === imagf( v ) );\n* }\n*\n* var arr = new Complex64Array( 3 );\n*\n* arr.set( [ 1.0, 1.0 ], 0 );\n* arr.set( [ 2.0, 2.0 ], 1 );\n* arr.set( [ 3.0, 3.0 ], 2 );\n*\n* var z = arr.find( predicate );\n* // returns <Complex64>\n*\n* var re = realf( z );\n* // returns 1.0\n*\n* var im = imagf( z );\n* // returns 1.0\n*/\nsetReadOnly( Complex64Array.prototype, 'find', function find( predicate, thisArg ) {\n\tvar buf;\n\tvar i;\n\tvar z;\n\tif ( !isComplexArray( this ) ) {\n\t\tthrow new TypeError( 'invalid invocation. `this` is not a complex number array.' );\n\t}\n\tif ( !isFunction( predicate ) ) {\n\t\tthrow new TypeError( format( 'invalid argument. First argument must be a function. Value: `%s`.', predicate ) );\n\t}\n\tbuf = this._buffer;\n\tfor ( i = 0; i < this._length; i++ ) {\n\t\tz = getComplex64( buf, i );\n\t\tif ( predicate.call( thisArg, z, i, this ) ) {\n\t\t\treturn z;\n\t\t}\n\t}\n});\n\n/**\n* Returns the index of the first element in an array for which a predicate function returns a truthy value.\n*\n* @name findIndex\n* @memberof Complex64Array.prototype\n* @type {Function}\n* @param {Function} predicate - test function\n* @param {*} [thisArg] - predicate function execution context\n* @throws {TypeError} `this` must be a complex number array\n* @throws {TypeError} first argument must be a function\n* @returns {integer} index or -1\n*\n* @example\n* var Complex64 = require( '@stdlib/complex-float32' );\n* var realf = require( '@stdlib/complex-realf' );\n* var imagf = require( '@stdlib/complex-imagf' );\n*\n* function predicate( v ) {\n*     return ( realf( v ) === imagf( v ) );\n* }\n*\n* var arr = new Complex64Array( 3 );\n*\n* arr.set( [ 1.0, -1.0 ], 0 );\n* arr.set( [ 2.0, -2.0 ], 1 );\n* arr.set( [ 3.0, 3.0 ], 2 );\n*\n* var idx = arr.findIndex( predicate );\n* // returns 2\n*/\nsetReadOnly( Complex64Array.prototype, 'findIndex', function findIndex( predicate, thisArg ) {\n\tvar buf;\n\tvar i;\n\tvar z;\n\tif ( !isComplexArray( this ) ) {\n\t\tthrow new TypeError( 'invalid invocation. `this` is not a complex number array.' );\n\t}\n\tif ( !isFunction( predicate ) ) {\n\t\tthrow new TypeError( format( 'invalid argument. First argument must be a function. Value: `%s`.', predicate ) );\n\t}\n\tbuf = this._buffer;\n\tfor ( i = 0; i < this._length; i++ ) {\n\t\tz = getComplex64( buf, i );\n\t\tif ( predicate.call( thisArg, z, i, this ) ) {\n\t\t\treturn i;\n\t\t}\n\t}\n\treturn -1;\n});\n\n/**\n* Returns the last element in an array for which a predicate function returns a truthy value.\n*\n* @name findLast\n* @memberof Complex64Array.prototype\n* @type {Function}\n* @param {Function} predicate - test function\n* @param {*} [thisArg] - predicate function execution context\n* @throws {TypeError} `this` must be a complex number array\n* @throws {TypeError} first argument must be a function\n* @returns {(Complex64|void)} array element or undefined\n*\n* @example\n* var realf = require( '@stdlib/complex-realf' );\n* var imagf = require( '@stdlib/complex-imagf' );\n* var Complex64 = require( '@stdlib/complex-float32' );\n*\n* function predicate( v ) {\n*     return ( realf( v ) === imagf( v ) );\n* }\n*\n* var arr = new Complex64Array( 3 );\n*\n* arr.set( [ 1.0, 1.0 ], 0 );\n* arr.set( [ 2.0, 2.0 ], 1 );\n* arr.set( [ 3.0, 3.0 ], 2 );\n*\n* var z = arr.findLast( predicate );\n* // returns <Complex64>\n*\n* var re = realf( z );\n* // returns 3.0\n*\n* var im = imagf( z );\n* // returns 3.0\n*/\nsetReadOnly( Complex64Array.prototype, 'findLast', function findLast( predicate, thisArg ) {\n\tvar buf;\n\tvar i;\n\tvar z;\n\tif ( !isComplexArray( this ) ) {\n\t\tthrow new TypeError( 'invalid invocation. `this` is not a complex number array.' );\n\t}\n\tif ( !isFunction( predicate ) ) {\n\t\tthrow new TypeError( format( 'invalid argument. First argument must be a function. Value: `%s`.', predicate ) );\n\t}\n\tbuf = this._buffer;\n\tfor ( i = this._length-1; i >= 0; i-- ) {\n\t\tz = getComplex64( buf, i );\n\t\tif ( predicate.call( thisArg, z, i, this ) ) {\n\t\t\treturn z;\n\t\t}\n\t}\n});\n\n/**\n* Returns the index of the last element in an array for which a predicate function returns a truthy value.\n*\n* @name findLastIndex\n* @memberof Complex64Array.prototype\n* @type {Function}\n* @param {Function} predicate - test function\n* @param {*} [thisArg] - predicate function execution context\n* @throws {TypeError} `this` must be a complex number array\n* @throws {TypeError} first argument must be a function\n* @returns {integer} index or -1\n*\n* @example\n* var Complex64 = require( '@stdlib/complex-float32' );\n* var realf = require( '@stdlib/complex-realf' );\n* var imagf = require( '@stdlib/complex-imagf' );\n*\n* function predicate( v ) {\n*     return ( realf( v ) === imagf( v ) );\n* }\n*\n* var arr = new Complex64Array( 3 );\n*\n* arr.set( [ 1.0, 1.0 ], 0 );\n* arr.set( [ 2.0, 2.0 ], 1 );\n* arr.set( [ 3.0, -3.0 ], 2 );\n*\n* var idx = arr.findLastIndex( predicate );\n* // returns 1\n*/\nsetReadOnly( Complex64Array.prototype, 'findLastIndex', function findLastIndex( predicate, thisArg ) {\n\tvar buf;\n\tvar i;\n\tvar z;\n\tif ( !isComplexArray( this ) ) {\n\t\tthrow new TypeError( 'invalid invocation. `this` is not a complex number array.' );\n\t}\n\tif ( !isFunction( predicate ) ) {\n\t\tthrow new TypeError( format( 'invalid argument. First argument must be a function. Value: `%s`.', predicate ) );\n\t}\n\tbuf = this._buffer;\n\tfor ( i = this._length-1; i >= 0; i-- ) {\n\t\tz = getComplex64( buf, i );\n\t\tif ( predicate.call( thisArg, z, i, this ) ) {\n\t\t\treturn i;\n\t\t}\n\t}\n\treturn -1;\n});\n\n/**\n* Invokes a function once for each array element.\n*\n* @name forEach\n* @memberof Complex64Array.prototype\n* @type {Function}\n* @param {Function} fcn - function to invoke\n* @param {*} [thisArg] - function invocation context\n* @throws {TypeError} `this` must be a complex number array\n* @throws {TypeError} first argument must be a function\n*\n* @example\n* var Complex64 = require( '@stdlib/complex-float32' );\n*\n* function log( v, i ) {\n*     console.log( '%s: %s', i, v.toString() );\n* }\n*\n* var arr = new Complex64Array( 3 );\n*\n* arr.set( [ 1.0, 1.0 ], 0 );\n* arr.set( [ 2.0, 2.0 ], 1 );\n* arr.set( [ 3.0, 3.0 ], 2 );\n*\n* arr.forEach( log );\n*/\nsetReadOnly( Complex64Array.prototype, 'forEach', function forEach( fcn, thisArg ) {\n\tvar buf;\n\tvar i;\n\tvar z;\n\tif ( !isComplexArray( this ) ) {\n\t\tthrow new TypeError( 'invalid invocation. `this` is not a complex number array.' );\n\t}\n\tif ( !isFunction( fcn ) ) {\n\t\tthrow new TypeError( format( 'invalid argument. First argument must be a function. Value: `%s`.', fcn ) );\n\t}\n\tbuf = this._buffer;\n\tfor ( i = 0; i < this._length; i++ ) {\n\t\tz = getComplex64( buf, i );\n\t\tfcn.call( thisArg, z, i, this );\n\t}\n});\n\n/**\n* Returns an array element.\n*\n* @name get\n* @memberof Complex64Array.prototype\n* @type {Function}\n* @param {NonNegativeInteger} idx - element index\n* @throws {TypeError} `this` must be a complex number array\n* @throws {TypeError} must provide a nonnegative integer\n* @returns {(Complex64|void)} array element\n*\n* @example\n* var arr = new Complex64Array( 10 );\n* var realf = require( '@stdlib/complex-realf' );\n* var imagf = require( '@stdlib/complex-imagf' );\n*\n* var z = arr.get( 0 );\n* // returns <Complex64>\n*\n* var re = realf( z );\n* // returns 0.0\n*\n* var im = imagf( z );\n* // returns 0.0\n*\n* arr.set( [ 1.0, -1.0 ], 0 );\n*\n* z = arr.get( 0 );\n* // returns <Complex64>\n*\n* re = realf( z );\n* // returns 1.0\n*\n* im = imagf( z );\n* // returns -1.0\n*\n* z = arr.get( 100 );\n* // returns undefined\n*/\nsetReadOnly( Complex64Array.prototype, 'get', function get( idx ) {\n\tif ( !isComplexArray( this ) ) {\n\t\tthrow new TypeError( 'invalid invocation. `this` is not a complex number array.' );\n\t}\n\tif ( !isNonNegativeInteger( idx ) ) {\n\t\tthrow new TypeError( format( 'invalid argument. Must provide a nonnegative integer. Value: `%s`.', idx ) );\n\t}\n\tif ( idx >= this._length ) {\n\t\treturn;\n\t}\n\treturn getComplex64( this._buffer, idx );\n});\n\n/**\n* Returns a boolean indicating whether an array includes a provided value.\n*\n* @name includes\n* @memberof Complex64Array.prototype\n* @type {Function}\n* @param {ComplexLike} searchElement - search element\n* @param {integer} [fromIndex=0] - starting index (inclusive)\n* @throws {TypeError} `this` must be a complex number array\n* @throws {TypeError} first argument must be a complex number\n* @throws {TypeError} second argument must be an integer\n* @returns {boolean} boolean indicating whether an array includes a provided value\n*\n* @example\n* var Complex64 = require( '@stdlib/complex-float32' );\n*\n* var arr = new Complex64Array( 5 );\n*\n* arr.set( [ 1.0, -1.0 ], 0 );\n* arr.set( [ 2.0, -2.0 ], 1 );\n* arr.set( [ 3.0, -3.0 ], 2 );\n* arr.set( [ 4.0, -4.0 ], 3 );\n* arr.set( [ 5.0, -5.0 ], 4 );\n*\n* var bool = arr.includes( new Complex64( 3.0, -3.0 ) );\n* // returns true\n*\n* bool = arr.includes( new Complex64( 3.0, -3.0 ), 3 );\n* // returns false\n*\n* bool = arr.includes( new Complex64( 4.0, -4.0 ), -3 );\n* // returns true\n*/\nsetReadOnly( Complex64Array.prototype, 'includes', function includes( searchElement, fromIndex ) {\n\tvar buf;\n\tvar idx;\n\tvar re;\n\tvar im;\n\tvar i;\n\tif ( !isComplexArray( this ) ) {\n\t\tthrow new TypeError( 'invalid invocation. `this` is not a complex number array.' );\n\t}\n\tif ( !isComplexLike( searchElement ) ) {\n\t\tthrow new TypeError( format( 'invalid argument. First argument must be a complex number. Value: `%s`.', searchElement ) );\n\t}\n\tif ( arguments.length > 1 ) {\n\t\tif ( !isInteger( fromIndex ) ) {\n\t\t\tthrow new TypeError( format( 'invalid argument. Second argument must be an integer. Value: `%s`.', fromIndex ) );\n\t\t}\n\t\tif ( fromIndex < 0 ) {\n\t\t\tfromIndex += this._length;\n\t\t\tif ( fromIndex < 0 ) {\n\t\t\t\tfromIndex = 0;\n\t\t\t}\n\t\t}\n\t} else {\n\t\tfromIndex = 0;\n\t}\n\tre = realf( searchElement );\n\tim = imagf( searchElement );\n\tbuf = this._buffer;\n\tfor ( i = fromIndex; i < this._length; i++ ) {\n\t\tidx = 2 * i;\n\t\tif ( re === buf[ idx ] && im === buf[ idx+1 ] ) {\n\t\t\treturn true;\n\t\t}\n\t}\n\treturn false;\n});\n\n/**\n* Returns the first index at which a given element can be found.\n*\n* @name indexOf\n* @memberof Complex64Array.prototype\n* @type {Function}\n* @param {ComplexLike} searchElement - element to find\n* @param {integer} [fromIndex=0] - starting index (inclusive)\n* @throws {TypeError} `this` must be a complex number array\n* @throws {TypeError} first argument must be a complex number\n* @throws {TypeError} second argument must be an integer\n* @returns {integer} index or -1\n*\n* @example\n* var Complex64 = require( '@stdlib/complex-float32' );\n*\n* var arr = new Complex64Array( 10 );\n*\n* arr.set( [ 1.0, -1.0 ], 0 );\n* arr.set( [ 2.0, -2.0 ], 1 );\n* arr.set( [ 3.0, -3.0 ], 2 );\n* arr.set( [ 4.0, -4.0 ], 3 );\n* arr.set( [ 5.0, -5.0 ], 4 );\n*\n* var idx = arr.indexOf( new Complex64( 3.0, -3.0 ) );\n* // returns 2\n*\n* idx = arr.indexOf( new Complex64( 3.0, -3.0 ), 3 );\n* // returns -1\n*\n* idx = arr.indexOf( new Complex64( 4.0, -4.0 ), -3 );\n* // returns -1\n*/\nsetReadOnly( Complex64Array.prototype, 'indexOf', function indexOf( searchElement, fromIndex ) {\n\tvar buf;\n\tvar idx;\n\tvar re;\n\tvar im;\n\tvar i;\n\tif ( !isComplexArray( this ) ) {\n\t\tthrow new TypeError( 'invalid invocation. `this` is not a complex number array.' );\n\t}\n\tif ( !isComplexLike( searchElement ) ) {\n\t\tthrow new TypeError( format( 'invalid argument. First argument must be a complex number. Value: `%s`.', searchElement ) );\n\t}\n\tif ( arguments.length > 1 ) {\n\t\tif ( !isInteger( fromIndex ) ) {\n\t\t\tthrow new TypeError( format( 'invalid argument. Second argument must be an integer. Value: `%s`.', fromIndex ) );\n\t\t}\n\t\tif ( fromIndex < 0 ) {\n\t\t\tfromIndex += this._length;\n\t\t\tif ( fromIndex < 0 ) {\n\t\t\t\tfromIndex = 0;\n\t\t\t}\n\t\t}\n\t} else {\n\t\tfromIndex = 0;\n\t}\n\tre = realf( searchElement );\n\tim = imagf( searchElement );\n\tbuf = this._buffer;\n\tfor ( i = fromIndex; i < this._length; i++ ) {\n\t\tidx = 2 * i;\n\t\tif ( re === buf[ idx ] && im === buf[ idx+1 ] ) {\n\t\t\treturn i;\n\t\t}\n\t}\n\treturn -1;\n});\n\n/**\n* Returns a new string by concatenating all array elements.\n*\n* @name join\n* @memberof Complex64Array.prototype\n* @type {Function}\n* @param {string} [separator=','] - element separator\n* @throws {TypeError} `this` must be a complex number array\n* @throws {TypeError} first argument must be a string\n* @returns {string} string representation\n*\n* @example\n* var arr = new Complex64Array( 2 );\n*\n* arr.set( [ 1.0, 1.0 ], 0 );\n* arr.set( [ 2.0, 2.0 ], 1 );\n*\n* var str = arr.join();\n* // returns '1 + 1i,2 + 2i'\n*\n* str = arr.join( '/' );\n* // returns '1 + 1i/2 + 2i'\n*/\nsetReadOnly( Complex64Array.prototype, 'join', function join( separator ) {\n\tvar out;\n\tvar buf;\n\tvar sep;\n\tvar i;\n\tif ( !isComplexArray( this ) ) {\n\t\tthrow new TypeError( 'invalid invocation. `this` is not a complex number array.' );\n\t}\n\tif ( arguments.length === 0 ) {\n\t\tsep = ',';\n\t} else if ( isString( separator ) ) {\n\t\tsep = separator;\n\t} else {\n\t\tthrow new TypeError( format( 'invalid argument. First argument must be a string. Value: `%s`.', separator ) );\n\t}\n\tout = [];\n\tbuf = this._buffer;\n\tfor ( i = 0; i < this._length; i++ ) {\n\t\tout.push( getComplex64( buf, i ).toString() );\n\t}\n\treturn out.join( sep );\n});\n\n/**\n* Returns the last index at which a given element can be found.\n*\n* @name lastIndexOf\n* @memberof Complex64Array.prototype\n* @type {Function}\n* @param {ComplexLike} searchElement - element to find\n* @param {integer} [fromIndex] - index at which to start searching backward (inclusive)\n* @throws {TypeError} `this` must be a complex number array\n* @throws {TypeError} first argument must be a complex number\n* @throws {TypeError} second argument must be an integer\n* @returns {integer} index or -1\n*\n* @example\n* var Complex64 = require( '@stdlib/complex-float32' );\n*\n* var arr = new Complex64Array( 5 );\n*\n* arr.set( [ 1.0, -1.0 ], 0 );\n* arr.set( [ 2.0, -2.0 ], 1 );\n* arr.set( [ 3.0, -3.0 ], 2 );\n* arr.set( [ 4.0, -4.0 ], 3 );\n* arr.set( [ 3.0, -3.0 ], 4 );\n*\n* var idx = arr.lastIndexOf( new Complex64( 3.0, -3.0 ) );\n* // returns 4\n*\n* idx = arr.lastIndexOf( new Complex64( 3.0, -3.0 ), 3 );\n* // returns 2\n*\n* idx = arr.lastIndexOf( new Complex64( 5.0, -5.0 ), 3 );\n* // returns -1\n*\n* idx = arr.lastIndexOf( new Complex64( 2.0, -2.0 ), -3 );\n* // returns 1\n*/\nsetReadOnly( Complex64Array.prototype, 'lastIndexOf', function lastIndexOf( searchElement, fromIndex ) {\n\tvar buf;\n\tvar idx;\n\tvar re;\n\tvar im;\n\tvar i;\n\tif ( !isComplexArray( this ) ) {\n\t\tthrow new TypeError( 'invalid invocation. `this` is not a complex number array.' );\n\t}\n\tif ( !isComplexLike( searchElement ) ) {\n\t\tthrow new TypeError( format( 'invalid argument. First argument must be a complex number. Value: `%s`.', searchElement ) );\n\t}\n\tif ( arguments.length > 1 ) {\n\t\tif ( !isInteger( fromIndex ) ) {\n\t\t\tthrow new TypeError( format( 'invalid argument. Second argument must be an integer. Value: `%s`.', fromIndex ) );\n\t\t}\n\t\tif ( fromIndex >= this._length ) {\n\t\t\tfromIndex = this._length - 1;\n\t\t} else if ( fromIndex < 0 ) {\n\t\t\tfromIndex += this._length;\n\t\t}\n\t} else {\n\t\tfromIndex = this._length - 1;\n\t}\n\tre = realf( searchElement );\n\tim = imagf( searchElement );\n\tbuf = this._buffer;\n\tfor ( i = fromIndex; i >= 0; i-- ) {\n\t\tidx = 2 * i;\n\t\tif ( re === buf[ idx ] && im === buf[ idx+1 ] ) {\n\t\t\treturn i;\n\t\t}\n\t}\n\treturn -1;\n});\n\n/**\n* Number of array elements.\n*\n* @name length\n* @memberof Complex64Array.prototype\n* @readonly\n* @type {NonNegativeInteger}\n*\n* @example\n* var arr = new Complex64Array( 10 );\n*\n* var len = arr.length;\n* // returns 10\n*/\nsetReadOnlyAccessor( Complex64Array.prototype, 'length', function get() {\n\treturn this._length;\n});\n\n/**\n* Returns a new array with each element being the result of a provided callback function.\n*\n* @name map\n* @memberof Complex64Array.prototype\n* @type {Function}\n* @param {Function} fcn - callback function\n* @param {*} [thisArg] - callback function execution context\n* @throws {TypeError} `this` must be a complex number array\n* @throws {TypeError} first argument must be a function\n* @returns {Complex64Array} complex number array\n*\n* @example\n* var Complex64 = require( '@stdlib/complex-float32' );\n* var realf = require( '@stdlib/complex-realf' );\n* var imagf = require( '@stdlib/complex-imagf' );\n*\n* function scale( v, i ) {\n*     return new Complex64( 2.0*realf( v ), 2.0*imagf( v ) );\n* }\n*\n* var arr = new Complex64Array( 3 );\n*\n* arr.set( [ 1.0, -1.0 ], 0 );\n* arr.set( [ 2.0, -2.0 ], 1 );\n* arr.set( [ 3.0, -3.0 ], 2 );\n*\n* var out = arr.map( scale );\n* // returns <Complex64Array>\n*\n* var z = out.get( 0 );\n* // returns <Complex64>\n*\n* var re = realf( z );\n* // returns 2\n*\n* var im = imagf( z );\n* // returns -2\n*/\nsetReadOnly( Complex64Array.prototype, 'map', function map( fcn, thisArg ) {\n\tvar outbuf;\n\tvar buf;\n\tvar out;\n\tvar i;\n\tvar v;\n\tif ( !isComplexArray( this ) ) {\n\t\tthrow new TypeError( 'invalid invocation. `this` is not a complex number array.' );\n\t}\n\tif ( !isFunction( fcn ) ) {\n\t\tthrow new TypeError( format( 'invalid argument. First argument must be a function. Value: `%s`.', fcn ) );\n\t}\n\tbuf = this._buffer;\n\tout = new this.constructor( this._length );\n\toutbuf = out._buffer; // eslint-disable-line no-underscore-dangle\n\tfor ( i = 0; i < this._length; i++ ) {\n\t\tv = fcn.call( thisArg, getComplex64( buf, i ), i, this );\n\t\tif ( isComplexLike( v ) ) {\n\t\t\toutbuf[ 2*i ] = realf( v );\n\t\t\toutbuf[ (2*i)+1 ] = imagf( v );\n\t\t} else if ( isArrayLikeObject( v ) && v.length === 2 ) {\n\t\t\toutbuf[ 2*i ] = v[ 0 ];\n\t\t\toutbuf[ (2*i)+1 ] = v[ 1 ];\n\t\t} else {\n\t\t\tthrow new TypeError( format( 'invalid argument. Callback must return either a two-element array containing real and imaginary components or a complex number. Value: `%s`.', v ) );\n\t\t}\n\t}\n\treturn out;\n});\n\n/**\n* Applies a provided callback function to each element of the array, in order, passing in the return value from the calculation on the preceding element and returning the accumulated result upon completion.\n*\n* @name reduce\n* @memberof Complex64Array.prototype\n* @type {Function}\n* @param {Function} reducer - callback function\n* @param {*} [initialValue] - initial value\n* @throws {TypeError} `this` must be a complex number array\n* @throws {TypeError} first argument must be a function\n* @throws {Error} if not provided an initial value, the array must have at least one element\n* @returns {*} accumulated result\n*\n* @example\n* var realf = require( '@stdlib/complex-realf' );\n* var imagf = require( '@stdlib/complex-imagf' );\n* var caddf = require( '@stdlib/math-base-ops-caddf' );\n*\n* var arr = new Complex64Array( 3 );\n*\n* arr.set( [ 1.0, 1.0 ], 0 );\n* arr.set( [ 2.0, 2.0 ], 1 );\n* arr.set( [ 3.0, 3.0 ], 2 );\n*\n* var z = arr.reduce( caddf );\n* // returns <Complex64>\n*\n* var re = realf( z );\n* // returns 6.0\n*\n* var im = imagf( z );\n* // returns 6.0\n*/\nsetReadOnly( Complex64Array.prototype, 'reduce', function reduce( reducer, initialValue ) {\n\tvar buf;\n\tvar acc;\n\tvar len;\n\tvar v;\n\tvar i;\n\n\tif ( !isComplexArray( this ) ) {\n\t\tthrow new TypeError( 'invalid invocation. `this` is not a complex number array.' );\n\t}\n\tif ( !isFunction( reducer ) ) {\n\t\tthrow new TypeError( format( 'invalid argument. First argument must be a function. Value: `%s`.', reducer ) );\n\t}\n\tbuf = this._buffer;\n\tlen = this._length;\n\tif ( arguments.length > 1 ) {\n\t\tacc = initialValue;\n\t\ti = 0;\n\t} else {\n\t\tif ( len === 0 ) {\n\t\t\tthrow new Error( 'invalid operation. If not provided an initial value, an array must contain at least one element.' );\n\t\t}\n\t\tacc = getComplex64( buf, 0 );\n\t\ti = 1;\n\t}\n\tfor ( ; i < len; i++ ) {\n\t\tv = getComplex64( buf, i );\n\t\tacc = reducer( acc, v, i, this );\n\t}\n\treturn acc;\n});\n\n/**\n* Reverses an array in-place.\n*\n* @name reverse\n* @memberof Complex64Array.prototype\n* @type {Function}\n* @throws {TypeError} `this` must be a complex number array\n* @returns {Complex64Array} reversed array\n*\n* @example\n* var realf = require( '@stdlib/complex-realf' );\n* var imagf = require( '@stdlib/complex-imagf' );\n*\n* var arr = new Complex64Array( 3 );\n*\n* arr.set( [ 1.0, 1.0 ], 0 );\n* arr.set( [ 2.0, 2.0 ], 1 );\n* arr.set( [ 3.0, 3.0 ], 2 );\n*\n* var out = arr.reverse();\n* // returns <Complex64Array>\n*\n* var z = out.get( 0 );\n* // returns <Complex64>\n*\n* var re = realf( z );\n* // returns 3.0\n*\n* var im = imagf( z );\n* // returns 3.0\n*\n* z = out.get( 1 );\n* // returns <Complex64>\n*\n* re = realf( z );\n* // returns 2.0\n*\n* im = imagf( z );\n* // returns 2.0\n*\n* z = out.get( 2 );\n* // returns <Complex64>\n*\n* re = realf( z );\n* // returns 1.0\n*\n* im = imagf( z );\n* // returns 1.0\n*/\nsetReadOnly( Complex64Array.prototype, 'reverse', function reverse() {\n\tvar buf;\n\tvar tmp;\n\tvar len;\n\tvar N;\n\tvar i;\n\tvar j;\n\tif ( !isComplexArray( this ) ) {\n\t\tthrow new TypeError( 'invalid invocation. `this` is not a complex number array.' );\n\t}\n\tlen = this._length;\n\tbuf = this._buffer;\n\tN = floor( len / 2 );\n\tfor ( i = 0; i < N; i++ ) {\n\t\tj = len - i - 1;\n\t\ttmp = buf[ (2*i) ];\n\t\tbuf[ (2*i) ] = buf[ (2*j) ];\n\t\tbuf[ (2*j) ] = tmp;\n\t\ttmp = buf[ (2*i)+1 ];\n\t\tbuf[ (2*i)+1 ] = buf[ (2*j)+1 ];\n\t\tbuf[ (2*j)+1 ] = tmp;\n\t}\n\treturn this;\n});\n\n/**\n* Sets an array element.\n*\n* ## Notes\n*\n* -   When provided a typed array, real or complex, we must check whether the source array shares the same buffer as the target array and whether the underlying memory overlaps. In particular, we are concerned with the following scenario:\n*\n*     ```text\n*     buf:                ---------------------\n*     src: ---------------------\n*     ```\n*\n*     In the above, as we copy values from `src`, we will overwrite values in the `src` view, resulting in duplicated values copied into the end of `buf`, which is not intended. Hence, to avoid overwriting source values, we must **copy** source values to a temporary array.\n*\n*     In the other overlapping scenario,\n*\n*     ```text\n*     buf: ---------------------\n*     src:                ---------------------\n*     ```\n*\n*     by the time we begin copying into the overlapping region, we are copying from the end of `src`, a non-overlapping region, which means we don't run the risk of copying copied values, rather than the original `src` values, as intended.\n*\n* @name set\n* @memberof Complex64Array.prototype\n* @type {Function}\n* @param {(Collection|Complex|ComplexArray)} value - value(s)\n* @param {NonNegativeInteger} [i=0] - element index at which to start writing values\n* @throws {TypeError} `this` must be a complex number array\n* @throws {TypeError} first argument must be either a complex number, an array-like object, or a complex number array\n* @throws {TypeError} index argument must be a nonnegative integer\n* @throws {RangeError} array-like objects must have a length which is a multiple of two\n* @throws {RangeError} index argument is out-of-bounds\n* @throws {RangeError} target array lacks sufficient storage to accommodate source values\n* @returns {void}\n*\n* @example\n* var realf = require( '@stdlib/complex-realf' );\n* var imagf = require( '@stdlib/complex-imagf' );\n*\n* var arr = new Complex64Array( 10 );\n*\n* var z = arr.get( 0 );\n* // returns <Complex64>\n*\n* var re = realf( z );\n* // returns 0.0\n*\n* var im = imagf( z );\n* // returns 0.0\n*\n* arr.set( [ 1.0, -1.0 ], 0 );\n*\n* z = arr.get( 0 );\n* // returns <Complex64>\n*\n* re = realf( z );\n* // returns 1.0\n*\n* im = imagf( z );\n* // returns -1.0\n*/\nsetReadOnly( Complex64Array.prototype, 'set', function set( value ) {\n\t/* eslint-disable no-underscore-dangle */\n\tvar sbuf;\n\tvar idx;\n\tvar buf;\n\tvar tmp;\n\tvar flg;\n\tvar N;\n\tvar v;\n\tvar i;\n\tvar j;\n\tif ( !isComplexArray( this ) ) {\n\t\tthrow new TypeError( 'invalid invocation. `this` is not a complex number array.' );\n\t}\n\tbuf = this._buffer;\n\tif ( arguments.length > 1 ) {\n\t\tidx = arguments[ 1 ];\n\t\tif ( !isNonNegativeInteger( idx ) ) {\n\t\t\tthrow new TypeError( format( 'invalid argument. Index argument must be a nonnegative integer. Value: `%s`.', idx ) );\n\t\t}\n\t} else {\n\t\tidx = 0;\n\t}\n\tif ( isComplexLike( value ) ) {\n\t\tif ( idx >= this._length ) {\n\t\t\tthrow new RangeError( format( 'invalid argument. Index argument is out-of-bounds. Value: `%u`.', idx ) );\n\t\t}\n\t\tidx *= 2;\n\t\tbuf[ idx ] = realf( value );\n\t\tbuf[ idx+1 ] = imagf( value );\n\t\treturn;\n\t}\n\tif ( isComplexArray( value ) ) {\n\t\tN = value._length;\n\t\tif ( idx+N > this._length ) {\n\t\t\tthrow new RangeError( 'invalid arguments. Target array lacks sufficient storage to accommodate source values.' );\n\t\t}\n\t\tsbuf = value._buffer;\n\n\t\t// Check for overlapping memory...\n\t\tj = buf.byteOffset + (idx*BYTES_PER_ELEMENT);\n\t\tif (\n\t\t\tsbuf.buffer === buf.buffer &&\n\t\t\t(\n\t\t\t\tsbuf.byteOffset < j &&\n\t\t\t\tsbuf.byteOffset+sbuf.byteLength > j\n\t\t\t)\n\t\t) {\n\t\t\t// We need to copy source values...\n\t\t\ttmp = new Float32Array( sbuf.length );\n\t\t\tfor ( i = 0; i < sbuf.length; i++ ) {\n\t\t\t\ttmp[ i ] = sbuf[ i ];\n\t\t\t}\n\t\t\tsbuf = tmp;\n\t\t}\n\t\tidx *= 2;\n\t\tj = 0;\n\t\tfor ( i = 0; i < N; i++ ) {\n\t\t\tbuf[ idx ] = sbuf[ j ];\n\t\t\tbuf[ idx+1 ] = sbuf[ j+1 ];\n\t\t\tidx += 2; // stride\n\t\t\tj += 2; // stride\n\t\t}\n\t\treturn;\n\t}\n\tif ( isCollection( value ) ) {\n\t\t// Detect whether we've been provided an array of complex numbers...\n\t\tN = value.length;\n\t\tfor ( i = 0; i < N; i++ ) {\n\t\t\tif ( !isComplexLike( value[ i ] ) ) {\n\t\t\t\tflg = true;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\t// If an array does not contain only complex numbers, then we assume interleaved real and imaginary components...\n\t\tif ( flg ) {\n\t\t\tif ( !isEven( N ) ) {\n\t\t\t\tthrow new RangeError( format( 'invalid argument. Array-like object arguments must have a length which is a multiple of two. Length: `%u`.', N ) );\n\t\t\t}\n\t\t\tif ( idx+(N/2) > this._length ) {\n\t\t\t\tthrow new RangeError( 'invalid arguments. Target array lacks sufficient storage to accommodate source values.' );\n\t\t\t}\n\t\t\tsbuf = value;\n\n\t\t\t// Check for overlapping memory...\n\t\t\tj = buf.byteOffset + (idx*BYTES_PER_ELEMENT);\n\t\t\tif (\n\t\t\t\tsbuf.buffer === buf.buffer &&\n\t\t\t\t(\n\t\t\t\t\tsbuf.byteOffset < j &&\n\t\t\t\t\tsbuf.byteOffset+sbuf.byteLength > j\n\t\t\t\t)\n\t\t\t) {\n\t\t\t\t// We need to copy source values...\n\t\t\t\ttmp = new Float32Array( N );\n\t\t\t\tfor ( i = 0; i < N; i++ ) {\n\t\t\t\t\ttmp[ i ] = sbuf[ i ]; // TODO: handle accessor arrays\n\t\t\t\t}\n\t\t\t\tsbuf = tmp;\n\t\t\t}\n\t\t\tidx *= 2;\n\t\t\tN /= 2;\n\t\t\tj = 0;\n\t\t\tfor ( i = 0; i < N; i++ ) {\n\t\t\t\tbuf[ idx ] = sbuf[ j ];\n\t\t\t\tbuf[ idx+1 ] = sbuf[ j+1 ];\n\t\t\t\tidx += 2; // stride\n\t\t\t\tj += 2; // stride\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\t\t// If an array contains only complex numbers, then we need to extract real and imaginary components...\n\t\tif ( idx+N > this._length ) {\n\t\t\tthrow new RangeError( 'invalid arguments. Target array lacks sufficient storage to accommodate source values.' );\n\t\t}\n\t\tidx *= 2;\n\t\tfor ( i = 0; i < N; i++ ) {\n\t\t\tv = value[ i ];\n\t\t\tbuf[ idx ] = realf( v );\n\t\t\tbuf[ idx+1 ] = imagf( v );\n\t\t\tidx += 2; // stride\n\t\t}\n\t\treturn;\n\t}\n\tthrow new TypeError( format( 'invalid argument. First argument must be either a complex number, an array-like object, or a complex number array. Value: `%s`.', value ) );\n\n\t/* eslint-enable no-underscore-dangle */\n});\n\n/**\n* Copies a portion of a typed array to a new typed array.\n*\n* @name slice\n* @memberof Complex64Array.prototype\n* @type {Function}\n* @param {integer} [start=0] - starting index (inclusive)\n* @param {integer} [end] - ending index (exclusive)\n* @throws {TypeError} `this` must be a complex number array\n* @throws {TypeError} first argument must be an integer\n* @throws {TypeError} second argument must be an integer\n* @returns {Complex64Array} complex number array\n*\n* @example\n* var realf = require( '@stdlib/complex-realf' );\n* var imagf = require( '@stdlib/complex-imagf' );\n*\n* var arr = new Complex64Array( 5 );\n*\n* arr.set( [ 1.0, -1.0 ], 0 );\n* arr.set( [ 2.0, -2.0 ], 1 );\n* arr.set( [ 3.0, -3.0 ], 2 );\n* arr.set( [ 4.0, -4.0 ], 3 );\n* arr.set( [ 5.0, -5.0 ], 4 );\n*\n* var out = arr.slice();\n* // returns <Complex64Array>\n*\n* var len = out.length;\n* // returns 5\n*\n* var z = out.get( 0 );\n* // returns <Complex64>\n*\n* var re = realf( z );\n* // returns 1.0\n*\n* var im = imagf( z );\n* // returns -1.0\n*\n* z = out.get( len-1 );\n* // returns <Complex64>\n*\n* re = realf( z );\n* // returns 5.0\n*\n* im = imagf( z );\n* // returns -5.0\n*\n* out = arr.slice( 1, -2 );\n* // returns <Complex64Array>\n*\n* len = out.length;\n* // returns 2\n*\n* z = out.get( 0 );\n* // returns <Complex64>\n*\n* re = realf( z );\n* // returns 2.0\n*\n* im = imagf( z );\n* // returns -2.0\n*\n* z = out.get( len-1 );\n* // returns <Complex64>\n*\n* re = realf( z );\n* // returns 3.0\n*\n* im = imagf( z );\n* // returns -3.0\n*/\nsetReadOnly( Complex64Array.prototype, 'slice', function slice( start, end ) {\n\tvar outlen;\n\tvar outbuf;\n\tvar out;\n\tvar idx;\n\tvar buf;\n\tvar len;\n\tvar i;\n\tif ( !isComplexArray( this ) ) {\n\t\tthrow new TypeError( 'invalid invocation. `this` is not a complex number array.' );\n\t}\n\tbuf = this._buffer;\n\tlen = this._length;\n\tif ( arguments.length === 0 ) {\n\t\tstart = 0;\n\t\tend = len;\n\t} else {\n\t\tif ( !isInteger( start ) ) {\n\t\t\tthrow new TypeError( format( 'invalid argument. First argument must be an integer. Value: `%s`.', start ) );\n\t\t}\n\t\tif ( start < 0 ) {\n\t\t\tstart += len;\n\t\t\tif ( start < 0 ) {\n\t\t\t\tstart = 0;\n\t\t\t}\n\t\t}\n\t\tif ( arguments.length === 1 ) {\n\t\t\tend = len;\n\t\t} else {\n\t\t\tif ( !isInteger( end ) ) {\n\t\t\t\tthrow new TypeError( format( 'invalid argument. Second argument must be an integer. Value: `%s`.', end ) );\n\t\t\t}\n\t\t\tif ( end < 0 ) {\n\t\t\t\tend += len;\n\t\t\t\tif ( end < 0 ) {\n\t\t\t\t\tend = 0;\n\t\t\t\t}\n\t\t\t} else if ( end > len ) {\n\t\t\t\tend = len;\n\t\t\t}\n\t\t}\n\t}\n\tif ( start < end ) {\n\t\toutlen = end - start;\n\t} else {\n\t\toutlen = 0;\n\t}\n\tout = new this.constructor( outlen );\n\toutbuf = out._buffer; // eslint-disable-line no-underscore-dangle\n\tfor ( i = 0; i < outlen; i++ ) {\n\t\tidx = 2*(i+start);\n\t\toutbuf[ 2*i ] = buf[ idx ];\n\t\toutbuf[ (2*i)+1 ] = buf[ idx+1 ];\n\t}\n\treturn out;\n});\n\n/**\n* Tests whether at least one element in an array passes a test implemented by a predicate function.\n*\n* @name some\n* @memberof Complex64Array.prototype\n* @type {Function}\n* @param {Function} predicate - test function\n* @param {*} [thisArg] - predicate function execution context\n* @throws {TypeError} `this` must be a complex number array\n* @throws {TypeError} first argument must be a function\n* @returns {boolean} boolean indicating whether at least one element passes a test\n*\n* @example\n* var realf = require( '@stdlib/complex-realf' );\n* var imagf = require( '@stdlib/complex-imagf' );\n*\n* function predicate( v ) {\n*     return ( realf( v ) === imagf( v ) );\n* }\n*\n* var arr = new Complex64Array( 3 );\n*\n* arr.set( [ 1.0, -1.0 ], 0 );\n* arr.set( [ 2.0, 2.0 ], 1 );\n* arr.set( [ 3.0, -3.0 ], 2 );\n*\n* var bool = arr.some( predicate );\n* // returns true\n*/\nsetReadOnly( Complex64Array.prototype, 'some', function some( predicate, thisArg ) {\n\tvar buf;\n\tvar i;\n\tif ( !isComplexArray( this ) ) {\n\t\tthrow new TypeError( 'invalid invocation. `this` is not a complex number array.' );\n\t}\n\tif ( !isFunction( predicate ) ) {\n\t\tthrow new TypeError( format( 'invalid argument. First argument must be a function. Value: `%s`.', predicate ) );\n\t}\n\tbuf = this._buffer;\n\tfor ( i = 0; i < this._length; i++ ) {\n\t\tif ( predicate.call( thisArg, getComplex64( buf, i ), i, this ) ) {\n\t\t\treturn true;\n\t\t}\n\t}\n\treturn false;\n});\n\n/**\n* Creates a new typed array view over the same underlying `ArrayBuffer` and with the same underlying data type as the host array.\n*\n* @name subarray\n* @memberof Complex64Array.prototype\n* @type {Function}\n* @param {integer} [begin=0] - starting index (inclusive)\n* @param {integer} [end] - ending index (exclusive)\n* @throws {TypeError} `this` must be a complex number array\n* @throws {TypeError} first argument must be an integer\n* @throws {TypeError} second argument must be an integer\n* @returns {Complex64Array} subarray\n*\n* @example\n* var realf = require( '@stdlib/complex-realf' );\n* var imagf = require( '@stdlib/complex-imagf' );\n*\n* var arr = new Complex64Array( 5 );\n*\n* arr.set( [ 1.0, -1.0 ], 0 );\n* arr.set( [ 2.0, -2.0 ], 1 );\n* arr.set( [ 3.0, -3.0 ], 2 );\n* arr.set( [ 4.0, -4.0 ], 3 );\n* arr.set( [ 5.0, -5.0 ], 4 );\n*\n* var subarr = arr.subarray();\n* // returns <Complex64Array>\n*\n* var len = subarr.length;\n* // returns 5\n*\n* var z = subarr.get( 0 );\n* // returns <Complex64>\n*\n* var re = realf( z );\n* // returns 1.0\n*\n* var im = imagf( z );\n* // returns -1.0\n*\n* z = subarr.get( len-1 );\n* // returns <Complex64>\n*\n* re = realf( z );\n* // returns 5.0\n*\n* im = imagf( z );\n* // returns -5.0\n*\n* subarr = arr.subarray( 1, -2 );\n* // returns <Complex64Array>\n*\n* len = subarr.length;\n* // returns 2\n*\n* z = subarr.get( 0 );\n* // returns <Complex64>\n*\n* re = realf( z );\n* // returns 2.0\n*\n* im = imagf( z );\n* // returns -2.0\n*\n* z = subarr.get( len-1 );\n* // returns <Complex64>\n*\n* re = realf( z );\n* // returns 3.0\n*\n* im = imagf( z );\n* // returns -3.0\n*/\nsetReadOnly( Complex64Array.prototype, 'subarray', function subarray( begin, end ) {\n\tvar offset;\n\tvar buf;\n\tvar len;\n\tif ( !isComplexArray( this ) ) {\n\t\tthrow new TypeError( 'invalid invocation. `this` is not a complex number array.' );\n\t}\n\tbuf = this._buffer;\n\tlen = this._length;\n\tif ( arguments.length === 0 ) {\n\t\tbegin = 0;\n\t\tend = len;\n\t} else {\n\t\tif ( !isInteger( begin ) ) {\n\t\t\tthrow new TypeError( format( 'invalid argument. First argument must be an integer. Value: `%s`.', begin ) );\n\t\t}\n\t\tif ( begin < 0 ) {\n\t\t\tbegin += len;\n\t\t\tif ( begin < 0 ) {\n\t\t\t\tbegin = 0;\n\t\t\t}\n\t\t}\n\t\tif ( arguments.length === 1 ) {\n\t\t\tend = len;\n\t\t} else {\n\t\t\tif ( !isInteger( end ) ) {\n\t\t\t\tthrow new TypeError( format( 'invalid argument. Second argument must be an integer. Value: `%s`.', end ) );\n\t\t\t}\n\t\t\tif ( end < 0 ) {\n\t\t\t\tend += len;\n\t\t\t\tif ( end < 0 ) {\n\t\t\t\t\tend = 0;\n\t\t\t\t}\n\t\t\t} else if ( end > len ) {\n\t\t\t\tend = len;\n\t\t\t}\n\t\t}\n\t}\n\tif ( begin >= len ) {\n\t\tlen = 0;\n\t\toffset = buf.byteLength;\n\t} else if ( begin >= end ) {\n\t\tlen = 0;\n\t\toffset = buf.byteOffset + (begin*BYTES_PER_ELEMENT);\n\t} else {\n\t\tlen = end - begin;\n\t\toffset = buf.byteOffset + ( begin*BYTES_PER_ELEMENT );\n\t}\n\treturn new this.constructor( buf.buffer, offset, ( len < 0 ) ? 0 : len );\n});\n\n/**\n* Returns a new typed array containing the elements in reversed order.\n*\n* @name toReversed\n* @memberof Complex64Array.prototype\n* @type {Function}\n* @throws {TypeError} `this` must be a complex number array\n* @returns {Complex64Array} reversed array\n*\n* @example\n* var realf = require( '@stdlib/complex-realf' );\n* var imagf = require( '@stdlib/complex-imagf' );\n*\n* var arr = new Complex64Array( 3 );\n*\n* arr.set( [ 1.0, 1.0 ], 0 );\n* arr.set( [ 2.0, 2.0 ], 1 );\n* arr.set( [ 3.0, 3.0 ], 2 );\n*\n* var out = arr.toReversed();\n* // returns <Complex64Array>\n*\n* var z = out.get( 0 );\n* // returns <Complex64>\n*\n* var re = realf( z );\n* // returns 3.0\n*\n* var im = imagf( z );\n* // returns 3.0\n*\n* z = out.get( 1 );\n* // returns <Complex64>\n*\n* re = realf( z );\n* // returns 2.0\n*\n* im = imagf( z );\n* // returns 2.0\n*\n* z = out.get( 2 );\n* // returns <Complex64>\n*\n* re = realf( z );\n* // returns 1.0\n*\n* im = imagf( z );\n* // returns 1.0\n*/\nsetReadOnly( Complex64Array.prototype, 'toReversed', function toReversed() {\n\tvar outbuf;\n\tvar out;\n\tvar len;\n\tvar buf;\n\tvar i;\n\tvar j;\n\tif ( !isComplexArray( this ) ) {\n\t\tthrow new TypeError( 'invalid invocation. `this` is not a complex number array.' );\n\t}\n\tlen = this._length;\n\tout = new this.constructor( len );\n\tbuf = this._buffer;\n\toutbuf = out._buffer; // eslint-disable-line no-underscore-dangle\n\tfor ( i = 0; i < len; i++ ) {\n\t\tj = len - i - 1;\n\t\toutbuf[ (2*i) ] = buf[ (2*j) ];\n\t\toutbuf[ (2*i)+1 ] = buf[ (2*j)+1 ];\n\t}\n\treturn out;\n});\n\n/**\n* Serializes an array as a string.\n*\n* @name toString\n* @memberof Complex64Array.prototype\n* @type {Function}\n* @throws {TypeError} `this` must be a complex number array\n* @returns {string} string representation\n*\n* @example\n* var arr = new Complex64Array( 2 );\n*\n* arr.set( [ 1.0, 1.0 ], 0 );\n* arr.set( [ 2.0, 2.0 ], 1 );\n*\n* var str = arr.toString();\n* // returns '1 + 1i,2 + 2i'\n*/\nsetReadOnly( Complex64Array.prototype, 'toString', function toString() {\n\tvar out;\n\tvar buf;\n\tvar i;\n\tif ( !isComplexArray( this ) ) {\n\t\tthrow new TypeError( 'invalid invocation. `this` is not a complex number array.' );\n\t}\n\tout = [];\n\tbuf = this._buffer;\n\tfor ( i = 0; i < this._length; i++ ) {\n\t\tout.push( getComplex64( buf, i ).toString() );\n\t}\n\treturn out.join( ',' );\n});\n\n/**\n* Returns a new typed array with the element at a provided index replaced with a provided value.\n*\n* @name with\n* @memberof Complex64Array.prototype\n* @type {Function}\n* @param {integer} index - element index\n* @param {ComplexLike} value - new value\n* @throws {TypeError} `this` must be a complex number array\n* @throws {TypeError} first argument must be an integer\n* @throws {RangeError} index argument is out-of-bounds\n* @throws {TypeError} second argument must be a complex number\n* @returns {Complex64Array} new typed array\n*\n* @example\n* var realf = require( '@stdlib/complex-realf' );\n* var imagf = require( '@stdlib/complex-imagf' );\n* var Complex64 = require( '@stdlib/complex-float32' );\n*\n* var arr = new Complex64Array( 3 );\n*\n* arr.set( [ 1.0, 1.0 ], 0 );\n* arr.set( [ 2.0, 2.0 ], 1 );\n* arr.set( [ 3.0, 3.0 ], 2 );\n*\n* var out = arr.with( 0, new Complex64( 4.0, 4.0 ) );\n* // returns <Complex64Array>\n*\n* var z = out.get( 0 );\n* // returns <Complex64>\n*\n* var re = realf( z );\n* // returns 4.0\n*\n* var im = imagf( z );\n* // returns 4.0\n*/\nsetReadOnly( Complex64Array.prototype, 'with', function copyWith( index, value ) {\n\tvar buf;\n\tvar out;\n\tvar len;\n\tif ( !isComplexArray( this ) ) {\n\t\tthrow new TypeError( 'invalid invocation. `this` is not a complex number array.' );\n\t}\n\tif ( !isInteger( index ) ) {\n\t\tthrow new TypeError( format( 'invalid argument. First argument must be an integer. Value: `%s`.', index ) );\n\t}\n\tlen = this._length;\n\tif ( index < 0 ) {\n\t\tindex += len;\n\t}\n\tif ( index < 0 || index >= len ) {\n\t\tthrow new RangeError( format( 'invalid argument. Index argument is out-of-bounds. Value: `%s`.', index ) );\n\t}\n\tif ( !isComplexLike( value ) ) {\n\t\tthrow new TypeError( format( 'invalid argument. Second argument must be a complex number. Value: `%s`.', value ) );\n\t}\n\tout = new this.constructor( this._buffer );\n\tbuf = out._buffer; // eslint-disable-line no-underscore-dangle\n\tbuf[ 2*index ] = realf( value );\n\tbuf[ (2*index)+1 ] = imagf( value );\n\treturn out;\n});\n\n\n// EXPORTS //\n\nmodule.exports = Complex64Array;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n/**\n* 64-bit complex number array.\n*\n* @module @stdlib/array-complex64\n*\n* @example\n* var Complex64Array = require( '@stdlib/array-complex64' );\n*\n* var arr = new Complex64Array();\n* // returns <Complex64Array>\n*\n* var len = arr.length;\n* // returns 0\n*\n* @example\n* var Complex64Array = require( '@stdlib/array-complex64' );\n*\n* var arr = new Complex64Array( 2 );\n* // returns <Complex64Array>\n*\n* var len = arr.length;\n* // returns 2\n*\n* @example\n* var Complex64Array = require( '@stdlib/array-complex64' );\n*\n* var arr = new Complex64Array( [ 1.0, -1.0 ] );\n* // returns <Complex64Array>\n*\n* var len = arr.length;\n* // returns 1\n*\n* @example\n* var ArrayBuffer = require( '@stdlib/array-buffer' );\n* var Complex64Array = require( '@stdlib/array-complex64' );\n*\n* var buf = new ArrayBuffer( 16 );\n* var arr = new Complex64Array( buf );\n* // returns <Complex64Array>\n*\n* var len = arr.length;\n* // returns 2\n*\n* @example\n* var ArrayBuffer = require( '@stdlib/array-buffer' );\n* var Complex64Array = require( '@stdlib/array-complex64' );\n*\n* var buf = new ArrayBuffer( 16 );\n* var arr = new Complex64Array( buf, 8 );\n* // returns <Complex64Array>\n*\n* var len = arr.length;\n* // returns 2\n*\n* @example\n* var ArrayBuffer = require( '@stdlib/array-buffer' );\n* var Complex64Array = require( '@stdlib/array-complex64' );\n*\n* var buf = new ArrayBuffer( 32 );\n* var arr = new Complex64Array( buf, 8, 2 );\n* // returns <Complex64Array>\n*\n* var len = arr.length;\n* // returns 2\n*/\n\n// MODULES //\n\nvar main = require( './main.js' );\n\n\n// EXPORTS //\n\nmodule.exports = main;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n/**\n* Returns the real component of a double-precision complex floating-point number.\n*\n* @param {Complex} z - complex number\n* @returns {number} real component\n*\n* @example\n* var Complex128 = require( '@stdlib/complex-float64' );\n*\n* var z = new Complex128( 5.0, 3.0 );\n*\n* var re = real( z );\n* // returns 5.0\n*/\nfunction real( z ) {\n\treturn z.re;\n}\n\n\n// EXPORTS //\n\nmodule.exports = real;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n/**\n* Return the real component of a double-precision complex floating-point number.\n*\n* @module @stdlib/complex-real\n*\n* @example\n* var Complex128 = require( '@stdlib/complex-float64' );\n* var real = require( '@stdlib/complex-real' );\n*\n* var z = new Complex128( 5.0, 3.0 );\n*\n* var re = real( z );\n* // returns 5.0\n*/\n\n// MODULES //\n\nvar main = require( './main.js' );\n\n\n// EXPORTS //\n\nmodule.exports = main;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n/**\n* Returns the imaginary component of a double-precision complex floating-point number.\n*\n* @param {Complex} z - complex number\n* @returns {number} imaginary component\n*\n* @example\n* var Complex128 = require( '@stdlib/complex-float64' );\n*\n* var z = new Complex128( 5.0, 3.0 );\n*\n* var im = imag( z );\n* // returns 3.0\n*/\nfunction imag( z ) {\n\treturn z.im;\n}\n\n\n// EXPORTS //\n\nmodule.exports = imag;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n/**\n* Return the imaginary component of a double-precision complex floating-point number.\n*\n* @module @stdlib/complex-imag\n*\n* @example\n* var Complex128 = require( '@stdlib/complex-float64' );\n* var imag = require( '@stdlib/complex-imag' );\n*\n* var z = new Complex128( 5.0, 3.0 );\n*\n* var im = imag( z );\n* // returns 3.0\n*/\n\n// MODULES //\n\nvar main = require( './main.js' );\n\n\n// EXPORTS //\n\nmodule.exports = main;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nvar isArrayLikeObject = require( '@stdlib/assert-is-array-like-object' );\nvar isComplexLike = require( '@stdlib/assert-is-complex-like' );\nvar format = require( '@stdlib/string-format' );\nvar real = require( '@stdlib/complex-real' );\nvar imag = require( '@stdlib/complex-imag' );\n\n\n// MAIN //\n\n/**\n* Returns an array of iterated values.\n*\n* @private\n* @param {Object} it - iterator\n* @returns {(Array|TypeError)} array or an error\n*/\nfunction fromIterator( it ) {\n\tvar out;\n\tvar v;\n\tvar z;\n\n\tout = [];\n\twhile ( true ) {\n\t\tv = it.next();\n\t\tif ( v.done ) {\n\t\t\tbreak;\n\t\t}\n\t\tz = v.value;\n\t\tif ( isArrayLikeObject( z ) && z.length >= 2 ) {\n\t\t\tout.push( z[ 0 ], z[ 1 ] );\n\t\t} else if ( isComplexLike( z ) ) {\n\t\t\tout.push( real( z ), imag( z ) );\n\t\t} else {\n\t\t\treturn new TypeError( format( 'invalid argument. An iterator must return either a two-element array containing real and imaginary components or a complex number. Value: `%s`.', z ) );\n\t\t}\n\t}\n\treturn out;\n}\n\n\n// EXPORTS //\n\nmodule.exports = fromIterator;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nvar isArrayLikeObject = require( '@stdlib/assert-is-array-like-object' );\nvar isComplexLike = require( '@stdlib/assert-is-complex-like' );\nvar format = require( '@stdlib/string-format' );\nvar real = require( '@stdlib/complex-real' );\nvar imag = require( '@stdlib/complex-imag' );\n\n\n// MAIN //\n\n/**\n* Returns an array of iterated values.\n*\n* @private\n* @param {Object} it - iterator\n* @param {Function} clbk - callback to invoke for each iterated value\n* @param {*} thisArg - invocation context\n* @returns {(Array|TypeError)} array or an error\n*/\nfunction fromIteratorMap( it, clbk, thisArg ) {\n\tvar out;\n\tvar v;\n\tvar z;\n\tvar i;\n\n\tout = [];\n\ti = -1;\n\twhile ( true ) {\n\t\tv = it.next();\n\t\tif ( v.done ) {\n\t\t\tbreak;\n\t\t}\n\t\ti += 1;\n\t\tz = clbk.call( thisArg, v.value, i );\n\t\tif ( isArrayLikeObject( z ) && z.length >= 2 ) {\n\t\t\tout.push( z[ 0 ], z[ 1 ] );\n\t\t} else if ( isComplexLike( z ) ) {\n\t\t\tout.push( real( z ), imag( z ) );\n\t\t} else {\n\t\t\treturn new TypeError( format( 'invalid argument. Callback must return either a two-element array containing real and imaginary components or a complex number. Value: `%s`.', z ) );\n\t\t}\n\t}\n\treturn out;\n}\n\n\n// EXPORTS //\n\nmodule.exports = fromIteratorMap;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nvar isComplexLike = require( '@stdlib/assert-is-complex-like' );\nvar real = require( '@stdlib/complex-real' );\nvar imag = require( '@stdlib/complex-imag' );\n\n\n// MAIN //\n\n/**\n* Returns a strided array of real and imaginary components.\n*\n* @private\n* @param {Float64Array} buf - output array\n* @param {Array} arr - array containing complex numbers\n* @returns {(Float64Array|null)} output array or null\n*/\nfunction fromArray( buf, arr ) {\n\tvar len;\n\tvar v;\n\tvar i;\n\tvar j;\n\n\tlen = arr.length;\n\tj = 0;\n\tfor ( i = 0; i < len; i++ ) {\n\t\tv = arr[ i ];\n\t\tif ( !isComplexLike( v ) ) {\n\t\t\treturn null;\n\t\t}\n\t\tbuf[ j ] = real( v );\n\t\tbuf[ j+1 ] = imag( v );\n\t\tj += 2; // stride\n\t}\n\treturn buf;\n}\n\n\n// EXPORTS //\n\nmodule.exports = fromArray;\n","/* eslint-disable no-restricted-syntax, max-lines, no-invalid-this */\n\n/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nvar isNonNegativeInteger = require( '@stdlib/assert-is-nonnegative-integer' ).isPrimitive;\nvar isArrayLikeObject = require( '@stdlib/assert-is-array-like-object' );\nvar isCollection = require( '@stdlib/assert-is-collection' );\nvar isArrayBuffer = require( '@stdlib/assert-is-arraybuffer' );\nvar isObject = require( '@stdlib/assert-is-object' );\nvar isArray = require( '@stdlib/assert-is-array' );\nvar isString = require( '@stdlib/assert-is-string' );\nvar isFunction = require( '@stdlib/assert-is-function' );\nvar isComplexLike = require( '@stdlib/assert-is-complex-like' );\nvar isEven = require( '@stdlib/math-base-assert-is-even' );\nvar isInteger = require( '@stdlib/math-base-assert-is-integer' );\nvar isComplex64Array = require( '@stdlib/array-base-assert-is-complex64array' );\nvar isComplex128Array = require( '@stdlib/array-base-assert-is-complex128array' );\nvar hasIteratorSymbolSupport = require( '@stdlib/assert-has-iterator-symbol-support' );\nvar ITERATOR_SYMBOL = require( '@stdlib/symbol-iterator' );\nvar setReadOnly = require( '@stdlib/utils-define-nonenumerable-read-only-property' );\nvar setReadOnlyAccessor = require( '@stdlib/utils-define-nonenumerable-read-only-accessor' );\nvar Float64Array = require( '@stdlib/array-float64' );\nvar Complex128 = require( '@stdlib/complex-float64' );\nvar real = require( '@stdlib/complex-real' );\nvar imag = require( '@stdlib/complex-imag' );\nvar floor = require( '@stdlib/math-base-special-floor' );\nvar reinterpret64 = require( '@stdlib/strided-base-reinterpret-complex64' );\nvar reinterpret128 = require( '@stdlib/strided-base-reinterpret-complex128' );\nvar getter = require( '@stdlib/array-base-getter' );\nvar accessorGetter = require( '@stdlib/array-base-accessor-getter' );\nvar format = require( '@stdlib/string-format' );\nvar fromIterator = require( './from_iterator.js' );\nvar fromIteratorMap = require( './from_iterator_map.js' );\nvar fromArray = require( './from_array.js' );\n\n\n// VARIABLES //\n\nvar BYTES_PER_ELEMENT = Float64Array.BYTES_PER_ELEMENT * 2;\nvar HAS_ITERATOR_SYMBOL = hasIteratorSymbolSupport();\n\n\n// FUNCTIONS //\n\n/**\n* Returns a boolean indicating if a value is a complex typed array.\n*\n* @private\n* @param {*} value - value to test\n* @returns {boolean} boolean indicating if a value is a complex typed array\n*/\nfunction isComplexArray( value ) {\n\treturn (\n\t\tvalue instanceof Complex128Array ||\n\t\t(\n\t\t\ttypeof value === 'object' &&\n\t\t\tvalue !== null &&\n\t\t\t(\n\t\t\t\tvalue.constructor.name === 'Complex64Array' ||\n\t\t\t\tvalue.constructor.name === 'Complex128Array'\n\t\t\t) &&\n\t\t\ttypeof value._length === 'number' && // eslint-disable-line no-underscore-dangle\n\n\t\t\t// NOTE: we don't perform a more rigorous test here for a typed array for performance reasons, as robustly checking for a typed array instance could require walking the prototype tree and performing relatively expensive constructor checks...\n\t\t\ttypeof value._buffer === 'object' // eslint-disable-line no-underscore-dangle\n\t\t)\n\t);\n}\n\n/**\n* Returns a boolean indicating if a value is a complex typed array constructor.\n*\n* @private\n* @param {*} value - value to test\n* @returns {boolean} boolean indicating if a value is a complex typed array constructor\n*/\nfunction isComplexArrayConstructor( value ) {\n\treturn (\n\t\tvalue === Complex128Array ||\n\n\t\t// NOTE: weaker test in order to avoid a circular dependency with Complex64Array...\n\t\tvalue.name === 'Complex64Array'\n\t);\n}\n\n/**\n* Retrieves a complex number from a complex number array buffer.\n*\n* @private\n* @param {Float64Array} buf - array buffer\n* @param {NonNegativeInteger} idx - element index\n* @returns {Complex128} complex number\n*/\nfunction getComplex128( buf, idx ) {\n\tidx *= 2;\n\treturn new Complex128( buf[ idx ], buf[ idx+1 ] );\n}\n\n\n// MAIN //\n\n/**\n* 128-bit complex number array constructor.\n*\n* @constructor\n* @param {(NonNegativeInteger|Collection|ArrayBuffer|Iterable)} [arg] - length, typed array, array-like object, buffer, or iterable\n* @param {NonNegativeInteger} [byteOffset=0] - byte offset\n* @param {NonNegativeInteger} [length] - view length\n* @throws {RangeError} ArrayBuffer byte length must be a multiple of `16`\n* @throws {RangeError} array-like object and typed array input arguments must have a length which is a multiple of two\n* @throws {TypeError} if provided only a single argument, must provide a valid argument\n* @throws {TypeError} byte offset must be a nonnegative integer\n* @throws {RangeError} byte offset must be a multiple of `16`\n* @throws {TypeError} view length must be a positive multiple of `16`\n* @throws {RangeError} must provide sufficient memory to accommodate byte offset and view length requirements\n* @throws {TypeError} an iterator must return either a two element array containing real and imaginary components or a complex number\n* @returns {Complex128Array} complex number array\n*\n* @example\n* var arr = new Complex128Array();\n* // returns <Complex128Array>\n*\n* var len = arr.length;\n* // returns 0\n*\n* @example\n* var arr = new Complex128Array( 2 );\n* // returns <Complex128Array>\n*\n* var len = arr.length;\n* // returns 2\n*\n* @example\n* var arr = new Complex128Array( [ 1.0, -1.0 ] );\n* // returns <Complex128Array>\n*\n* var len = arr.length;\n* // returns 1\n*\n* @example\n* var ArrayBuffer = require( '@stdlib/array-buffer' );\n*\n* var buf = new ArrayBuffer( 32 );\n* var arr = new Complex128Array( buf );\n* // returns <Complex128Array>\n*\n* var len = arr.length;\n* // returns 2\n*\n* @example\n* var ArrayBuffer = require( '@stdlib/array-buffer' );\n*\n* var buf = new ArrayBuffer( 32 );\n* var arr = new Complex128Array( buf, 16 );\n* // returns <Complex128Array>\n*\n* var len = arr.length;\n* // returns 1\n*\n* @example\n* var ArrayBuffer = require( '@stdlib/array-buffer' );\n*\n* var buf = new ArrayBuffer( 64 );\n* var arr = new Complex128Array( buf, 16, 2 );\n* // returns <Complex128Array>\n*\n* var len = arr.length;\n* // returns 2\n*/\nfunction Complex128Array() {\n\tvar byteOffset;\n\tvar nargs;\n\tvar buf;\n\tvar len;\n\n\tnargs = arguments.length;\n\tif ( !(this instanceof Complex128Array) ) {\n\t\tif ( nargs === 0 ) {\n\t\t\treturn new Complex128Array();\n\t\t}\n\t\tif ( nargs === 1 ) {\n\t\t\treturn new Complex128Array( arguments[0] );\n\t\t}\n\t\tif ( nargs === 2 ) {\n\t\t\treturn new Complex128Array( arguments[0], arguments[1] );\n\t\t}\n\t\treturn new Complex128Array( arguments[0], arguments[1], arguments[2] );\n\t}\n\t// Create the underlying data buffer...\n\tif ( nargs === 0 ) {\n\t\tbuf = new Float64Array( 0 ); // backward-compatibility\n\t} else if ( nargs === 1 ) {\n\t\tif ( isNonNegativeInteger( arguments[0] ) ) {\n\t\t\tbuf = new Float64Array( arguments[0]*2 );\n\t\t} else if ( isCollection( arguments[0] ) ) {\n\t\t\tbuf = arguments[ 0 ];\n\t\t\tlen = buf.length;\n\n\t\t\t// If provided a \"generic\" array, peak at the first value, and, if the value is a complex number, try to process as an array of complex numbers, falling back to \"normal\" typed array initialization if we fail and ensuring consistency if the first value had not been a complex number...\n\t\t\tif ( len && isArray( buf ) && isComplexLike( buf[0] ) ) {\n\t\t\t\tbuf = fromArray( new Float64Array( len*2 ), buf );\n\t\t\t\tif ( buf === null ) {\n\t\t\t\t\t// We failed and we are now forced to allocate a new array :-(\n\t\t\t\t\tif ( !isEven( len ) ) {\n\t\t\t\t\t\tthrow new RangeError( format( 'invalid argument. Array-like object arguments must have a length which is a multiple of two. Length: `%u`.', len ) );\n\t\t\t\t\t}\n\t\t\t\t\t// We failed, so fall back to directly setting values...\n\t\t\t\t\tbuf = new Float64Array( arguments[0] );\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif ( isComplex64Array( buf ) ) {\n\t\t\t\t\tbuf = reinterpret64( buf, 0 );\n\t\t\t\t} else if ( isComplex128Array( buf ) ) {\n\t\t\t\t\tbuf = reinterpret128( buf, 0 );\n\t\t\t\t} else if ( !isEven( len ) ) {\n\t\t\t\t\tthrow new RangeError( format( 'invalid argument. Array-like object and typed array arguments must have a length which is a multiple of two. Length: `%u`.', len ) );\n\t\t\t\t}\n\t\t\t\tbuf = new Float64Array( buf );\n\t\t\t}\n\t\t} else if ( isArrayBuffer( arguments[0] ) ) {\n\t\t\tbuf = arguments[ 0 ];\n\t\t\tif ( !isInteger( buf.byteLength/BYTES_PER_ELEMENT ) ) {\n\t\t\t\tthrow new RangeError( format( 'invalid argument. ArrayBuffer byte length must be a multiple of %u. Byte length: `%u`.', BYTES_PER_ELEMENT, buf.byteLength ) );\n\t\t\t}\n\t\t\tbuf = new Float64Array( buf );\n\t\t} else if ( isObject( arguments[0] ) ) {\n\t\t\tbuf = arguments[ 0 ];\n\t\t\tif ( HAS_ITERATOR_SYMBOL === false ) {\n\t\t\t\tthrow new TypeError( format( 'invalid argument. Environment lacks Symbol.iterator support. Must provide a length, ArrayBuffer, typed array, or array-like object. Value: `%s`.', buf ) );\n\t\t\t}\n\t\t\tif ( !isFunction( buf[ ITERATOR_SYMBOL ] ) ) {\n\t\t\t\tthrow new TypeError( format( 'invalid argument. Must provide a length, ArrayBuffer, typed array, array-like object, or an iterable. Value: `%s`.', buf ) );\n\t\t\t}\n\t\t\tbuf = buf[ ITERATOR_SYMBOL ]();\n\t\t\tif ( !isFunction( buf.next ) ) {\n\t\t\t\tthrow new TypeError( format( 'invalid argument. Must provide a length, ArrayBuffer, typed array, array-like object, or an iterable. Value: `%s`.', buf ) );\n\t\t\t}\n\t\t\tbuf = fromIterator( buf );\n\t\t\tif ( buf instanceof Error ) {\n\t\t\t\tthrow buf;\n\t\t\t}\n\t\t\tbuf = new Float64Array( buf );\n\t\t} else {\n\t\t\tthrow new TypeError( format( 'invalid argument. Must provide a length, ArrayBuffer, typed array, array-like object, or an iterable. Value: `%s`.', arguments[0] ) );\n\t\t}\n\t} else {\n\t\tbuf = arguments[ 0 ];\n\t\tif ( !isArrayBuffer( buf ) ) {\n\t\t\tthrow new TypeError( format( 'invalid argument. First argument must be an ArrayBuffer. Value: `%s`.', buf ) );\n\t\t}\n\t\tbyteOffset = arguments[ 1 ];\n\t\tif ( !isNonNegativeInteger( byteOffset ) ) {\n\t\t\tthrow new TypeError( format( 'invalid argument. Byte offset must be a nonnegative integer. Value: `%s`.', byteOffset ) );\n\t\t}\n\t\tif ( !isInteger( byteOffset/BYTES_PER_ELEMENT ) ) {\n\t\t\tthrow new RangeError( format( 'invalid argument. Byte offset must be a multiple of %u. Value: `%u`.', BYTES_PER_ELEMENT, byteOffset ) );\n\t\t}\n\t\tif ( nargs === 2 ) {\n\t\t\tlen = buf.byteLength - byteOffset;\n\t\t\tif ( !isInteger( len/BYTES_PER_ELEMENT ) ) {\n\t\t\t\tthrow new RangeError( format( 'invalid arguments. ArrayBuffer view byte length must be a multiple of %u. View byte length: `%u`.', BYTES_PER_ELEMENT, len ) );\n\t\t\t}\n\t\t\tbuf = new Float64Array( buf, byteOffset );\n\t\t} else {\n\t\t\tlen = arguments[ 2 ];\n\t\t\tif ( !isNonNegativeInteger( len ) ) {\n\t\t\t\tthrow new TypeError( format( 'invalid argument. Length must be a nonnegative integer. Value: `%s`.', len ) );\n\t\t\t}\n\t\t\tif ( (len*BYTES_PER_ELEMENT) > (buf.byteLength-byteOffset) ) {\n\t\t\t\tthrow new RangeError( format( 'invalid arguments. ArrayBuffer has insufficient capacity. Either decrease the array length or provide a bigger buffer. Minimum capacity: `%u`.', len*BYTES_PER_ELEMENT ) );\n\t\t\t}\n\t\t\tbuf = new Float64Array( buf, byteOffset, len*2 );\n\t\t}\n\t}\n\tsetReadOnly( this, '_buffer', buf );\n\tsetReadOnly( this, '_length', buf.length/2 );\n\n\treturn this;\n}\n\n/**\n* Size (in bytes) of each array element.\n*\n* @name BYTES_PER_ELEMENT\n* @memberof Complex128Array\n* @readonly\n* @type {PositiveInteger}\n* @default 16\n*\n* @example\n* var nbytes = Complex128Array.BYTES_PER_ELEMENT;\n* // returns 16\n*/\nsetReadOnly( Complex128Array, 'BYTES_PER_ELEMENT', BYTES_PER_ELEMENT );\n\n/**\n* Constructor name.\n*\n* @name name\n* @memberof Complex128Array\n* @readonly\n* @type {string}\n* @default 'Complex128Array'\n*\n* @example\n* var name = Complex128Array.name;\n* // returns 'Complex128Array'\n*/\nsetReadOnly( Complex128Array, 'name', 'Complex128Array' );\n\n/**\n* Creates a new 128-bit complex number array from an array-like object or an iterable.\n*\n* @name from\n* @memberof Complex128Array\n* @type {Function}\n* @param {(Collection|Object)} src - array-like object or iterable\n* @param {Function} [clbk] - callback to invoke for each source element\n* @param {*} [thisArg] - context\n* @throws {TypeError} `this` context must be a constructor\n* @throws {TypeError} `this` must be a complex number array\n* @throws {TypeError} first argument must be an array-like object or an iterable\n* @throws {TypeError} second argument must be a function\n* @throws {RangeError} array-like objects must have a length which is a multiple of two\n* @throws {TypeError} an iterator must return either a two element array containing real and imaginary components or a complex number\n* @throws {TypeError} when provided an iterator, a callback must return either a two element array containing real and imaginary components or a complex number\n* @returns {Complex128Array} 128-bit complex number array\n*\n* @example\n* var arr = Complex128Array.from( [ 1.0, -1.0 ] );\n* // returns <Complex128Array>\n*\n* var len = arr.length;\n* // returns 1\n*\n* @example\n* var Complex128 = require( '@stdlib/complex-float64' );\n*\n* var arr = Complex128Array.from( [ new Complex128( 1.0, 1.0 ) ] );\n* // returns <Complex128Array>\n*\n* var len = arr.length;\n* // returns 1\n*\n* @example\n* var Complex128 = require( '@stdlib/complex-float64' );\n* var real = require( '@stdlib/complex-real' );\n* var imag = require( '@stdlib/complex-imag' );\n*\n* function clbk( v ) {\n*     return new Complex128( real(v)*2.0, imag(v)*2.0 );\n* }\n*\n* var arr = Complex128Array.from( [ new Complex128( 1.0, 1.0 ) ], clbk );\n* // returns <Complex128Array>\n*\n* var len = arr.length;\n* // returns 1\n*/\nsetReadOnly( Complex128Array, 'from', function from( src ) {\n\tvar thisArg;\n\tvar nargs;\n\tvar clbk;\n\tvar out;\n\tvar buf;\n\tvar tmp;\n\tvar get;\n\tvar len;\n\tvar flg;\n\tvar v;\n\tvar i;\n\tvar j;\n\tif ( !isFunction( this ) ) {\n\t\tthrow new TypeError( 'invalid invocation. `this` context must be a constructor.' );\n\t}\n\tif ( !isComplexArrayConstructor( this ) ) {\n\t\tthrow new TypeError( 'invalid invocation. `this` is not a complex number array.' );\n\t}\n\tnargs = arguments.length;\n\tif ( nargs > 1 ) {\n\t\tclbk = arguments[ 1 ];\n\t\tif ( !isFunction( clbk ) ) {\n\t\t\tthrow new TypeError( format( 'invalid argument. Second argument must be a function. Value: `%s`.', clbk ) );\n\t\t}\n\t\tif ( nargs > 2 ) {\n\t\t\tthisArg = arguments[ 2 ];\n\t\t}\n\t}\n\tif ( isComplexArray( src ) ) {\n\t\tlen = src.length;\n\t\tif ( clbk ) {\n\t\t\tout = new this( len );\n\t\t\tbuf = out._buffer; // eslint-disable-line no-underscore-dangle\n\t\t\tj = 0;\n\t\t\tfor ( i = 0; i < len; i++ ) {\n\t\t\t\tv = clbk.call( thisArg, src.get( i ), i );\n\t\t\t\tif ( isComplexLike( v ) ) {\n\t\t\t\t\tbuf[ j ] = real( v );\n\t\t\t\t\tbuf[ j+1 ] = imag( v );\n\t\t\t\t} else if ( isArrayLikeObject( v ) && v.length >= 2 ) {\n\t\t\t\t\tbuf[ j ] = v[ 0 ];\n\t\t\t\t\tbuf[ j+1 ] = v[ 1 ];\n\t\t\t\t} else {\n\t\t\t\t\tthrow new TypeError( format( 'invalid argument. Callback must return either a two-element array containing real and imaginary components or a complex number. Value: `%s`.', v ) );\n\t\t\t\t}\n\t\t\t\tj += 2; // stride\n\t\t\t}\n\t\t\treturn out;\n\t\t}\n\t\treturn new this( src );\n\t}\n\tif ( isCollection( src ) ) {\n\t\tif ( clbk ) {\n\t\t\t// Note: array contents affect how we iterate over a provided data source. If only complex number objects, we can extract real and imaginary components. Otherwise, for non-complex number arrays (e.g., `Float64Array`, etc), we assume a strided array where real and imaginary components are interleaved. In the former case, we expect a callback to return real and imaginary components (possibly as a complex number). In the latter case, we expect a callback to return *either* a real or imaginary component.\n\n\t\t\tlen = src.length;\n\t\t\tif ( src.get && src.set ) {\n\t\t\t\tget = accessorGetter( 'default' );\n\t\t\t} else {\n\t\t\t\tget = getter( 'default' );\n\t\t\t}\n\t\t\t// Detect whether we've been provided an array which returns complex number objects...\n\t\t\tfor ( i = 0; i < len; i++ ) {\n\t\t\t\tif ( !isComplexLike( get( src, i ) ) ) {\n\t\t\t\t\tflg = true;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\t// If an array does not contain only complex number objects, then we assume interleaved real and imaginary components...\n\t\t\tif ( flg ) {\n\t\t\t\tif ( !isEven( len ) ) {\n\t\t\t\t\tthrow new RangeError( format( 'invalid argument. First argument must have a length which is a multiple of two. Length: `%u`.', len ) );\n\t\t\t\t}\n\t\t\t\tout = new this( len/2 );\n\t\t\t\tbuf = out._buffer; // eslint-disable-line no-underscore-dangle\n\t\t\t\tfor ( i = 0; i < len; i++ ) {\n\t\t\t\t\tbuf[ i ] = clbk.call( thisArg, get( src, i ), i );\n\t\t\t\t}\n\t\t\t\treturn out;\n\t\t\t}\n\t\t\t// If an array contains only complex number objects, then we need to extract real and imaginary components...\n\t\t\tout = new this( len );\n\t\t\tbuf = out._buffer; // eslint-disable-line no-underscore-dangle\n\t\t\tj = 0;\n\t\t\tfor ( i = 0; i < len; i++ ) {\n\t\t\t\tv = clbk.call( thisArg, get( src, i ), i );\n\t\t\t\tif ( isComplexLike( v ) ) {\n\t\t\t\t\tbuf[ j ] = real( v );\n\t\t\t\t\tbuf[ j+1 ] = imag( v );\n\t\t\t\t} else if ( isArrayLikeObject( v ) && v.length >= 2 ) {\n\t\t\t\t\tbuf[ j ] = v[ 0 ];\n\t\t\t\t\tbuf[ j+1 ] = v[ 1 ];\n\t\t\t\t} else {\n\t\t\t\t\tthrow new TypeError( format( 'invalid argument. Callback must return either a two-element array containing real and imaginary components or a complex number. Value: `%s`.', v ) );\n\t\t\t\t}\n\t\t\t\tj += 2; // stride\n\t\t\t}\n\t\t\treturn out;\n\t\t}\n\t\treturn new this( src );\n\t}\n\tif ( isObject( src ) && HAS_ITERATOR_SYMBOL && isFunction( src[ ITERATOR_SYMBOL ] ) ) { // eslint-disable-line max-len\n\t\tbuf = src[ ITERATOR_SYMBOL ]();\n\t\tif ( !isFunction( buf.next ) ) {\n\t\t\tthrow new TypeError( format( 'invalid argument. First argument must be an array-like object or an iterable. Value: `%s`.', src ) );\n\t\t}\n\t\tif ( clbk ) {\n\t\t\ttmp = fromIteratorMap( buf, clbk, thisArg );\n\t\t} else {\n\t\t\ttmp = fromIterator( buf );\n\t\t}\n\t\tif ( tmp instanceof Error ) {\n\t\t\tthrow tmp;\n\t\t}\n\t\tlen = tmp.length / 2;\n\t\tout = new this( len );\n\t\tbuf = out._buffer; // eslint-disable-line no-underscore-dangle\n\t\tfor ( i = 0; i < len; i++ ) {\n\t\t\tbuf[ i ] = tmp[ i ];\n\t\t}\n\t\treturn out;\n\t}\n\tthrow new TypeError( format( 'invalid argument. First argument must be an array-like object or an iterable. Value: `%s`.', src ) );\n});\n\n/**\n* Creates a new 128-bit complex number array from a variable number of arguments.\n*\n* @name of\n* @memberof Complex128Array\n* @type {Function}\n* @param {...*} element - array elements\n* @throws {TypeError} `this` context must be a constructor\n* @throws {TypeError} `this` must be a complex number array\n* @returns {Complex128Array} 128-bit complex number array\n*\n* @example\n* var arr = Complex128Array.of( 1.0, 1.0, 1.0, 1.0 );\n* // returns <Complex128Array>\n*\n* var len = arr.length;\n* // returns 2\n*/\nsetReadOnly( Complex128Array, 'of', function of() {\n\tvar args;\n\tvar i;\n\tif ( !isFunction( this ) ) {\n\t\tthrow new TypeError( 'invalid invocation. `this` context must be a constructor.' );\n\t}\n\tif ( !isComplexArrayConstructor( this ) ) {\n\t\tthrow new TypeError( 'invalid invocation. `this` is not a complex number array.' );\n\t}\n\targs = [];\n\tfor ( i = 0; i < arguments.length; i++ ) {\n\t\targs.push( arguments[ i ] );\n\t}\n\treturn new this( args );\n});\n\n/**\n* Returns an array element with support for both nonnegative and negative integer indices.\n*\n* @name at\n* @memberof Complex128Array.prototype\n* @type {Function}\n* @param {integer} idx - element index\n* @throws {TypeError} `this` must be a complex number array\n* @throws {TypeError} must provide an integer\n* @returns {(Complex128|void)} array element\n*\n* @example\n* var real = require( '@stdlib/complex-real' );\n* var imag = require( '@stdlib/complex-imag' );\n*\n* var arr = new Complex128Array( 10 );\n*\n* var z = arr.at( 0 );\n* // returns <Complex128>\n*\n* var re = real( z );\n* // returns 0.0\n*\n* var im = imag( z );\n* // returns 0.0\n*\n* arr.set( [ 1.0, -1.0 ], 0 );\n* arr.set( [ 2.0, -2.0 ], 1 );\n* arr.set( [ 9.0, -9.0 ], 9 );\n*\n* z = arr.at( 0 );\n* // returns <Complex128>\n*\n* re = real( z );\n* // returns 1.0\n*\n* im = imag( z );\n* // returns -1.0\n*\n* z = arr.at( -1 );\n* // returns <Complex128>\n*\n* re = real( z );\n* // returns 9.0\n*\n* im = imag( z );\n* // returns -9.0\n*\n* z = arr.at( 100 );\n* // returns undefined\n*\n* z = arr.at( -100 );\n* // returns undefined\n*/\nsetReadOnly( Complex128Array.prototype, 'at', function at( idx ) {\n\tif ( !isComplexArray( this ) ) {\n\t\tthrow new TypeError( 'invalid invocation. `this` is not a complex number array.' );\n\t}\n\tif ( !isInteger( idx ) ) {\n\t\tthrow new TypeError( format( 'invalid argument. Must provide an integer. Value: `%s`.', idx ) );\n\t}\n\tif ( idx < 0 ) {\n\t\tidx += this._length;\n\t}\n\tif ( idx < 0 || idx >= this._length ) {\n\t\treturn;\n\t}\n\treturn getComplex128( this._buffer, idx );\n});\n\n/**\n* Pointer to the underlying data buffer.\n*\n* @name buffer\n* @memberof Complex128Array.prototype\n* @readonly\n* @type {ArrayBuffer}\n*\n* @example\n* var arr = new Complex128Array( 10 );\n*\n* var buf = arr.buffer;\n* // returns <ArrayBuffer>\n*/\nsetReadOnlyAccessor( Complex128Array.prototype, 'buffer', function get() {\n\treturn this._buffer.buffer;\n});\n\n/**\n* Size (in bytes) of the array.\n*\n* @name byteLength\n* @memberof Complex128Array.prototype\n* @readonly\n* @type {NonNegativeInteger}\n*\n* @example\n* var arr = new Complex128Array( 10 );\n*\n* var byteLength = arr.byteLength;\n* // returns 160\n*/\nsetReadOnlyAccessor( Complex128Array.prototype, 'byteLength', function get() {\n\treturn this._buffer.byteLength;\n});\n\n/**\n* Offset (in bytes) of the array from the start of its underlying `ArrayBuffer`.\n*\n* @name byteOffset\n* @memberof Complex128Array.prototype\n* @readonly\n* @type {NonNegativeInteger}\n*\n* @example\n* var arr = new Complex128Array( 10 );\n*\n* var byteOffset = arr.byteOffset;\n* // returns 0\n*/\nsetReadOnlyAccessor( Complex128Array.prototype, 'byteOffset', function get() {\n\treturn this._buffer.byteOffset;\n});\n\n/**\n* Size (in bytes) of each array element.\n*\n* @name BYTES_PER_ELEMENT\n* @memberof Complex128Array.prototype\n* @readonly\n* @type {PositiveInteger}\n* @default 16\n*\n* @example\n* var arr = new Complex128Array( 10 );\n*\n* var nbytes = arr.BYTES_PER_ELEMENT;\n* // returns 16\n*/\nsetReadOnly( Complex128Array.prototype, 'BYTES_PER_ELEMENT', Complex128Array.BYTES_PER_ELEMENT );\n\n/**\n* Copies a sequence of elements within the array to the position starting at `target`.\n*\n* @name copyWithin\n* @memberof Complex128Array.prototype\n* @type {Function}\n* @param {integer} target - index at which to start copying elements\n* @param {integer} start - source index at which to copy elements from\n* @param {integer} [end] - source index at which to stop copying elements from\n* @throws {TypeError} `this` must be a complex number array\n* @returns {Complex128Array} modified array\n*\n* @example\n* var Complex128 = require( '@stdlib/complex-float64' );\n* var real = require( '@stdlib/complex-real' );\n* var imag = require( '@stdlib/complex-imag' );\n*\n* var arr = new Complex128Array( 4 );\n*\n* // Set the array elements:\n* arr.set( new Complex128( 1.0, 1.0 ), 0 );\n* arr.set( new Complex128( 2.0, 2.0 ), 1 );\n* arr.set( new Complex128( 3.0, 3.0 ), 2 );\n* arr.set( new Complex128( 4.0, 4.0 ), 3 );\n*\n* // Copy the first two elements to the last two elements:\n* arr.copyWithin( 2, 0, 2 );\n*\n* // Get the last array element:\n* var z = arr.get( 3 );\n*\n* var re = real( z );\n* // returns 2.0\n*\n* var im = imag( z );\n* // returns 2.0\n*/\nsetReadOnly( Complex128Array.prototype, 'copyWithin', function copyWithin( target, start ) {\n\tif ( !isComplexArray( this ) ) {\n\t\tthrow new TypeError( 'invalid invocation. `this` is not a complex number array.' );\n\t}\n\t// FIXME: prefer a functional `copyWithin` implementation which addresses lack of universal browser support (e.g., IE11 and Safari) or ensure that typed arrays are polyfilled\n\tif ( arguments.length === 2 ) {\n\t\tthis._buffer.copyWithin( target*2, start*2 );\n\t} else {\n\t\tthis._buffer.copyWithin( target*2, start*2, arguments[2]*2 );\n\t}\n\treturn this;\n});\n\n/**\n* Returns an iterator for iterating over array key-value pairs.\n*\n* @name entries\n* @memberof Complex128Array.prototype\n* @type {Function}\n* @throws {TypeError} `this` must be a complex number array\n* @returns {Iterator} iterator\n*\n* @example\n* var Complex128 = require( '@stdlib/complex-float64' );\n*\n* var arr = [\n*     new Complex128( 1.0, 1.0 ),\n*     new Complex128( 2.0, 2.0 ),\n*     new Complex128( 3.0, 3.0 )\n* ];\n* arr = new Complex128Array( arr );\n*\n* // Create an iterator:\n* var it = arr.entries();\n*\n* // Iterate over the key-value pairs...\n* var v = it.next().value;\n* // returns [ 0, <Complex128> ]\n*\n* v = it.next().value;\n* // returns [ 1, <Complex128> ]\n*\n* v = it.next().value;\n* // returns [ 2, <Complex128> ]\n*\n* var bool = it.next().done;\n* // returns true\n*/\nsetReadOnly( Complex128Array.prototype, 'entries', function entries() {\n\tvar buffer;\n\tvar self;\n\tvar iter;\n\tvar len;\n\tvar FLG;\n\tvar i;\n\tvar j;\n\tif ( !isComplexArray( this ) ) {\n\t\tthrow new TypeError( 'invalid invocation. `this` is not a complex number array.' );\n\t}\n\tself = this;\n\tbuffer = this._buffer;\n\tlen = this._length;\n\n\t// Initialize the iteration indices:\n\ti = -1;\n\tj = -2;\n\n\t// Create an iterator protocol-compliant object:\n\titer = {};\n\tsetReadOnly( iter, 'next', next );\n\tsetReadOnly( iter, 'return', end );\n\n\tif ( ITERATOR_SYMBOL ) {\n\t\tsetReadOnly( iter, ITERATOR_SYMBOL, factory );\n\t}\n\treturn iter;\n\n\t/**\n\t* Returns an iterator protocol-compliant object containing the next iterated value.\n\t*\n\t* @private\n\t* @returns {Object} iterator protocol-compliant object\n\t*/\n\tfunction next() {\n\t\tvar z;\n\t\ti += 1;\n\t\tif ( FLG || i >= len ) {\n\t\t\treturn {\n\t\t\t\t'done': true\n\t\t\t};\n\t\t}\n\t\tj += 2;\n\t\tz = new Complex128( buffer[ j ], buffer[ j+1 ] );\n\t\treturn {\n\t\t\t'value': [ i, z ],\n\t\t\t'done': false\n\t\t};\n\t}\n\n\t/**\n\t* Finishes an iterator.\n\t*\n\t* @private\n\t* @param {*} [value] - value to return\n\t* @returns {Object} iterator protocol-compliant object\n\t*/\n\tfunction end( value ) {\n\t\tFLG = true;\n\t\tif ( arguments.length ) {\n\t\t\treturn {\n\t\t\t\t'value': value,\n\t\t\t\t'done': true\n\t\t\t};\n\t\t}\n\t\treturn {\n\t\t\t'done': true\n\t\t};\n\t}\n\n\t/**\n\t* Returns a new iterator.\n\t*\n\t* @private\n\t* @returns {Iterator} iterator\n\t*/\n\tfunction factory() {\n\t\treturn self.entries();\n\t}\n});\n\n/**\n* Tests whether all elements in an array pass a test implemented by a predicate function.\n*\n* @name every\n* @memberof Complex128Array.prototype\n* @type {Function}\n* @param {Function} predicate - test function\n* @param {*} [thisArg] - predicate function execution context\n* @throws {TypeError} `this` must be a complex number array\n* @throws {TypeError} first argument must be a function\n* @returns {boolean} boolean indicating whether all elements pass a test\n*\n* @example\n* var real = require( '@stdlib/complex-real' );\n* var imag = require( '@stdlib/complex-imag' );\n*\n* function predicate( v ) {\n*     return ( real( v ) === imag( v ) );\n* }\n*\n* var arr = new Complex128Array( 3 );\n*\n* arr.set( [ 1.0, 1.0 ], 0 );\n* arr.set( [ 2.0, 2.0 ], 1 );\n* arr.set( [ 3.0, 3.0 ], 2 );\n*\n* var bool = arr.every( predicate );\n* // returns true\n*/\nsetReadOnly( Complex128Array.prototype, 'every', function every( predicate, thisArg ) {\n\tvar buf;\n\tvar i;\n\tif ( !isComplexArray( this ) ) {\n\t\tthrow new TypeError( 'invalid invocation. `this` is not a complex number array.' );\n\t}\n\tif ( !isFunction( predicate ) ) {\n\t\tthrow new TypeError( format( 'invalid argument. First argument must be a function. Value: `%s`.', predicate ) );\n\t}\n\tbuf = this._buffer;\n\tfor ( i = 0; i < this._length; i++ ) {\n\t\tif ( !predicate.call( thisArg, getComplex128( buf, i ), i, this ) ) {\n\t\t\treturn false;\n\t\t}\n\t}\n\treturn true;\n});\n\n/**\n* Returns a modified typed array filled with a fill value.\n*\n* @name fill\n* @memberof Complex128Array.prototype\n* @type {Function}\n* @param {ComplexLike} value - fill value\n* @param {integer} [start=0] - starting index (inclusive)\n* @param {integer} [end] - ending index (exclusive)\n* @throws {TypeError} `this` must be a complex number array\n* @throws {TypeError} first argument must be a complex number\n* @throws {TypeError} second argument must be an integer\n* @throws {TypeError} third argument must be an integer\n*\n* @example\n* var real = require( '@stdlib/complex-real' );\n* var imag = require( '@stdlib/complex-imag' );\n*\n* var arr = new Complex128Array( 3 );\n*\n* arr.fill( new Complex128( 1.0, 1.0 ), 1 );\n*\n* var z = arr.get( 1 );\n* // returns <Complex128>\n*\n* var re = real( z );\n* // returns 1.0\n*\n* var im = imag( z );\n* // returns 1.0\n*\n* z = arr.get( 1 );\n* // returns <Complex128>\n*\n* re = real( z );\n* // returns 1.0\n*\n* im = imag( z );\n* // returns 1.0\n*/\nsetReadOnly( Complex128Array.prototype, 'fill', function fill( value, start, end ) {\n\tvar buf;\n\tvar len;\n\tvar idx;\n\tvar re;\n\tvar im;\n\tvar i;\n\tif ( !isComplexArray( this ) ) {\n\t\tthrow new TypeError( 'invalid invocation. `this` is not a complex number array.' );\n\t}\n\tif ( !isComplexLike( value ) ) {\n\t\tthrow new TypeError( format( 'invalid argument. First argument must be a complex number. Value: `%s`.', value ) );\n\t}\n\tbuf = this._buffer;\n\tlen = this._length;\n\tif ( arguments.length > 1 ) {\n\t\tif ( !isInteger( start ) ) {\n\t\t\tthrow new TypeError( format( 'invalid argument. Second argument must be an integer. Value: `%s`.', start ) );\n\t\t}\n\t\tif ( start < 0 ) {\n\t\t\tstart += len;\n\t\t\tif ( start < 0 ) {\n\t\t\t\tstart = 0;\n\t\t\t}\n\t\t}\n\t\tif ( arguments.length > 2 ) {\n\t\t\tif ( !isInteger( end ) ) {\n\t\t\t\tthrow new TypeError( format( 'invalid argument. Third argument must be an integer. Value: `%s`.', end ) );\n\t\t\t}\n\t\t\tif ( end < 0 ) {\n\t\t\t\tend += len;\n\t\t\t\tif ( end < 0 ) {\n\t\t\t\t\tend = 0;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif ( end > len ) {\n\t\t\t\tend = len;\n\t\t\t}\n\t\t} else {\n\t\t\tend = len;\n\t\t}\n\t} else {\n\t\tstart = 0;\n\t\tend = len;\n\t}\n\tre = real( value );\n\tim = imag( value );\n\tfor ( i = start; i < end; i++ ) {\n\t\tidx = 2*i;\n\t\tbuf[ idx ] = re;\n\t\tbuf[ idx+1 ] = im;\n\t}\n\treturn this;\n});\n\n/**\n* Returns a new array containing the elements of an array which pass a test implemented by a predicate function.\n*\n* @name filter\n* @memberof Complex128Array.prototype\n* @type {Function}\n* @param {Function} predicate - test function\n* @param {*} [thisArg] - predicate function execution context\n* @throws {TypeError} `this` must be a complex number array\n* @throws {TypeError} first argument must be a function\n* @returns {Complex128Array} complex number array\n*\n* @example\n* var real = require( '@stdlib/complex-real' );\n* var imag = require( '@stdlib/complex-imag' );\n*\n* function predicate( v ) {\n*     return ( real( v ) === imag( v ) );\n* }\n*\n* var arr = new Complex128Array( 3 );\n*\n* arr.set( [ 1.0, -1.0 ], 0 );\n* arr.set( [ 2.0, 2.0 ], 1 );\n* arr.set( [ 3.0, -3.0 ], 2 );\n*\n* var out = arr.filter( predicate );\n* // returns <Complex128Array>\n*\n* var len = out.length;\n* // returns 1\n*\n* var z = out.get( 0 );\n* // returns <Complex128>\n*\n* var re = real( z );\n* // returns 2.0\n*\n* var im = imag( z );\n* // returns 2.0\n*/\nsetReadOnly( Complex128Array.prototype, 'filter', function filter( predicate, thisArg ) {\n\tvar buf;\n\tvar out;\n\tvar i;\n\tvar z;\n\tif ( !isComplexArray( this ) ) {\n\t\tthrow new TypeError( 'invalid invocation. `this` is not a complex number array.' );\n\t}\n\tif ( !isFunction( predicate ) ) {\n\t\tthrow new TypeError( format( 'invalid argument. First argument must be a function. Value: `%s`.', predicate ) );\n\t}\n\tbuf = this._buffer;\n\tout = [];\n\tfor ( i = 0; i < this._length; i++ ) {\n\t\tz = getComplex128( buf, i );\n\t\tif ( predicate.call( thisArg, z, i, this ) ) {\n\t\t\tout.push( z );\n\t\t}\n\t}\n\treturn new this.constructor( out );\n});\n\n/**\n* Returns the first element in an array for which a predicate function returns a truthy value.\n*\n* @name find\n* @memberof Complex128Array.prototype\n* @type {Function}\n* @param {Function} predicate - test function\n* @param {*} [thisArg] - predicate function execution context\n* @throws {TypeError} `this` must be a complex number array\n* @throws {TypeError} first argument must be a function\n* @returns {(Complex128|void)} array element or undefined\n*\n* @example\n* var real = require( '@stdlib/complex-real' );\n* var imag = require( '@stdlib/complex-imag' );\n*\n* function predicate( v ) {\n*     return ( real( v ) === imag( v ) );\n* }\n*\n* var arr = new Complex128Array( 3 );\n*\n* arr.set( [ 1.0, 1.0 ], 0 );\n* arr.set( [ 2.0, 2.0 ], 1 );\n* arr.set( [ 3.0, 3.0 ], 2 );\n*\n* var z = arr.find( predicate );\n* // returns <Complex128>\n*\n* var re = real( z );\n* // returns 1.0\n*\n* var im = imag( z );\n* // returns 1.0\n*/\nsetReadOnly( Complex128Array.prototype, 'find', function find( predicate, thisArg ) {\n\tvar buf;\n\tvar i;\n\tvar z;\n\tif ( !isComplexArray( this ) ) {\n\t\tthrow new TypeError( 'invalid invocation. `this` is not a complex number array.' );\n\t}\n\tif ( !isFunction( predicate ) ) {\n\t\tthrow new TypeError( format( 'invalid argument. First argument must be a function. Value: `%s`.', predicate ) );\n\t}\n\tbuf = this._buffer;\n\tfor ( i = 0; i < this._length; i++ ) {\n\t\tz = getComplex128( buf, i );\n\t\tif ( predicate.call( thisArg, z, i, this ) ) {\n\t\t\treturn z;\n\t\t}\n\t}\n});\n\n/**\n* Returns the index of the first element in an array for which a predicate function returns a truthy value.\n*\n* @name findIndex\n* @memberof Complex128Array.prototype\n* @type {Function}\n* @param {Function} predicate - test function\n* @param {*} [thisArg] - predicate function execution context\n* @throws {TypeError} `this` must be a complex number array\n* @throws {TypeError} first argument must be a function\n* @returns {integer} index or -1\n*\n* @example\n* var real = require( '@stdlib/complex-real' );\n* var imag = require( '@stdlib/complex-imag' );\n*\n* function predicate( v ) {\n*     return ( real( v ) === imag( v ) );\n* }\n*\n* var arr = new Complex128Array( 3 );\n*\n* arr.set( [ 1.0, -1.0 ], 0 );\n* arr.set( [ 2.0, -2.0 ], 1 );\n* arr.set( [ 3.0, 3.0 ], 2 );\n*\n* var idx = arr.findIndex( predicate );\n* // returns 2\n*/\nsetReadOnly( Complex128Array.prototype, 'findIndex', function findIndex( predicate, thisArg ) {\n\tvar buf;\n\tvar i;\n\tvar z;\n\tif ( !isComplexArray( this ) ) {\n\t\tthrow new TypeError( 'invalid invocation. `this` is not a complex number array.' );\n\t}\n\tif ( !isFunction( predicate ) ) {\n\t\tthrow new TypeError( format( 'invalid argument. First argument must be a function. Value: `%s`.', predicate ) );\n\t}\n\tbuf = this._buffer;\n\tfor ( i = 0; i < this._length; i++ ) {\n\t\tz = getComplex128( buf, i );\n\t\tif ( predicate.call( thisArg, z, i, this ) ) {\n\t\t\treturn i;\n\t\t}\n\t}\n\treturn -1;\n});\n\n/**\n* Returns the last element in an array for which a predicate function returns a truthy value.\n*\n* @name findLast\n* @memberof Complex128Array.prototype\n* @type {Function}\n* @param {Function} predicate - test function\n* @param {*} [thisArg] - predicate function execution context\n* @throws {TypeError} `this` must be a complex number array\n* @throws {TypeError} first argument must be a function\n* @returns {(Complex128|void)} array element or undefined\n*\n* @example\n* var real = require( '@stdlib/complex-real' );\n* var imag = require( '@stdlib/complex-imag' );\n*\n* function predicate( v ) {\n*     return ( real( v ) === imag( v ) );\n* }\n*\n* var arr = new Complex128Array( 3 );\n*\n* arr.set( [ 1.0, 1.0 ], 0 );\n* arr.set( [ 2.0, 2.0 ], 1 );\n* arr.set( [ 3.0, 3.0 ], 2 );\n*\n* var z = arr.findLast( predicate );\n* // returns <Complex128>\n*\n* var re = real( z );\n* // returns 3.0\n*\n* var im = imag( z );\n* // returns 3.0\n*/\nsetReadOnly( Complex128Array.prototype, 'findLast', function findLast( predicate, thisArg ) {\n\tvar buf;\n\tvar i;\n\tvar z;\n\tif ( !isComplexArray( this ) ) {\n\t\tthrow new TypeError( 'invalid invocation. `this` is not a complex number array.' );\n\t}\n\tif ( !isFunction( predicate ) ) {\n\t\tthrow new TypeError( format( 'invalid argument. First argument must be a function. Value: `%s`.', predicate ) );\n\t}\n\tbuf = this._buffer;\n\tfor ( i = this._length-1; i >= 0; i-- ) {\n\t\tz = getComplex128( buf, i );\n\t\tif ( predicate.call( thisArg, z, i, this ) ) {\n\t\t\treturn z;\n\t\t}\n\t}\n});\n\n/**\n* Returns the index of the last element in an array for which a predicate function returns a truthy value.\n*\n* @name findLastIndex\n* @memberof Complex128Array.prototype\n* @type {Function}\n* @param {Function} predicate - test function\n* @param {*} [thisArg] - predicate function execution context\n* @throws {TypeError} `this` must be a complex number array\n* @throws {TypeError} first argument must be a function\n* @returns {integer} index or -1\n*\n* @example\n* var real = require( '@stdlib/complex-real' );\n* var imag = require( '@stdlib/complex-imag' );\n*\n* function predicate( v ) {\n*     return ( real( v ) === imag( v ) );\n* }\n*\n* var arr = new Complex128Array( 3 );\n*\n* arr.set( [ 1.0, 1.0 ], 0 );\n* arr.set( [ 2.0, 2.0 ], 1 );\n* arr.set( [ 3.0, -3.0 ], 2 );\n*\n* var idx = arr.findLastIndex( predicate );\n* // returns 1\n*/\nsetReadOnly( Complex128Array.prototype, 'findLastIndex', function findLastIndex( predicate, thisArg ) {\n\tvar buf;\n\tvar i;\n\tvar z;\n\tif ( !isComplexArray( this ) ) {\n\t\tthrow new TypeError( 'invalid invocation. `this` is not a complex number array.' );\n\t}\n\tif ( !isFunction( predicate ) ) {\n\t\tthrow new TypeError( format( 'invalid argument. First argument must be a function. Value: `%s`.', predicate ) );\n\t}\n\tbuf = this._buffer;\n\tfor ( i = this._length-1; i >= 0; i-- ) {\n\t\tz = getComplex128( buf, i );\n\t\tif ( predicate.call( thisArg, z, i, this ) ) {\n\t\t\treturn i;\n\t\t}\n\t}\n\treturn -1;\n});\n\n/**\n* Invokes a function once for each array element.\n*\n* @name forEach\n* @memberof Complex128Array.prototype\n* @type {Function}\n* @param {Function} fcn - function to invoke\n* @param {*} [thisArg] - function invocation context\n* @throws {TypeError} `this` must be a complex number array\n* @throws {TypeError} first argument must be a function\n*\n* @example\n* var Complex128 = require( '@stdlib/complex-float64' );\n*\n* function log( v, i ) {\n*     console.log( '%s: %s', i, v.toString() );\n* }\n*\n* var arr = new Complex128Array( 3 );\n*\n* arr.set( [ 1.0, 1.0 ], 0 );\n* arr.set( [ 2.0, 2.0 ], 1 );\n* arr.set( [ 3.0, 3.0 ], 2 );\n*\n* arr.forEach( log );\n*/\nsetReadOnly( Complex128Array.prototype, 'forEach', function forEach( fcn, thisArg ) {\n\tvar buf;\n\tvar i;\n\tvar z;\n\tif ( !isComplexArray( this ) ) {\n\t\tthrow new TypeError( 'invalid invocation. `this` is not a complex number array.' );\n\t}\n\tif ( !isFunction( fcn ) ) {\n\t\tthrow new TypeError( format( 'invalid argument. First argument must be a function. Value: `%s`.', fcn ) );\n\t}\n\tbuf = this._buffer;\n\tfor ( i = 0; i < this._length; i++ ) {\n\t\tz = getComplex128( buf, i );\n\t\tfcn.call( thisArg, z, i, this );\n\t}\n});\n\n/**\n* Returns an array element.\n*\n* @name get\n* @memberof Complex128Array.prototype\n* @type {Function}\n* @param {NonNegativeInteger} idx - element index\n* @throws {TypeError} `this` must be a complex number array\n* @throws {TypeError} must provide a nonnegative integer\n* @returns {(Complex128|void)} array element\n*\n* @example\n* var arr = new Complex128Array( 10 );\n* var real = require( '@stdlib/complex-real' );\n* var imag = require( '@stdlib/complex-imag' );\n*\n* var z = arr.get( 0 );\n* // returns <Complex128>\n*\n* var re = real( z );\n* // returns 0.0\n*\n* var im = imag( z );\n* // returns 0.0\n*\n* arr.set( [ 1.0, -1.0 ], 0 );\n*\n* z = arr.get( 0 );\n* // returns <Complex128>\n*\n* re = real( z );\n* // returns 1.0\n*\n* im = imag( z );\n* // returns -1.0\n*\n* z = arr.get( 100 );\n* // returns undefined\n*/\nsetReadOnly( Complex128Array.prototype, 'get', function get( idx ) {\n\tif ( !isComplexArray( this ) ) {\n\t\tthrow new TypeError( 'invalid invocation. `this` is not a complex number array.' );\n\t}\n\tif ( !isNonNegativeInteger( idx ) ) {\n\t\tthrow new TypeError( format( 'invalid argument. Must provide a nonnegative integer. Value: `%s`.', idx ) );\n\t}\n\tif ( idx >= this._length ) {\n\t\treturn;\n\t}\n\treturn getComplex128( this._buffer, idx );\n});\n\n/**\n* Number of array elements.\n*\n* @name length\n* @memberof Complex128Array.prototype\n* @readonly\n* @type {NonNegativeInteger}\n*\n* @example\n* var arr = new Complex128Array( 10 );\n*\n* var len = arr.length;\n* // returns 10\n*/\nsetReadOnlyAccessor( Complex128Array.prototype, 'length', function get() {\n\treturn this._length;\n});\n\n/**\n* Returns a boolean indicating whether an array includes a provided value.\n*\n* @name includes\n* @memberof Complex128Array.prototype\n* @type {Function}\n* @param {ComplexLike} searchElement - search element\n* @param {integer} [fromIndex=0] - starting index (inclusive)\n* @throws {TypeError} `this` must be a complex number array\n* @throws {TypeError} first argument must be a complex number\n* @throws {TypeError} second argument must be an integer\n* @returns {boolean} boolean indicating whether an array includes a provided value\n*\n* @example\n* var Complex128 = require( '@stdlib/complex-float64' );\n*\n* var arr = new Complex128Array( 5 );\n*\n* arr.set( [ 1.0, -1.0 ], 0 );\n* arr.set( [ 2.0, -2.0 ], 1 );\n* arr.set( [ 3.0, -3.0 ], 2 );\n* arr.set( [ 4.0, -4.0 ], 3 );\n* arr.set( [ 5.0, -5.0 ], 4 );\n*\n* var bool = arr.includes( new Complex128( 3.0, -3.0 ) );\n* // returns true\n*\n* bool = arr.includes( new Complex128( 3.0, -3.0 ), 3 );\n* // returns false\n*\n* bool = arr.includes( new Complex128( 4.0, -4.0 ), -3 );\n* // returns true\n*/\nsetReadOnly( Complex128Array.prototype, 'includes', function includes( searchElement, fromIndex ) {\n\tvar buf;\n\tvar idx;\n\tvar re;\n\tvar im;\n\tvar i;\n\tif ( !isComplexArray( this ) ) {\n\t\tthrow new TypeError( 'invalid invocation. `this` is not a complex number array.' );\n\t}\n\tif ( !isComplexLike( searchElement ) ) {\n\t\tthrow new TypeError( format( 'invalid argument. First argument must be a complex number. Value: `%s`.', searchElement ) );\n\t}\n\tif ( arguments.length > 1 ) {\n\t\tif ( !isInteger( fromIndex ) ) {\n\t\t\tthrow new TypeError( format( 'invalid argument. Second argument must be an integer. Value: `%s`.', fromIndex ) );\n\t\t}\n\t\tif ( fromIndex < 0 ) {\n\t\t\tfromIndex += this._length;\n\t\t\tif ( fromIndex < 0 ) {\n\t\t\t\tfromIndex = 0;\n\t\t\t}\n\t\t}\n\t} else {\n\t\tfromIndex = 0;\n\t}\n\tre = real( searchElement );\n\tim = imag( searchElement );\n\tbuf = this._buffer;\n\tfor ( i = fromIndex; i < this._length; i++ ) {\n\t\tidx = 2 * i;\n\t\tif ( re === buf[ idx ] && im === buf[ idx+1 ] ) {\n\t\t\treturn true;\n\t\t}\n\t}\n\treturn false;\n});\n\n/**\n* Returns the first index at which a given element can be found.\n*\n* @name indexOf\n* @memberof Complex128Array.prototype\n* @type {Function}\n* @param {ComplexLike} searchElement - element to find\n* @param {integer} [fromIndex=0] - starting index (inclusive)\n* @throws {TypeError} `this` must be a complex number array\n* @throws {TypeError} first argument must be a complex number\n* @throws {TypeError} second argument must be an integer\n* @returns {integer} index or -1\n*\n* @example\n* var Complex128 = require( '@stdlib/complex-float64' );\n*\n* var arr = new Complex128Array( 5 );\n*\n* arr.set( [ 1.0, -1.0 ], 0 );\n* arr.set( [ 2.0, -2.0 ], 1 );\n* arr.set( [ 3.0, -3.0 ], 2 );\n* arr.set( [ 4.0, -4.0 ], 3 );\n* arr.set( [ 5.0, -5.0 ], 4 );\n*\n* var idx = arr.indexOf( new Complex128( 3.0, -3.0 ) );\n* // returns 2\n*\n* idx = arr.indexOf( new Complex128( 3.0, -3.0 ), 3 );\n* // returns -1\n*\n* idx = arr.indexOf( new Complex128( 4.0, -4.0 ), -3 );\n* // returns 3\n*/\nsetReadOnly( Complex128Array.prototype, 'indexOf', function indexOf( searchElement, fromIndex ) {\n\tvar buf;\n\tvar idx;\n\tvar re;\n\tvar im;\n\tvar i;\n\tif ( !isComplexArray( this ) ) {\n\t\tthrow new TypeError( 'invalid invocation. `this` is not a complex number array.' );\n\t}\n\tif ( !isComplexLike( searchElement ) ) {\n\t\tthrow new TypeError( format( 'invalid argument. First argument must be a complex number. Value: `%s`.', searchElement ) );\n\t}\n\tif ( arguments.length > 1 ) {\n\t\tif ( !isInteger( fromIndex ) ) {\n\t\t\tthrow new TypeError( format( 'invalid argument. Second argument must be an integer. Value: `%s`.', fromIndex ) );\n\t\t}\n\t\tif ( fromIndex < 0 ) {\n\t\t\tfromIndex += this._length;\n\t\t\tif ( fromIndex < 0 ) {\n\t\t\t\tfromIndex = 0;\n\t\t\t}\n\t\t}\n\t} else {\n\t\tfromIndex = 0;\n\t}\n\tre = real( searchElement );\n\tim = imag( searchElement );\n\tbuf = this._buffer;\n\tfor ( i = fromIndex; i < this._length; i++ ) {\n\t\tidx = 2 * i;\n\t\tif ( re === buf[ idx ] && im === buf[ idx+1 ] ) {\n\t\t\treturn i;\n\t\t}\n\t}\n\treturn -1;\n});\n\n/**\n* Returns a new string by concatenating all array elements.\n*\n* @name join\n* @memberof Complex128Array.prototype\n* @type {Function}\n* @param {string} [separator=','] - element separator\n* @throws {TypeError} `this` must be a complex number array\n* @throws {TypeError} first argument must be a string\n* @returns {string} string representation\n*\n* @example\n* var arr = new Complex128Array( 2 );\n*\n* arr.set( [ 1.0, 1.0 ], 0 );\n* arr.set( [ 2.0, 2.0 ], 1 );\n*\n* var str = arr.join();\n* // returns '1 + 1i,2 + 2i'\n*\n* str = arr.join( '/' );\n* // returns '1 + 1i/2 + 2i'\n*/\nsetReadOnly( Complex128Array.prototype, 'join', function join( separator ) {\n\tvar out;\n\tvar buf;\n\tvar sep;\n\tvar i;\n\tif ( !isComplexArray( this ) ) {\n\t\tthrow new TypeError( 'invalid invocation. `this` is not a complex number array.' );\n\t}\n\tif ( arguments.length === 0 ) {\n\t\tsep = ',';\n\t} else if ( isString( separator ) ) {\n\t\tsep = separator;\n\t} else {\n\t\tthrow new TypeError( format( 'invalid argument. First argument must be a string. Value: `%s`.', separator ) );\n\t}\n\tout = [];\n\tbuf = this._buffer;\n\tfor ( i = 0; i < this._length; i++ ) {\n\t\tout.push( getComplex128( buf, i ).toString() );\n\t}\n\treturn out.join( sep );\n});\n\n/**\n* Returns the last index at which a given element can be found.\n*\n* @name lastIndexOf\n* @memberof Complex128Array.prototype\n* @type {Function}\n* @param {ComplexLike} searchElement - element to find\n* @param {integer} [fromIndex] - index at which to start searching backward (inclusive)\n* @throws {TypeError} `this` must be a complex number array\n* @throws {TypeError} first argument must be a complex number\n* @throws {TypeError} second argument must be an integer\n* @returns {integer} index or -1\n*\n* @example\n* var Complex128 = require( '@stdlib/complex-float64' );\n*\n* var arr = new Complex128Array( 5 );\n*\n* arr.set( [ 1.0, -1.0 ], 0 );\n* arr.set( [ 2.0, -2.0 ], 1 );\n* arr.set( [ 3.0, -3.0 ], 2 );\n* arr.set( [ 4.0, -4.0 ], 3 );\n* arr.set( [ 3.0, -3.0 ], 4 );\n*\n* var idx = arr.lastIndexOf( new Complex128( 3.0, -3.0 ) );\n* // returns 4\n*\n* idx = arr.lastIndexOf( new Complex128( 3.0, -3.0 ), 3 );\n* // returns 2\n*\n* idx = arr.lastIndexOf( new Complex128( 5.0, -5.0 ), 3 );\n* // returns -1\n*\n* idx = arr.lastIndexOf( new Complex128( 2.0, -2.0 ), -3 );\n* // returns 1\n*/\nsetReadOnly( Complex128Array.prototype, 'lastIndexOf', function lastIndexOf( searchElement, fromIndex ) {\n\tvar buf;\n\tvar idx;\n\tvar re;\n\tvar im;\n\tvar i;\n\tif ( !isComplexArray( this ) ) {\n\t\tthrow new TypeError( 'invalid invocation. `this` is not a complex number array.' );\n\t}\n\tif ( !isComplexLike( searchElement ) ) {\n\t\tthrow new TypeError( format( 'invalid argument. First argument must be a complex number. Value: `%s`.', searchElement ) );\n\t}\n\tif ( arguments.length > 1 ) {\n\t\tif ( !isInteger( fromIndex ) ) {\n\t\t\tthrow new TypeError( format( 'invalid argument. Second argument must be an integer. Value: `%s`.', fromIndex ) );\n\t\t}\n\t\tif ( fromIndex >= this._length ) {\n\t\t\tfromIndex = this._length - 1;\n\t\t} else if ( fromIndex < 0 ) {\n\t\t\tfromIndex += this._length;\n\t\t}\n\t} else {\n\t\tfromIndex = this._length - 1;\n\t}\n\tre = real( searchElement );\n\tim = imag( searchElement );\n\tbuf = this._buffer;\n\tfor ( i = fromIndex; i >= 0; i-- ) {\n\t\tidx = 2 * i;\n\t\tif ( re === buf[ idx ] && im === buf[ idx+1 ] ) {\n\t\t\treturn i;\n\t\t}\n\t}\n\treturn -1;\n});\n\n/**\n* Returns a new array with each element being the result of a provided callback function.\n*\n* @name map\n* @memberof Complex128Array.prototype\n* @type {Function}\n* @param {Function} fcn - callback function\n* @param {*} [thisArg] - callback function execution context\n* @throws {TypeError} `this` must be a complex number array\n* @throws {TypeError} first argument must be a function\n* @returns {Complex128Array} complex number array\n*\n* @example\n* var Complex128 = require( '@stdlib/complex-float64' );\n* var real = require( '@stdlib/complex-real' );\n* var imag = require( '@stdlib/complex-imag' );\n*\n* function scale( v, i ) {\n*     return new Complex128( 2.0*real( v ), 2.0*imag( v ) );\n* }\n*\n* var arr = new Complex128Array( 3 );\n*\n* arr.set( [ 1.0, -1.0 ], 0 );\n* arr.set( [ 2.0, -2.0 ], 1 );\n* arr.set( [ 3.0, -3.0 ], 2 );\n*\n* var out = arr.map( scale );\n* // returns <Complex128Array>\n*\n* var z = out.get( 0 );\n* // returns <Complex128>\n*\n* var re = real( z );\n* // returns 2.0\n*\n* var im = imag( z );\n* // returns -2.0\n*/\nsetReadOnly( Complex128Array.prototype, 'map', function map( fcn, thisArg ) {\n\tvar outbuf;\n\tvar buf;\n\tvar out;\n\tvar i;\n\tvar v;\n\tif ( !isComplexArray( this ) ) {\n\t\tthrow new TypeError( 'invalid invocation. `this` is not a complex number array.' );\n\t}\n\tif ( !isFunction( fcn ) ) {\n\t\tthrow new TypeError( format( 'invalid argument. First argument must be a function. Value: `%s`.', fcn ) );\n\t}\n\tbuf = this._buffer;\n\tout = new this.constructor( this._length );\n\toutbuf = out._buffer; // eslint-disable-line no-underscore-dangle\n\tfor ( i = 0; i < this._length; i++ ) {\n\t\tv = fcn.call( thisArg, getComplex128( buf, i ), i, this );\n\t\tif ( isComplexLike( v ) ) {\n\t\t\toutbuf[ 2*i ] = real( v );\n\t\t\toutbuf[ (2*i)+1 ] = imag( v );\n\t\t} else if ( isArrayLikeObject( v ) && v.length === 2 ) {\n\t\t\toutbuf[ 2*i ] = v[ 0 ];\n\t\t\toutbuf[ (2*i)+1 ] = v[ 1 ];\n\t\t} else {\n\t\t\tthrow new TypeError( format( 'invalid argument. Callback must return either a two-element array containing real and imaginary components or a complex number. Value: `%s`.', v ) );\n\t\t}\n\t}\n\treturn out;\n});\n\n/**\n* Applies a provided callback function to each element of the array, in order, passing in the return value from the calculation on the preceding element and returning the accumulated result upon completion.\n*\n* @name reduce\n* @memberof Complex128Array.prototype\n* @type {Function}\n* @param {Function} reducer - callback function\n* @param {*} [initialValue] - initial value\n* @throws {TypeError} `this` must be a complex number array\n* @throws {TypeError} first argument must be a function\n* @throws {Error} if not provided an initial value, the array must have at least one element\n* @returns {*} accumulated result\n*\n* @example\n* var real = require( '@stdlib/complex-real' );\n* var imag = require( '@stdlib/complex-imag' );\n* var cadd = require( '@stdlib/math-base-ops-cadd' );\n*\n* var arr = new Complex128Array( 3 );\n*\n* arr.set( [ 1.0, 1.0 ], 0 );\n* arr.set( [ 2.0, 2.0 ], 1 );\n* arr.set( [ 3.0, 3.0 ], 2 );\n*\n* var z = arr.reduce( cadd );\n* // returns <Complex128>\n*\n* var re = real( z );\n* // returns 6.0\n*\n* var im = imag( z );\n* // returns 6.0\n*/\nsetReadOnly( Complex128Array.prototype, 'reduce', function reduce( reducer, initialValue ) {\n\tvar buf;\n\tvar acc;\n\tvar len;\n\tvar v;\n\tvar i;\n\n\tif ( !isComplexArray( this ) ) {\n\t\tthrow new TypeError( 'invalid invocation. `this` is not a complex number array.' );\n\t}\n\tif ( !isFunction( reducer ) ) {\n\t\tthrow new TypeError( format( 'invalid argument. First argument must be a function. Value: `%s`.', reducer ) );\n\t}\n\tbuf = this._buffer;\n\tlen = this._length;\n\tif ( arguments.length > 1 ) {\n\t\tacc = initialValue;\n\t\ti = 0;\n\t} else {\n\t\tif ( len === 0 ) {\n\t\t\tthrow new Error( 'invalid operation. If not provided an initial value, an array must contain at least one element.' );\n\t\t}\n\t\tacc = getComplex128( buf, 0 );\n\t\ti = 1;\n\t}\n\tfor ( ; i < len; i++ ) {\n\t\tv = getComplex128( buf, i );\n\t\tacc = reducer( acc, v, i, this );\n\t}\n\treturn acc;\n});\n\n/**\n* Reverses an array in-place.\n*\n* @name reverse\n* @memberof Complex128Array.prototype\n* @type {Function}\n* @throws {TypeError} `this` must be a complex number array\n* @returns {Complex128Array} reversed array\n*\n* @example\n* var real = require( '@stdlib/complex-real' );\n* var imag = require( '@stdlib/complex-imag' );\n*\n* var arr = new Complex128Array( 3 );\n*\n* arr.set( [ 1.0, 1.0 ], 0 );\n* arr.set( [ 2.0, 2.0 ], 1 );\n* arr.set( [ 3.0, 3.0 ], 2 );\n*\n* var out = arr.reverse();\n* // returns <Complex128Array>\n*\n* var z = out.get( 0 );\n* // returns <Complex128>\n*\n* var re = real( z );\n* // returns 3.0\n*\n* var im = imag( z );\n* // returns 3.0\n*\n* z = out.get( 1 );\n* // returns <Complex128>\n*\n* re = real( z );\n* // returns 2.0\n*\n* im = imag( z );\n* // returns 2.0\n*\n* z = out.get( 2 );\n* // returns <Complex128>\n*\n* re = real( z );\n* // returns 1.0\n*\n* im = imag( z );\n* // returns 1.0\n*/\nsetReadOnly( Complex128Array.prototype, 'reverse', function reverse() {\n\tvar buf;\n\tvar tmp;\n\tvar len;\n\tvar N;\n\tvar i;\n\tvar j;\n\tif ( !isComplexArray( this ) ) {\n\t\tthrow new TypeError( 'invalid invocation. `this` is not a complex number array.' );\n\t}\n\tlen = this._length;\n\tbuf = this._buffer;\n\tN = floor( len / 2 );\n\tfor ( i = 0; i < N; i++ ) {\n\t\tj = len - i - 1;\n\t\ttmp = buf[ (2*i) ];\n\t\tbuf[ (2*i) ] = buf[ (2*j) ];\n\t\tbuf[ (2*j) ] = tmp;\n\t\ttmp = buf[ (2*i)+1 ];\n\t\tbuf[ (2*i)+1 ] = buf[ (2*j)+1 ];\n\t\tbuf[ (2*j)+1 ] = tmp;\n\t}\n\treturn this;\n});\n\n/**\n* Sets an array element.\n*\n* ## Notes\n*\n* -   When provided a typed array, real or complex, we must check whether the source array shares the same buffer as the target array and whether the underlying memory overlaps. In particular, we are concerned with the following scenario:\n*\n*     ```text\n*     buf:                ---------------------\n*     src: ---------------------\n*     ```\n*\n*     In the above, as we copy values from `src`, we will overwrite values in the `src` view, resulting in duplicated values copied into the end of `buf`, which is not intended. Hence, to avoid overwriting source values, we must **copy** source values to a temporary array.\n*\n*     In the other overlapping scenario,\n*\n*     ```text\n*     buf: ---------------------\n*     src:                ---------------------\n*     ```\n*\n*     by the time we begin copying into the overlapping region, we are copying from the end of `src`, a non-overlapping region, which means we don't run the risk of copying copied values, rather than the original `src` values as intended.\n*\n* @name set\n* @memberof Complex128Array.prototype\n* @type {Function}\n* @param {(Collection|Complex|ComplexArray)} value - value(s)\n* @param {NonNegativeInteger} [i=0] - element index at which to start writing values\n* @throws {TypeError} `this` must be a complex number array\n* @throws {TypeError} first argument must be either a complex number, an array-like object, or a complex number array\n* @throws {TypeError} index argument must be a nonnegative integer\n* @throws {RangeError} array-like objects must have a length which is a multiple of two\n* @throws {RangeError} index argument is out-of-bounds\n* @throws {RangeError} target array lacks sufficient storage to accommodate source values\n* @returns {void}\n*\n* @example\n* var real = require( '@stdlib/complex-real' );\n* var imag = require( '@stdlib/complex-imag' );\n*\n* var arr = new Complex128Array( 10 );\n*\n* var z = arr.get( 0 );\n* // returns <Complex128>\n*\n* var re = real( z );\n* // returns 0.0\n*\n* var im = imag( z );\n* // returns 0.0\n*\n* arr.set( [ 1.0, -1.0 ], 0 );\n*\n* z = arr.get( 0 );\n* // returns <Complex128>\n*\n* re = real( z );\n* // returns 1.0\n*\n* im = imag( z );\n* // returns -1.0\n*/\nsetReadOnly( Complex128Array.prototype, 'set', function set( value ) {\n\t/* eslint-disable no-underscore-dangle */\n\tvar sbuf;\n\tvar idx;\n\tvar buf;\n\tvar tmp;\n\tvar flg;\n\tvar N;\n\tvar v;\n\tvar i;\n\tvar j;\n\tif ( !isComplexArray( this ) ) {\n\t\tthrow new TypeError( 'invalid invocation. `this` is not a complex number array.' );\n\t}\n\tbuf = this._buffer;\n\tif ( arguments.length > 1 ) {\n\t\tidx = arguments[ 1 ];\n\t\tif ( !isNonNegativeInteger( idx ) ) {\n\t\t\tthrow new TypeError( format( 'invalid argument. Index argument must be a nonnegative integer. Value: `%s`.', idx ) );\n\t\t}\n\t} else {\n\t\tidx = 0;\n\t}\n\tif ( isComplexLike( value ) ) {\n\t\tif ( idx >= this._length ) {\n\t\t\tthrow new RangeError( format( 'invalid argument. Index argument is out-of-bounds. Value: `%u`.', idx ) );\n\t\t}\n\t\tidx *= 2;\n\t\tbuf[ idx ] = real( value );\n\t\tbuf[ idx+1 ] = imag( value );\n\t\treturn;\n\t}\n\tif ( isComplexArray( value ) ) {\n\t\tN = value._length;\n\t\tif ( idx+N > this._length ) {\n\t\t\tthrow new RangeError( 'invalid arguments. Target array lacks sufficient storage to accommodate source values.' );\n\t\t}\n\t\tsbuf = value._buffer;\n\n\t\t// Check for overlapping memory...\n\t\tj = buf.byteOffset + (idx*BYTES_PER_ELEMENT);\n\t\tif (\n\t\t\tsbuf.buffer === buf.buffer &&\n\t\t\t(\n\t\t\t\tsbuf.byteOffset < j &&\n\t\t\t\tsbuf.byteOffset+sbuf.byteLength > j\n\t\t\t)\n\t\t) {\n\t\t\t// We need to copy source values...\n\t\t\ttmp = new Float64Array( sbuf.length );\n\t\t\tfor ( i = 0; i < sbuf.length; i++ ) {\n\t\t\t\ttmp[ i ] = sbuf[ i ];\n\t\t\t}\n\t\t\tsbuf = tmp;\n\t\t}\n\t\tidx *= 2;\n\t\tj = 0;\n\t\tfor ( i = 0; i < N; i++ ) {\n\t\t\tbuf[ idx ] = sbuf[ j ];\n\t\t\tbuf[ idx+1 ] = sbuf[ j+1 ];\n\t\t\tidx += 2; // stride\n\t\t\tj += 2; // stride\n\t\t}\n\t\treturn;\n\t}\n\tif ( isCollection( value ) ) {\n\t\t// Detect whether we've been provided an array of complex numbers...\n\t\tN = value.length;\n\t\tfor ( i = 0; i < N; i++ ) {\n\t\t\tif ( !isComplexLike( value[ i ] ) ) {\n\t\t\t\tflg = true;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\t// If an array does not contain only complex numbers, then we assume interleaved real and imaginary components...\n\t\tif ( flg ) {\n\t\t\tif ( !isEven( N ) ) {\n\t\t\t\tthrow new RangeError( format( 'invalid argument. Array-like object arguments must have a length which is a multiple of two. Length: `%u`.', N ) );\n\t\t\t}\n\t\t\tif ( idx+(N/2) > this._length ) {\n\t\t\t\tthrow new RangeError( 'invalid arguments. Target array lacks sufficient storage to accommodate source values.' );\n\t\t\t}\n\t\t\tsbuf = value;\n\n\t\t\t// Check for overlapping memory...\n\t\t\tj = buf.byteOffset + (idx*BYTES_PER_ELEMENT);\n\t\t\tif (\n\t\t\t\tsbuf.buffer === buf.buffer &&\n\t\t\t\t(\n\t\t\t\t\tsbuf.byteOffset < j &&\n\t\t\t\t\tsbuf.byteOffset+sbuf.byteLength > j\n\t\t\t\t)\n\t\t\t) {\n\t\t\t\t// We need to copy source values...\n\t\t\t\ttmp = new Float64Array( N );\n\t\t\t\tfor ( i = 0; i < N; i++ ) {\n\t\t\t\t\ttmp[ i ] = sbuf[ i ];\n\t\t\t\t}\n\t\t\t\tsbuf = tmp;\n\t\t\t}\n\t\t\tidx *= 2;\n\t\t\tN /= 2;\n\t\t\tj = 0;\n\t\t\tfor ( i = 0; i < N; i++ ) {\n\t\t\t\tbuf[ idx ] = sbuf[ j ];\n\t\t\t\tbuf[ idx+1 ] = sbuf[ j+1 ];\n\t\t\t\tidx += 2; // stride\n\t\t\t\tj += 2; // stride\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\t\t// If an array contains only complex numbers, then we need to extract real and imaginary components...\n\t\tif ( idx+N > this._length ) {\n\t\t\tthrow new RangeError( 'invalid arguments. Target array lacks sufficient storage to accommodate source values.' );\n\t\t}\n\t\tidx *= 2;\n\t\tfor ( i = 0; i < N; i++ ) {\n\t\t\tv = value[ i ];\n\t\t\tbuf[ idx ] = real( v );\n\t\t\tbuf[ idx+1 ] = imag( v );\n\t\t\tidx += 2; // stride\n\t\t}\n\t\treturn;\n\t}\n\tthrow new TypeError( format( 'invalid argument. First argument must be either a complex number, an array-like object, or a complex number array. Value: `%s`.', value ) );\n\n\t/* eslint-enable no-underscore-dangle */\n});\n\n/**\n* Copies a portion of a typed array to a new typed array.\n*\n* @name slice\n* @memberof Complex128Array.prototype\n* @type {Function}\n* @param {integer} [start=0] - starting index (inclusive)\n* @param {integer} [end] - ending index (exclusive)\n* @throws {TypeError} `this` must be a complex number array\n* @throws {TypeError} first argument must be an integer\n* @throws {TypeError} second argument must be an integer\n* @returns {Complex128Array} complex number array\n*\n* @example\n* var real = require( '@stdlib/complex-real' );\n* var imag = require( '@stdlib/complex-imag' );\n*\n* var arr = new Complex128Array( 5 );\n*\n* arr.set( [ 1.0, -1.0 ], 0 );\n* arr.set( [ 2.0, -2.0 ], 1 );\n* arr.set( [ 3.0, -3.0 ], 2 );\n* arr.set( [ 4.0, -4.0 ], 3 );\n* arr.set( [ 5.0, -5.0 ], 4 );\n*\n* var out = arr.slice();\n* // returns <Complex128Array>\n*\n* var len = out.length;\n* // returns 5\n*\n* var z = out.get( 0 );\n* // returns <Complex128>\n*\n* var re = real( z );\n* // returns 1.0\n*\n* var im = imag( z );\n* // returns -1.0\n*\n* z = out.get( len-1 );\n* // returns <Complex128>\n*\n* re = real( z );\n* // returns 5.0\n*\n* im = imag( z );\n* // returns -5.0\n*\n* out = arr.slice( 1, -2 );\n* // returns <Complex128Array>\n*\n* len = out.length;\n* // returns 2\n*\n* z = out.get( 0 );\n* // returns <Complex128>\n*\n* re = real( z );\n* // returns 2.0\n*\n* im = imag( z );\n* // returns -2.0\n*\n* z = out.get( len-1 );\n* // returns <Complex128>\n*\n* re = real( z );\n* // returns 3.0\n*\n* im = imag( z );\n* // returns -3.0\n*/\nsetReadOnly( Complex128Array.prototype, 'slice', function slice( start, end ) {\n\tvar outlen;\n\tvar outbuf;\n\tvar out;\n\tvar idx;\n\tvar buf;\n\tvar len;\n\tvar i;\n\tif ( !isComplexArray( this ) ) {\n\t\tthrow new TypeError( 'invalid invocation. `this` is not a complex number array.' );\n\t}\n\tbuf = this._buffer;\n\tlen = this._length;\n\tif ( arguments.length === 0 ) {\n\t\tstart = 0;\n\t\tend = len;\n\t} else {\n\t\tif ( !isInteger( start ) ) {\n\t\t\tthrow new TypeError( format( 'invalid argument. First argument must be an integer. Value: `%s`.', start ) );\n\t\t}\n\t\tif ( start < 0 ) {\n\t\t\tstart += len;\n\t\t\tif ( start < 0 ) {\n\t\t\t\tstart = 0;\n\t\t\t}\n\t\t}\n\t\tif ( arguments.length === 1 ) {\n\t\t\tend = len;\n\t\t} else {\n\t\t\tif ( !isInteger( end ) ) {\n\t\t\t\tthrow new TypeError( format( 'invalid argument. Second argument must be an integer. Value: `%s`.', end ) );\n\t\t\t}\n\t\t\tif ( end < 0 ) {\n\t\t\t\tend += len;\n\t\t\t\tif ( end < 0 ) {\n\t\t\t\t\tend = 0;\n\t\t\t\t}\n\t\t\t} else if ( end > len ) {\n\t\t\t\tend = len;\n\t\t\t}\n\t\t}\n\t}\n\tif ( start < end ) {\n\t\toutlen = end - start;\n\t} else {\n\t\toutlen = 0;\n\t}\n\tout = new this.constructor( outlen );\n\toutbuf = out._buffer; // eslint-disable-line no-underscore-dangle\n\tfor ( i = 0; i < outlen; i++ ) {\n\t\tidx = 2*(i+start);\n\t\toutbuf[ 2*i ] = buf[ idx ];\n\t\toutbuf[ (2*i)+1 ] = buf[ idx+1 ];\n\t}\n\treturn out;\n});\n\n/**\n* Tests whether at least one element in an array passes a test implemented by a predicate function.\n*\n* @name some\n* @memberof Complex128Array.prototype\n* @type {Function}\n* @param {Function} predicate - test function\n* @param {*} [thisArg] - predicate function execution context\n* @throws {TypeError} `this` must be a complex number array\n* @throws {TypeError} first argument must be a function\n* @returns {boolean} boolean indicating whether at least one element passes a test\n*\n* @example\n* var real = require( '@stdlib/complex-real' );\n* var imag = require( '@stdlib/complex-imag' );\n*\n* function predicate( v ) {\n*     return ( real( v ) === imag( v ) );\n* }\n*\n* var arr = new Complex128Array( 3 );\n*\n* arr.set( [ 1.0, -1.0 ], 0 );\n* arr.set( [ 2.0, 2.0 ], 1 );\n* arr.set( [ 3.0, -3.0 ], 2 );\n*\n* var bool = arr.some( predicate );\n* // returns true\n*/\nsetReadOnly( Complex128Array.prototype, 'some', function some( predicate, thisArg ) {\n\tvar buf;\n\tvar i;\n\tif ( !isComplexArray( this ) ) {\n\t\tthrow new TypeError( 'invalid invocation. `this` is not a complex number array.' );\n\t}\n\tif ( !isFunction( predicate ) ) {\n\t\tthrow new TypeError( format( 'invalid argument. First argument must be a function. Value: `%s`.', predicate ) );\n\t}\n\tbuf = this._buffer;\n\tfor ( i = 0; i < this._length; i++ ) {\n\t\tif ( predicate.call( thisArg, getComplex128( buf, i ), i, this ) ) {\n\t\t\treturn true;\n\t\t}\n\t}\n\treturn false;\n});\n\n/**\n* Creates a new typed array view over the same underlying `ArrayBuffer` and with the same underlying data type as the host array.\n*\n* @name subarray\n* @memberof Complex128Array.prototype\n* @type {Function}\n* @param {integer} [begin=0] - starting index (inclusive)\n* @param {integer} [end] - ending index (exclusive)\n* @throws {TypeError} `this` must be a complex number array\n* @throws {TypeError} first argument must be an integer\n* @throws {TypeError} second argument must be an integer\n* @returns {Complex64Array} subarray\n*\n* @example\n* var real = require( '@stdlib/complex-real' );\n* var imag = require( '@stdlib/complex-imag' );\n*\n* var arr = new Complex128Array( 5 );\n*\n* arr.set( [ 1.0, -1.0 ], 0 );\n* arr.set( [ 2.0, -2.0 ], 1 );\n* arr.set( [ 3.0, -3.0 ], 2 );\n* arr.set( [ 4.0, -4.0 ], 3 );\n* arr.set( [ 5.0, -5.0 ], 4 );\n*\n* var subarr = arr.subarray();\n* // returns <Complex128Array>\n*\n* var len = subarr.length;\n* // returns 5\n*\n* var z = subarr.get( 0 );\n* // returns <Complex128>\n*\n* var re = real( z );\n* // returns 1.0\n*\n* var im = imag( z );\n* // returns -1.0\n*\n* z = subarr.get( len-1 );\n* // returns <Complex128>\n*\n* re = real( z );\n* // returns 5.0\n*\n* im = imag( z );\n* // returns -5.0\n*\n* subarr = arr.subarray( 1, -2 );\n* // returns <Complex128Array>\n*\n* len = subarr.length;\n* // returns 2\n*\n* z = subarr.get( 0 );\n* // returns <Complex128>\n*\n* re = real( z );\n* // returns 2.0\n*\n* im = imag( z );\n* // returns -2.0\n*\n* z = subarr.get( len-1 );\n* // returns <Complex128>\n*\n* re = real( z );\n* // returns 3.0\n*\n* im = imag( z );\n* // returns -3.0\n*/\nsetReadOnly( Complex128Array.prototype, 'subarray', function subarray( begin, end ) {\n\tvar offset;\n\tvar buf;\n\tvar len;\n\tif ( !isComplexArray( this ) ) {\n\t\tthrow new TypeError( 'invalid invocation. `this` is not a complex number array.' );\n\t}\n\tbuf = this._buffer;\n\tlen = this._length;\n\tif ( arguments.length === 0 ) {\n\t\tbegin = 0;\n\t\tend = len;\n\t} else {\n\t\tif ( !isInteger( begin ) ) {\n\t\t\tthrow new TypeError( format( 'invalid argument. First argument must be an integer. Value: `%s`.', begin ) );\n\t\t}\n\t\tif ( begin < 0 ) {\n\t\t\tbegin += len;\n\t\t\tif ( begin < 0 ) {\n\t\t\t\tbegin = 0;\n\t\t\t}\n\t\t}\n\t\tif ( arguments.length === 1 ) {\n\t\t\tend = len;\n\t\t} else {\n\t\t\tif ( !isInteger( end ) ) {\n\t\t\t\tthrow new TypeError( format( 'invalid argument. Second argument must be an integer. Value: `%s`.', end ) );\n\t\t\t}\n\t\t\tif ( end < 0 ) {\n\t\t\t\tend += len;\n\t\t\t\tif ( end < 0 ) {\n\t\t\t\t\tend = 0;\n\t\t\t\t}\n\t\t\t} else if ( end > len ) {\n\t\t\t\tend = len;\n\t\t\t}\n\t\t}\n\t}\n\tif ( begin >= len ) {\n\t\tlen = 0;\n\t\toffset = buf.byteLength;\n\t} else if ( begin >= end ) {\n\t\tlen = 0;\n\t\toffset = buf.byteOffset + ( begin*BYTES_PER_ELEMENT );\n\t} else {\n\t\tlen = end - begin;\n\t\toffset = buf.byteOffset + ( begin*BYTES_PER_ELEMENT );\n\t}\n\treturn new this.constructor( buf.buffer, offset, ( len < 0 ) ? 0 : len );\n});\n\n/**\n* Returns a new typed array containing the elements in reversed order.\n*\n* @name toReversed\n* @memberof Complex128Array.prototype\n* @type {Function}\n* @throws {TypeError} `this` must be a complex number array\n* @returns {Complex128Array} reversed array\n*\n* @example\n* var real = require( '@stdlib/complex-real' );\n* var imag = require( '@stdlib/complex-imag' );\n*\n* var arr = new Complex128Array( 3 );\n*\n* arr.set( [ 1.0, 1.0 ], 0 );\n* arr.set( [ 2.0, 2.0 ], 1 );\n* arr.set( [ 3.0, 3.0 ], 2 );\n*\n* var out = arr.toReversed();\n* // returns <Complex128Array>\n*\n* var z = out.get( 0 );\n* // returns <Complex128>\n*\n* var re = real( z );\n* // returns 3.0\n*\n* var im = imag( z );\n* // returns 3.0\n*\n* z = out.get( 1 );\n* // returns <Complex128>\n*\n* re = real( z );\n* // returns 2.0\n*\n* im = imag( z );\n* // returns 2.0\n*\n* z = out.get( 2 );\n* // returns <Complex128>\n*\n* re = real( z );\n* // returns 1.0\n*\n* im = imag( z );\n* // returns 1.0\n*/\nsetReadOnly( Complex128Array.prototype, 'toReversed', function toReversed() {\n\tvar outbuf;\n\tvar out;\n\tvar len;\n\tvar buf;\n\tvar i;\n\tvar j;\n\tif ( !isComplexArray( this ) ) {\n\t\tthrow new TypeError( 'invalid invocation. `this` is not a complex number array.' );\n\t}\n\tlen = this._length;\n\tout = new this.constructor( len );\n\tbuf = this._buffer;\n\toutbuf = out._buffer; // eslint-disable-line no-underscore-dangle\n\tfor ( i = 0; i < len; i++ ) {\n\t\tj = len - i - 1;\n\t\toutbuf[ (2*i) ] = buf[ (2*j) ];\n\t\toutbuf[ (2*i)+1 ] = buf[ (2*j)+1 ];\n\t}\n\treturn out;\n});\n\n/**\n* Serializes an array as a string.\n*\n* @name toString\n* @memberof Complex128Array.prototype\n* @type {Function}\n* @throws {TypeError} `this` must be a complex number array\n* @returns {string} string representation\n*\n* @example\n* var arr = new Complex128Array( 2 );\n*\n* arr.set( [ 1.0, 1.0 ], 0 );\n* arr.set( [ 2.0, 2.0 ], 1 );\n*\n* var str = arr.toString();\n* // returns '1 + 1i,2 + 2i'\n*/\nsetReadOnly( Complex128Array.prototype, 'toString', function toString() {\n\tvar out;\n\tvar buf;\n\tvar i;\n\tif ( !isComplexArray( this ) ) {\n\t\tthrow new TypeError( 'invalid invocation. `this` is not a complex number array.' );\n\t}\n\tout = [];\n\tbuf = this._buffer;\n\tfor ( i = 0; i < this._length; i++ ) {\n\t\tout.push( getComplex128( buf, i ).toString() );\n\t}\n\treturn out.join( ',' );\n});\n\n/**\n* Returns a new typed array with the element at a provided index replaced with a provided value.\n*\n* @name with\n* @memberof Complex128Array.prototype\n* @type {Function}\n* @param {integer} index - element index\n* @param {ComplexLike} value - new value\n* @throws {TypeError} `this` must be a complex number array\n* @throws {TypeError} first argument must be an integer\n* @throws {RangeError} index argument is out-of-bounds\n* @throws {TypeError} second argument must be a complex number\n* @returns {Complex128Array} new typed array\n*\n* @example\n* var real = require( '@stdlib/complex-real' );\n* var imag = require( '@stdlib/complex-imag' );\n* var Complex128 = require( '@stdlib/complex-float64' );\n*\n* var arr = new Complex128Array( 3 );\n*\n* arr.set( [ 1.0, 1.0 ], 0 );\n* arr.set( [ 2.0, 2.0 ], 1 );\n* arr.set( [ 3.0, 3.0 ], 2 );\n*\n* var out = arr.with( 0, new Complex128( 4.0, 4.0 ) );\n* // returns <Complex128Array>\n*\n* var z = out.get( 0 );\n* // returns <Complex128>\n*\n* var re = real( z );\n* // returns 4.0\n*\n* var im = imag( z );\n* // returns 4.0\n*/\nsetReadOnly( Complex128Array.prototype, 'with', function copyWith( index, value ) {\n\tvar buf;\n\tvar out;\n\tvar len;\n\tif ( !isComplexArray( this ) ) {\n\t\tthrow new TypeError( 'invalid invocation. `this` is not a complex number array.' );\n\t}\n\tif ( !isInteger( index ) ) {\n\t\tthrow new TypeError( format( 'invalid argument. First argument must be an integer. Value: `%s`.', index ) );\n\t}\n\tlen = this._length;\n\tif ( index < 0 ) {\n\t\tindex += len;\n\t}\n\tif ( index < 0 || index >= len ) {\n\t\tthrow new RangeError( format( 'invalid argument. Index argument is out-of-bounds. Value: `%s`.', index ) );\n\t}\n\tif ( !isComplexLike( value ) ) {\n\t\tthrow new TypeError( format( 'invalid argument. Second argument must be a complex number. Value: `%s`.', value ) );\n\t}\n\tout = new this.constructor( this._buffer );\n\tbuf = out._buffer; // eslint-disable-line no-underscore-dangle\n\tbuf[ 2*index ] = real( value );\n\tbuf[ (2*index)+1 ] = imag( value );\n\treturn out;\n});\n\n\n// EXPORTS //\n\nmodule.exports = Complex128Array;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n/**\n* 128-bit complex number array.\n*\n* @module @stdlib/array-complex128\n*\n* @example\n* var Complex128Array = require( '@stdlib/array-complex128' );\n*\n* var arr = new Complex128Array();\n* // returns <Complex128Array>\n*\n* var len = arr.length;\n* // returns 0\n*\n* @example\n* var Complex128Array = require( '@stdlib/array-complex128' );\n*\n* var arr = new Complex128Array( 2 );\n* // returns <Complex128Array>\n*\n* var len = arr.length;\n* // returns 2\n*\n* @example\n* var Complex128Array = require( '@stdlib/array-complex128' );\n*\n* var arr = new Complex128Array( [ 1.0, -1.0 ] );\n* // returns <Complex128Array>\n*\n* var len = arr.length;\n* // returns 1\n*\n* @example\n* var ArrayBuffer = require( '@stdlib/array-buffer' );\n* var Complex128Array = require( '@stdlib/array-complex128' );\n*\n* var buf = new ArrayBuffer( 32 );\n* var arr = new Complex128Array( buf );\n* // returns <Complex128Array>\n*\n* var len = arr.length;\n* // returns 2\n*\n* @example\n* var ArrayBuffer = require( '@stdlib/array-buffer' );\n* var Complex128Array = require( '@stdlib/array-complex128' );\n*\n* var buf = new ArrayBuffer( 32 );\n* var arr = new Complex128Array( buf, 16 );\n* // returns <Complex128Array>\n*\n* var len = arr.length;\n* // returns 2\n*\n* @example\n* var ArrayBuffer = require( '@stdlib/array-buffer' );\n* var Complex128Array = require( '@stdlib/array-complex128' );\n*\n* var buf = new ArrayBuffer( 64 );\n* var arr = new Complex128Array( buf, 16, 2 );\n* // returns <Complex128Array>\n*\n* var len = arr.length;\n* // returns 2\n*/\n\n// MODULES //\n\nvar main = require( './main.js' );\n\n\n// EXPORTS //\n\nmodule.exports = main;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nvar Float64Array = require( '@stdlib/array-float64' );\nvar Float32Array = require( '@stdlib/array-float32' );\nvar Uint32Array = require( '@stdlib/array-uint32' );\nvar Int32Array = require( '@stdlib/array-int32' );\nvar Uint16Array = require( '@stdlib/array-uint16' );\nvar Int16Array = require( '@stdlib/array-int16' );\nvar Uint8Array = require( '@stdlib/array-uint8' );\nvar Uint8ClampedArray = require( '@stdlib/array-uint8c' );\nvar Int8Array = require( '@stdlib/array-int8' );\nvar Complex64Array = require( '@stdlib/array-complex64' );\nvar Complex128Array = require( '@stdlib/array-complex128' );\n\n\n// MAIN //\n\n// Note: order should match `dtypes` order\nvar CTORS = [\n\tFloat64Array,\n\tFloat32Array,\n\tInt32Array,\n\tUint32Array,\n\tInt16Array,\n\tUint16Array,\n\tInt8Array,\n\tUint8Array,\n\tUint8ClampedArray,\n\tComplex64Array,\n\tComplex128Array\n];\n\n\n// EXPORTS //\n\nmodule.exports = CTORS;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MAIN //\n\n// Note: order should match `ctors` order\nvar DTYPES = [\n\t'float64',\n\t'float32',\n\t'int32',\n\t'uint32',\n\t'int16',\n\t'uint16',\n\t'int8',\n\t'uint8',\n\t'uint8c',\n\t'complex64',\n\t'complex128'\n];\n\n\n// EXPORTS //\n\nmodule.exports = DTYPES;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nvar isBuffer = require( '@stdlib/assert-is-buffer' );\nvar isArray = require( '@stdlib/assert-is-array' );\nvar constructorName = require( '@stdlib/utils-constructor-name' );\nvar ctor2dtype = require( './ctor2dtype.js' );\nvar CTORS = require( './ctors.js' );\nvar DTYPES = require( './dtypes.js' );\n\n\n// VARIABLES //\n\nvar NTYPES = DTYPES.length;\n\n\n// MAIN //\n\n/**\n* Returns the data type of an array.\n*\n* @param {*} value - input value\n* @returns {(string|null)} data type\n*\n* @example\n* var dt = dtype( [ 1, 2, 3 ] );\n* // returns 'generic'\n*\n* var dt = dtype( 'beep' );\n* // returns null\n*/\nfunction dtype( value ) {\n\tvar i;\n\tif ( isArray( value ) ) {\n\t\treturn 'generic';\n\t}\n\tif ( isBuffer( value ) ) {\n\t\treturn null;\n\t}\n\tfor ( i = 0; i < NTYPES; i++ ) {\n\t\tif ( value instanceof CTORS[ i ] ) {\n\t\t\treturn DTYPES[ i ];\n\t\t}\n\t}\n\t// If the above failed, fall back to a more robust (and significantly slower) means for resolving underlying data types:\n\treturn ctor2dtype[ constructorName( value ) ] || null;\n}\n\n\n// EXPORTS //\n\nmodule.exports = dtype;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n/**\n* Return the data type of an array.\n*\n* @module @stdlib/array-dtype\n*\n* @example\n* var Float64Array = require( '@stdlib/array-float64' );\n* var dtype = require( '@stdlib/array-dtype' );\n*\n* var arr = new Float64Array( 10 );\n*\n* var dt = dtype( arr );\n* // returns 'float64'\n*\n* dt = dtype( {} );\n* // returns null\n*\n* dt = dtype( 'beep' );\n* // returns null\n*/\n\n// MODULES //\n\nvar main = require( './main.js' );\n\n\n// EXPORTS //\n\nmodule.exports = main;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2022 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nvar isAccessorArray = require( '@stdlib/array-base-assert-is-accessor-array' );\nvar getter = require( '@stdlib/array-base-getter' );\nvar setter = require( '@stdlib/array-base-setter' );\nvar accessorGetter = require( '@stdlib/array-base-accessor-getter' );\nvar accessorSetter = require( '@stdlib/array-base-accessor-setter' );\nvar dtype = require( '@stdlib/array-dtype' );\n\n\n// MAIN //\n\n/**\n* Converts an array-like to an object likely to have the same \"shape\".\n*\n* ## Notes\n*\n* -   This function is intended as a potential performance optimization. In V8, for example, even if two objects share common properties, if those properties were added in different orders or if one object has additional properties not shared by the other object, then those objects will have different \"hidden\" classes. If a function is provided many objects having different \"shapes\", some JavaScript VMs (e.g., V8) will consider the function \"megamorphic\" and fail to perform various runtime optimizations. Accordingly, the intent of this function is to standardize the \"shape\" of the object holding array meta data to ensure that internal functions operating on arrays are provided consistent argument \"shapes\".\n*\n* -   The returned object has the following properties:\n*\n*     -   **data**: reference to the input array.\n*     -   **dtype**: array data type.\n*     -   **accessorProtocol**: `boolean` indicating whether the input array uses accessors for getting and setting elements.\n*     -   **accessors**: a two-element array whose first element is an accessor for retrieving an array element and whose second element is an accessor for setting an array element.\n*\n* @param {Collection} x - array-like object\n* @returns {Object} object containing array meta data\n*\n* @example\n* var obj = arraylike2object( [ 1, 2, 3, 4 ] );\n* // returns {...}\n*/\nfunction arraylike2object( x ) {\n\tvar dt = dtype( x );\n\tif ( isAccessorArray( x ) ) {\n\t\treturn {\n\t\t\t'data': x,\n\t\t\t'dtype': dt,\n\t\t\t'accessorProtocol': true,\n\t\t\t'accessors': [\n\t\t\t\taccessorGetter( dt ),\n\t\t\t\taccessorSetter( dt )\n\t\t\t]\n\t\t};\n\t}\n\treturn {\n\t\t'data': x,\n\t\t'dtype': dt,\n\t\t'accessorProtocol': false,\n\t\t'accessors': [\n\t\t\tgetter( dt ),\n\t\t\tsetter( dt )\n\t\t]\n\t};\n}\n\n\n// EXPORTS //\n\nmodule.exports = arraylike2object;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2022 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n/**\n* Convert an array-like object to an object likely to have the same \"shape\".\n*\n* @module @stdlib/array-base-arraylike2object\n*\n* @example\n* var arraylike2object = require( '@stdlib/array-base-arraylike2object' );\n*\n* var obj = arraylike2object( [ 1, 2, 3, 4 ] );\n* // returns {...}\n*/\n\n// MODULES //\n\nvar main = require( './main.js' );\n\n\n// EXPORTS //\n\nmodule.exports = main;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2022 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MAIN //\n\n/**\n* Copies values from `x` into `y`.\n*\n* @private\n* @param {PositiveInteger} N - number of indexed elements\n* @param {Object} x - input array object\n* @param {Collection} x.data - input array data\n* @param {Array<Function>} x.accessors - array element accessors\n* @param {integer} strideX - `x` stride length\n* @param {NonNegativeInteger} offsetX - starting `x` index\n* @param {Object} y - output array object\n* @param {Collection} y.data - output array data\n* @param {Array<Function>} y.accessors - array element accessors\n* @param {integer} strideY - `y` stride length\n* @param {NonNegativeInteger} offsetY - starting `y` index\n* @returns {Object} output array object\n*\n* @example\n* var Complex64Array = require( '@stdlib/array-complex64' );\n* var Complex64 = require( '@stdlib/complex-float32' );\n* var reinterpret64 = require( '@stdlib/strided-base-reinterpret-complex64' );\n*\n* function setter( data, idx, value ) {\n*     data.set( value, idx );\n* }\n*\n* function getter( data, idx ) {\n*     return data.get( idx );\n* }\n*\n* var x = {\n*     'data': new Complex64Array( [ 1.0, 2.0, 3.0, 4.0 ] ),\n*     'accessors': [ getter, setter ]\n* };\n*\n* var y = {\n*     'data': new Complex64Array( [ 5.0, 6.0, 7.0, 8.0 ] ),\n*     'accessors': [ getter, setter ]\n* };\n*\n* gcopy( x.data.length, x, 1, 0, y, 1, 0 );\n*\n* var view = reinterpret64( y.data, 0 );\n* // view => <Float32Array>[ 1.0, 2.0, 3.0, 4.0 ]\n*/\nfunction gcopy( N, x, strideX, offsetX, y, strideY, offsetY ) {\n\tvar xbuf;\n\tvar ybuf;\n\tvar set;\n\tvar get;\n\tvar ix;\n\tvar iy;\n\tvar i;\n\n\t// Cache references to array data:\n\txbuf = x.data;\n\tybuf = y.data;\n\n\t// Cache a reference to the element accessors:\n\tget = x.accessors[ 0 ];\n\tset = y.accessors[ 1 ];\n\n\tix = offsetX;\n\tiy = offsetY;\n\tfor ( i = 0; i < N; i++ ) {\n\t\tset( ybuf, iy, get( xbuf, ix ) );\n\t\tix += strideX;\n\t\tiy += strideY;\n\t}\n\treturn x;\n}\n\n\n// EXPORTS //\n\nmodule.exports = gcopy;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nvar arraylike2object = require( '@stdlib/array-base-arraylike2object' );\nvar accessors = require( './accessors.js' );\n\n\n// VARIABLES //\n\nvar M = 8;\n\n\n// MAIN //\n\n/**\n* Copies values from `x` into `y`.\n*\n* @param {PositiveInteger} N - number of indexed elements\n* @param {Collection} x - input array\n* @param {integer} strideX - `x` stride length\n* @param {Collection} y - output array\n* @param {integer} strideY - `y` stride length\n* @returns {Collection} output array\n*\n* @example\n* var x = [ 1.0, 2.0, 3.0, 4.0, 5.0 ];\n* var y = [ 6.0, 7.0, 8.0, 9.0, 10.0 ];\n*\n* gcopy( x.length, x, 1, y, 1 );\n* // y => [ 1.0, 2.0, 3.0, 4.0, 5.0 ]\n*/\nfunction gcopy( N, x, strideX, y, strideY ) {\n\tvar ix;\n\tvar iy;\n\tvar ox;\n\tvar oy;\n\tvar m;\n\tvar i;\n\n\tif ( N <= 0 ) {\n\t\treturn y;\n\t}\n\tox = arraylike2object( x );\n\toy = arraylike2object( y );\n\tif ( ox.accessorProtocol || oy.accessorProtocol ) {\n\t\tif ( strideX < 0 ) {\n\t\t\tix = (1-N) * strideX;\n\t\t} else {\n\t\t\tix = 0;\n\t\t}\n\t\tif ( strideY < 0 ) {\n\t\t\tiy = (1-N) * strideY;\n\t\t} else {\n\t\t\tiy = 0;\n\t\t}\n\t\taccessors( N, ox, strideX, ix, oy, strideY, iy );\n\t\treturn oy.data;\n\t}\n\t// Use unrolled loops if both strides are equal to `1`...\n\tif ( strideX === 1 && strideY === 1 ) {\n\t\tm = N % M;\n\n\t\t// If we have a remainder, run a clean-up loop...\n\t\tif ( m > 0 ) {\n\t\t\tfor ( i = 0; i < m; i++ ) {\n\t\t\t\ty[ i ] = x[ i ];\n\t\t\t}\n\t\t}\n\t\tif ( N < M ) {\n\t\t\treturn y;\n\t\t}\n\t\tfor ( i = m; i < N; i += M ) {\n\t\t\ty[ i ] = x[ i ];\n\t\t\ty[ i+1 ] = x[ i+1 ];\n\t\t\ty[ i+2 ] = x[ i+2 ];\n\t\t\ty[ i+3 ] = x[ i+3 ];\n\t\t\ty[ i+4 ] = x[ i+4 ];\n\t\t\ty[ i+5 ] = x[ i+5 ];\n\t\t\ty[ i+6 ] = x[ i+6 ];\n\t\t\ty[ i+7 ] = x[ i+7 ];\n\t\t}\n\t\treturn y;\n\t}\n\tif ( strideX < 0 ) {\n\t\tix = (1-N) * strideX;\n\t} else {\n\t\tix = 0;\n\t}\n\tif ( strideY < 0 ) {\n\t\tiy = (1-N) * strideY;\n\t} else {\n\t\tiy = 0;\n\t}\n\tfor ( i = 0; i < N; i++ ) {\n\t\ty[ iy ] = x[ ix ];\n\t\tix += strideX;\n\t\tiy += strideY;\n\t}\n\treturn y;\n}\n\n\n// EXPORTS //\n\nmodule.exports = gcopy;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nvar arraylike2object = require( '@stdlib/array-base-arraylike2object' );\nvar accessors = require( './accessors.js' );\n\n\n// VARIABLES //\n\nvar M = 8;\n\n\n// MAIN //\n\n/**\n* Copies values from `x` into `y`.\n*\n* @param {PositiveInteger} N - number of indexed elements\n* @param {Collection} x - input array\n* @param {integer} strideX - `x` stride length\n* @param {NonNegativeInteger} offsetX - starting `x` index\n* @param {Collection} y - output array\n* @param {integer} strideY - `y` stride length\n* @param {NonNegativeInteger} offsetY - starting `y` index\n* @returns {Collection} output array\n*\n* @example\n* var x = [ 1.0, 2.0, 3.0, 4.0, 5.0 ];\n* var y = [ 6.0, 7.0, 8.0, 9.0, 10.0 ];\n*\n* gcopy( x.length, x, 1, 0, y, 1, 0 );\n* // y => [ 1.0, 2.0, 3.0, 4.0, 5.0 ]\n*/\nfunction gcopy( N, x, strideX, offsetX, y, strideY, offsetY ) {\n\tvar ix;\n\tvar iy;\n\tvar ox;\n\tvar oy;\n\tvar m;\n\tvar i;\n\n\tif ( N <= 0 ) {\n\t\treturn y;\n\t}\n\tox = arraylike2object( x );\n\toy = arraylike2object( y );\n\tif ( ox.accessorProtocol || oy.accessorProtocol ) {\n\t\taccessors( N, ox, strideX, offsetX, oy, strideY, offsetY );\n\t\treturn oy.data;\n\t}\n\tix = offsetX;\n\tiy = offsetY;\n\n\t// Use unrolled loops if both strides are equal to `1`...\n\tif ( strideX === 1 && strideY === 1 ) {\n\t\tm = N % M;\n\n\t\t// If we have a remainder, run a clean-up loop...\n\t\tif ( m > 0 ) {\n\t\t\tfor ( i = 0; i < m; i++ ) {\n\t\t\t\ty[ iy ] = x[ ix ];\n\t\t\t\tix += strideX;\n\t\t\t\tiy += strideY;\n\t\t\t}\n\t\t}\n\t\tif ( N < M ) {\n\t\t\treturn y;\n\t\t}\n\t\tfor ( i = m; i < N; i += M ) {\n\t\t\ty[ iy ] = x[ ix ];\n\t\t\ty[ iy+1 ] = x[ ix+1 ];\n\t\t\ty[ iy+2 ] = x[ ix+2 ];\n\t\t\ty[ iy+3 ] = x[ ix+3 ];\n\t\t\ty[ iy+4 ] = x[ ix+4 ];\n\t\t\ty[ iy+5 ] = x[ ix+5 ];\n\t\t\ty[ iy+6 ] = x[ ix+6 ];\n\t\t\ty[ iy+7 ] = x[ ix+7 ];\n\t\t\tix += M;\n\t\t\tiy += M;\n\t\t}\n\t\treturn y;\n\t}\n\tfor ( i = 0; i < N; i++ ) {\n\t\ty[ iy ] = x[ ix ];\n\t\tix += strideX;\n\t\tiy += strideY;\n\t}\n\treturn y;\n}\n\n\n// EXPORTS //\n\nmodule.exports = gcopy;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n/**\n* BLAS level 1 routine to copy values from `x` into `y`.\n*\n* @module @stdlib/blas-base-gcopy\n*\n* @example\n* var gcopy = require( '@stdlib/blas-base-gcopy' );\n*\n* var x = [ 1.0, 2.0, 3.0, 4.0, 5.0 ];\n* var y = [ 6.0, 7.0, 8.0, 9.0, 10.0 ];\n*\n* gcopy( x.length, x, 1, y, 1 );\n* // y => [ 1.0, 2.0, 3.0, 4.0, 5.0 ]\n*\n* @example\n* var gcopy = require( '@stdlib/blas-base-gcopy' );\n*\n* var x = [ 1.0, 2.0, 3.0, 4.0, 5.0 ];\n* var y = [ 6.0, 7.0, 8.0, 9.0, 10.0 ];\n*\n* gcopy.ndarray( x.length, x, 1, 0, y, 1, 0 );\n* // y => [ 1.0, 2.0, 3.0, 4.0, 5.0 ]\n*/\n\n// MODULES //\n\nvar setReadOnly = require( '@stdlib/utils-define-nonenumerable-read-only-property' );\nvar main = require( './main.js' );\nvar ndarray = require( './ndarray.js' );\n\n\n// MAIN //\n\nsetReadOnly( main, 'ndarray', ndarray );\n\n\n// EXPORTS //\n\nmodule.exports = main;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n/**\n* Dummy function.\n*\n* @private\n*/\nfunction foo() {\n\t// No-op...\n}\n\n\n// EXPORTS //\n\nmodule.exports = foo;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nvar foo = require( './foo.js' );\n\n\n// MAIN //\n\n/**\n* Tests for native function `name` support.\n*\n* @returns {boolean} boolean indicating if an environment has function `name` support\n*\n* @example\n* var bool = hasFunctionNameSupport();\n* // returns <boolean>\n*/\nfunction hasFunctionNameSupport() {\n\treturn ( foo.name === 'foo' );\n}\n\n\n// EXPORTS //\n\nmodule.exports = hasFunctionNameSupport;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n/**\n* Test for native function `name` support.\n*\n* @module @stdlib/assert-has-function-name-support\n*\n* @example\n* var hasFunctionNameSupport = require( '@stdlib/assert-has-function-name-support' );\n*\n* var bool = hasFunctionNameSupport();\n* // returns <boolean>\n*/\n\n// MODULES //\n\nvar main = require( './main.js' );\n\n\n// EXPORTS //\n\nmodule.exports = main;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nvar isFunction = require( '@stdlib/assert-is-function' );\nvar hasFunctionNameSupport = require( '@stdlib/assert-has-function-name-support' );\nvar format = require( '@stdlib/string-format' );\nvar RE = require( '@stdlib/regexp-function-name' ).REGEXP;\n\n\n// VARIABLES //\n\nvar isFunctionNameSupported = hasFunctionNameSupport();\n\n\n// MAIN //\n\n/**\n* Returns the name of a function.\n*\n* @param {Function} fcn - input function\n* @throws {TypeError} must provide a function\n* @returns {string} function name\n*\n* @example\n* var v = functionName( Math.sqrt );\n* // returns 'sqrt'\n*\n* @example\n* var v = functionName( function foo(){} );\n* // returns 'foo'\n*\n* @example\n* var v = functionName( function(){} );\n* // returns '' || 'anonymous'\n*\n* @example\n* var v = functionName( String );\n* // returns 'String'\n*/\nfunction functionName( fcn ) {\n\t// TODO: add support for generator functions?\n\tif ( isFunction( fcn ) === false ) {\n\t\tthrow new TypeError( format( 'invalid argument. Must provide a function. Value: `%s`.', fcn ) );\n\t}\n\tif ( isFunctionNameSupported ) {\n\t\treturn fcn.name;\n\t}\n\treturn RE.exec( fcn.toString() )[ 1 ];\n}\n\n\n// EXPORTS //\n\nmodule.exports = functionName;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n/**\n* Return the name of a function.\n*\n* @module @stdlib/utils-function-name\n*\n* @example\n* var functionName = require( '@stdlib/utils-function-name' );\n*\n* var v = functionName( String );\n* // returns 'String'\n*\n* v = functionName( function foo(){} );\n* // returns 'foo'\n*\n* v = functionName( function(){} );\n* // returns '' || 'anonymous'\n*/\n\n// MODULES //\n\nvar main = require( './main.js' );\n\n\n// EXPORTS //\n\nmodule.exports = main;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nvar Int8Array = require( '@stdlib/array-int8' );\nvar Uint8Array = require( '@stdlib/array-uint8' );\nvar Uint8ClampedArray = require( '@stdlib/array-uint8c' );\nvar Int16Array = require( '@stdlib/array-int16' );\nvar Uint16Array = require( '@stdlib/array-uint16' );\nvar Int32Array = require( '@stdlib/array-int32' );\nvar Uint32Array = require( '@stdlib/array-uint32' );\nvar Float32Array = require( '@stdlib/array-float32' );\nvar Float64Array = require( '@stdlib/array-float64' );\n\n\n// MAIN //\n\nvar CTORS = [\n\tFloat64Array,\n\tFloat32Array,\n\tInt32Array,\n\tUint32Array,\n\tInt16Array,\n\tUint16Array,\n\tInt8Array,\n\tUint8Array,\n\tUint8ClampedArray\n];\n\n\n// EXPORTS //\n\nmodule.exports = CTORS;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nvar ctorName = require( '@stdlib/utils-constructor-name' );\nvar fcnName = require( '@stdlib/utils-function-name' );\nvar getPrototypeOf = require( '@stdlib/utils-get-prototype-of' );\nvar hasFloat64ArraySupport = require( '@stdlib/assert-has-float64array-support' );\nvar Float64Array = require( '@stdlib/array-float64' );\nvar CTORS = require( './ctors.js' );\nvar NAMES = require( './names.json' );\n\n\n// VARIABLES //\n\n// Abstract `TypedArray` class:\nvar TypedArray = ( hasFloat64ArraySupport() ) ? getPrototypeOf( Float64Array ) : Dummy; // eslint-disable-line max-len\n\n// Ensure abstract typed array class has expected name:\nTypedArray = ( fcnName( TypedArray ) === 'TypedArray' ) ? TypedArray : Dummy;\n\n\n// FUNCTIONS //\n\n/**\n* Dummy constructor.\n*\n* @private\n*/\nfunction Dummy() {} // eslint-disable-line no-empty-function\n\n\n// MAIN //\n\n/**\n* Tests if a value is a typed array.\n*\n* @param {*} value - value to test\n* @returns {boolean} boolean indicating if a value is a typed array\n*\n* @example\n* var Int8Array = require( '@stdlib/array-int8' );\n*\n* var bool = isTypedArray( new Int8Array( 10 ) );\n* // returns true\n*/\nfunction isTypedArray( value ) {\n\tvar v;\n\tvar i;\n\n\tif ( typeof value !== 'object' || value === null ) {\n\t\treturn false;\n\t}\n\t// Check for the abstract class...\n\tif ( value instanceof TypedArray ) {\n\t\treturn true;\n\t}\n\t// Check for typed array objects from the same realm (same Node.js `vm` or same `Window` object)...\n\tfor ( i = 0; i < CTORS.length; i++ ) {\n\t\tif ( value instanceof CTORS[ i ] ) {\n\t\t\treturn true;\n\t\t}\n\t}\n\t// Walk the prototype tree until we find an object having a desired class...\n\twhile ( value ) {\n\t\tv = ctorName( value );\n\t\tfor ( i = 0; i < NAMES.length; i++ ) {\n\t\t\tif ( NAMES[ i ] === v ) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\tvalue = getPrototypeOf( value );\n\t}\n\n\treturn false;\n}\n\n\n// EXPORTS //\n\nmodule.exports = isTypedArray;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n/**\n* Test if a value is a typed array.\n*\n* @module @stdlib/assert-is-typed-array\n*\n* @example\n* var Int8Array = require( '@stdlib/array-int8' );\n* var isTypedArray = require( '@stdlib/assert-is-typed-array' );\n*\n* var bool = isTypedArray( new Int8Array( 10 ) );\n* // returns true\n*/\n\n// MODULES //\n\nvar main = require( './main.js' );\n\n\n// EXPORTS //\n\nmodule.exports = main;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nvar Complex64Array = require( '@stdlib/array-complex64' );\nvar Complex128Array = require( '@stdlib/array-complex128' );\n\n\n// MAIN //\n\nvar CTORS = [\n\tComplex128Array,\n\tComplex64Array\n];\n\n\n// EXPORTS //\n\nmodule.exports = CTORS;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nvar ctorName = require( '@stdlib/utils-constructor-name' );\nvar getPrototypeOf = require( '@stdlib/utils-get-prototype-of' );\nvar CTORS = require( './ctors.js' );\nvar NAMES = require( './names.json' );\n\n\n// MAIN //\n\n/**\n* Tests if a value is a complex typed array.\n*\n* @param {*} value - value to test\n* @returns {boolean} boolean indicating if a value is a complex typed array\n*\n* @example\n* var Complex128Array = require( '@stdlib/array-complex128' );\n*\n* var bool = isComplexTypedArray( new Complex128Array( 10 ) );\n* // returns true\n*/\nfunction isComplexTypedArray( value ) {\n\tvar v;\n\tvar i;\n\n\tif ( typeof value !== 'object' || value === null ) {\n\t\treturn false;\n\t}\n\t// Check for complex typed array objects from the same realm (same Node.js `vm` or same `Window` object)...\n\tfor ( i = 0; i < CTORS.length; i++ ) {\n\t\tif ( value instanceof CTORS[ i ] ) {\n\t\t\treturn true;\n\t\t}\n\t}\n\t// Walk the prototype tree until we find an object having a desired class...\n\twhile ( value ) {\n\t\tv = ctorName( value );\n\t\tfor ( i = 0; i < NAMES.length; i++ ) {\n\t\t\tif ( NAMES[ i ] === v ) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\tvalue = getPrototypeOf( value );\n\t}\n\n\treturn false;\n}\n\n\n// EXPORTS //\n\nmodule.exports = isComplexTypedArray;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n/**\n* Test if a value is a complex typed array.\n*\n* @module @stdlib/assert-is-complex-typed-array\n*\n* @example\n* var Complex128Array = require( '@stdlib/array-complex128' );\n* var isComplexTypedArray = require( '@stdlib/assert-is-complex-typed-array' );\n*\n* var bool = isComplexTypedArray( new Complex128Array( 10 ) );\n* // returns true\n*/\n\n// MODULES //\n\nvar main = require( './main.js' );\n\n\n// EXPORTS //\n\nmodule.exports = main;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nvar format = require( '@stdlib/string-format' );\n\n\n// MAIN //\n\n/**\n* Tests whether a value has in its prototype chain a specified constructor as a prototype property.\n*\n* @param {*} value - value to test\n* @param {Function} constructor - constructor to test against\n* @throws {TypeError} constructor must be callable\n* @returns {boolean} boolean indicating whether a value is an instance of a provided constructor\n*\n* @example\n* var bool = instanceOf( [], Array );\n* // returns true\n*\n* @example\n* var bool = instanceOf( {}, Object ); // exception\n* // returns true\n*\n* @example\n* var bool = instanceOf( 'beep', String );\n* // returns false\n*\n* @example\n* var bool = instanceOf( null, Object );\n* // returns false\n*\n* @example\n* var bool = instanceOf( 5, Object );\n* // returns false\n*/\nfunction instanceOf( value, constructor ) {\n\t// TODO: replace with `isCallable` check\n\tif ( typeof constructor !== 'function' ) {\n\t\tthrow new TypeError( format( 'invalid argument. Second argument must be callable. Value: `%s`.', constructor ) );\n\t}\n\treturn ( value instanceof constructor );\n}\n\n\n// EXPORTS //\n\nmodule.exports = instanceOf;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n/**\n* Test whether a value has in its prototype chain a specified constructor as a prototype property.\n*\n* @module @stdlib/assert-instance-of\n*\n* @example\n* var instanceOf = require( '@stdlib/assert-instance-of' );\n*\n* var bool = instanceOf( [], Array );\n* // returns true\n*\n* bool = instanceOf( {}, Object ); // exception\n* // returns true\n*\n* bool = instanceOf( 'beep', String );\n* // returns false\n*\n* bool = instanceOf( null, Object );\n* // returns false\n*\n* bool = instanceOf( 5, Object );\n* // returns false\n*/\n\n// MODULES //\n\nvar main = require( './main.js' );\n\n\n// EXPORTS //\n\nmodule.exports = main;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nvar Int8Array = require( '@stdlib/array-int8' );\nvar Uint8Array = require( '@stdlib/array-uint8' );\nvar Uint8ClampedArray = require( '@stdlib/array-uint8c' );\nvar Int16Array = require( '@stdlib/array-int16' );\nvar Uint16Array = require( '@stdlib/array-uint16' );\nvar Int32Array = require( '@stdlib/array-int32' );\nvar Uint32Array = require( '@stdlib/array-uint32' );\nvar Float32Array = require( '@stdlib/array-float32' );\nvar Float64Array = require( '@stdlib/array-float64' );\nvar Complex64Array = require( '@stdlib/array-complex64' );\nvar Complex128Array = require( '@stdlib/array-complex128' );\n\n\n// MAIN //\n\nvar CTORS = [\n\t[ Float64Array, 'Float64Array' ],\n\t[ Float32Array, 'Float32Array' ],\n\t[ Int32Array, 'Int32Array' ],\n\t[ Uint32Array, 'Uint32Array' ],\n\t[ Int16Array, 'Int16Array' ],\n\t[ Uint16Array, 'Uint16Array' ],\n\t[ Int8Array, 'Int8Array' ],\n\t[ Uint8Array, 'Uint8Array' ],\n\t[ Uint8ClampedArray, 'Uint8ClampedArray' ],\n\t[ Complex64Array, 'Complex64Array' ],\n\t[ Complex128Array, 'Complex128Array' ]\n];\n\n\n// EXPORTS //\n\nmodule.exports = CTORS;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nvar instanceOf = require( '@stdlib/assert-instance-of' );\nvar ctorName = require( '@stdlib/utils-constructor-name' );\nvar getPrototypeOf = require( '@stdlib/utils-get-prototype-of' );\nvar CTORS = require( './ctors.js' );\n\n\n// MAIN //\n\n/**\n* Returns the typed array type.\n*\n* @private\n* @param {TypedArray} arr - typed array\n* @returns {(string|void)} typed array type\n*\n* @example\n* var Float64Array = require( '@stdlib/array-float64' );\n*\n* var arr = new Float64Array( 5 );\n* var str = typeName( arr );\n* // returns 'Float64Array'\n*/\nfunction typeName( arr ) {\n\tvar v;\n\tvar i;\n\n\t// Check for typed array objects from the same realm (same Node.js `vm` or same `Window` object)...\n\tfor ( i = 0; i < CTORS.length; i++ ) {\n\t\tif ( instanceOf( arr, CTORS[ i ][ 0 ] ) ) {\n\t\t\treturn CTORS[ i ][ 1 ];\n\t\t}\n\t}\n\t// Walk the prototype tree until we find an object having a desired native class...\n\twhile ( arr ) {\n\t\tv = ctorName( arr );\n\t\tfor ( i = 0; i < CTORS.length; i++ ) {\n\t\t\tif ( v === CTORS[ i ][ 1 ] ) {\n\t\t\t\treturn CTORS[ i ][ 1 ];\n\t\t\t}\n\t\t}\n\t\tarr = getPrototypeOf( arr );\n\t}\n}\n\n\n// EXPORTS //\n\nmodule.exports = typeName;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nvar isTypedArray = require( '@stdlib/assert-is-typed-array' );\nvar isComplexTypedArray = require( '@stdlib/assert-is-complex-typed-array' );\nvar reinterpret64 = require( '@stdlib/strided-base-reinterpret-complex64' );\nvar reinterpret128 = require( '@stdlib/strided-base-reinterpret-complex128' );\nvar format = require( '@stdlib/string-format' );\nvar typeName = require( './type.js' );\n\n\n// MAIN //\n\n/**\n* Returns a JSON representation of a typed array.\n*\n* ## Notes\n*\n* -   We build a JSON object representing a typed array similar to how Node.js `Buffer` objects are represented. See [Buffer][1].\n*\n* [1]: https://nodejs.org/api/buffer.html#buffer_buf_tojson\n*\n* @param {TypedArray} arr - typed array to serialize\n* @throws {TypeError} first argument must be a typed array\n* @returns {Object} JSON representation\n*\n* @example\n* var Float64Array = require( '@stdlib/array-float64' );\n*\n* var arr = new Float64Array( [ 5.0, 3.0 ] );\n* var json = typedarray2json( arr );\n* // returns { 'type': 'Float64Array', 'data': [ 5.0, 3.0 ] }\n*/\nfunction typedarray2json( arr ) {\n\tvar data;\n\tvar out;\n\tvar i;\n\n\tif ( isTypedArray( arr ) ) {\n\t\tdata = arr;\n\t} else if ( isComplexTypedArray( arr ) ) {\n\t\tif ( arr.BYTES_PER_ELEMENT === 8 ) {\n\t\t\tdata = reinterpret64( arr, 0 );\n\t\t} else { // arr.BYTES_PER_ELEMENT === 16\n\t\t\tdata = reinterpret128( arr, 0 );\n\t\t}\n\t} else {\n\t\tthrow new TypeError( format( 'invalid argument. Must provide a typed array. Value: `%s`.', arr ) );\n\t}\n\tout = {\n\t\t'type': typeName( arr ),\n\t\t'data': []\n\t};\n\tfor ( i = 0; i < data.length; i++ ) {\n\t\tout.data.push( data[ i ] );\n\t}\n\treturn out;\n}\n\n\n// EXPORTS //\n\nmodule.exports = typedarray2json;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n/**\n* Return a JSON representation of a typed array.\n*\n* @module @stdlib/array-to-json\n*\n* @example\n* var Float64Array = require( '@stdlib/array-float64' );\n* var typedarray2json = require( '@stdlib/array-to-json' );\n*\n* var arr = new Float64Array( [ 5.0, 3.0 ] );\n* var json = typedarray2json( arr );\n* // returns { 'type': 'Float64Array', 'data': [ 5.0, 3.0 ] }\n*/\n\n// MODULES //\n\nvar main = require( './main.js' );\n\n\n// EXPORTS //\n\nmodule.exports = main;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nvar UINT32_MAX = require( '@stdlib/constants-uint32-max' );\nvar floor = require( '@stdlib/math-base-special-floor' );\n\n\n// VARIABLES //\n\nvar MAX = UINT32_MAX - 1;\n\n\n// MAIN //\n\n/**\n* Returns a pseudorandom integer on the interval \\\\( [1, 2^{32}-1) \\\\).\n*\n* @private\n* @returns {PositiveInteger} pseudorandom integer\n*\n* @example\n* var v = randuint32();\n* // returns <number>\n*/\nfunction randuint32() {\n\tvar v = floor( 1.0 + (MAX*Math.random()) ); // eslint-disable-line stdlib/no-builtin-math\n\treturn v >>> 0; // asm type annotation\n}\n\n\n// EXPORTS //\n\nmodule.exports = randuint32;\n","/* eslint-disable max-lines, max-len */\n\n/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*\n*\n* ## Notice\n*\n* The original C code and copyright notice are from the [source implementation][mt19937]. The implementation has been modified for JavaScript.\n*\n* ```text\n* Copyright (C) 1997 - 2002, Makoto Matsumoto and Takuji Nishimura,\n* All rights reserved.\n*\n* Redistribution and use in source and binary forms, with or without\n* modification, are permitted provided that the following conditions\n* are met:\n*\n*   1. Redistributions of source code must retain the above copyright\n*      notice, this list of conditions and the following disclaimer.\n*\n*   2. Redistributions in binary form must reproduce the above copyright\n*      notice, this list of conditions and the following disclaimer in the\n*      documentation and/or other materials provided with the distribution.\n*\n*   3. The names of its contributors may not be used to endorse or promote\n*      products derived from this software without specific prior written\n*      permission.\n*\n* THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n* \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n* LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n* A PARTICULAR PURPOSE ARE DISCLAIMED.  IN NO EVENT SHALL THE COPYRIGHT OWNER OR\n* CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,\n* EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,\n* PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR\n* PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF\n* LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING\n* NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n* SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n* ```\n*\n* [mt19937]: http://www.math.sci.hiroshima-u.ac.jp/~m-mat/MT/MT2002/CODES/mt19937ar.c\n*/\n\n'use strict';\n\n// MODULES //\n\nvar setReadOnly = require( '@stdlib/utils-define-nonenumerable-read-only-property' );\nvar setReadOnlyAccessor = require( '@stdlib/utils-define-nonenumerable-read-only-accessor' );\nvar setReadWriteAccessor = require( '@stdlib/utils-define-nonenumerable-read-write-accessor' );\nvar hasOwnProp = require( '@stdlib/assert-has-own-property' );\nvar isObject = require( '@stdlib/assert-is-plain-object' );\nvar isCollection = require( '@stdlib/assert-is-collection' );\nvar isUint32Array = require( '@stdlib/assert-is-uint32array' );\nvar isBoolean = require( '@stdlib/assert-is-boolean' ).isPrimitive;\nvar isPositiveInteger = require( '@stdlib/assert-is-positive-integer' ).isPrimitive;\nvar FLOAT64_MAX_SAFE_INTEGER = require( '@stdlib/constants-float64-max-safe-integer' );\nvar UINT32_MAX = require( '@stdlib/constants-uint32-max' );\nvar Uint32Array = require( '@stdlib/array-uint32' );\nvar max = require( '@stdlib/math-base-special-max' );\nvar umul = require( '@stdlib/math-base-ops-umul' );\nvar gcopy = require( '@stdlib/blas-base-gcopy' );\nvar typedarray2json = require( '@stdlib/array-to-json' );\nvar format = require( '@stdlib/string-format' );\nvar randuint32 = require( './rand_uint32.js' );\n\n\n// VARIABLES //\n\n// Define the size of the state array (see refs):\nvar N = 624;\n\n// Define a (magic) constant used for indexing into the state array:\nvar M = 397;\n\n// Define the maximum seed: 11111111111111111111111111111111\nvar MAX_SEED = UINT32_MAX >>> 0; // asm type annotation\n\n// For seed arrays, define an initial state (magic) constant: 19650218 => 00000001001010111101011010101010\nvar SEED_ARRAY_INIT_STATE = 19650218 >>> 0; // asm type annotation\n\n// Define a mask for the most significant `w-r` bits, where `w` is the word size (32 bits) and `r` is the separation point of one word (see refs): 2147483648 => 0x80000000 => 10000000000000000000000000000000\nvar UPPER_MASK = 0x80000000 >>> 0; // asm type annotation\n\n// Define a mask for the least significant `r` bits (see refs): 2147483647 => 0x7fffffff => 01111111111111111111111111111111\nvar LOWER_MASK = 0x7fffffff >>> 0; // asm type annotation\n\n// Define a multiplier (see Knuth TAOCP Vol2. 3rd Ed. P.106): 1812433253 => 01101100000001111000100101100101\nvar KNUTH_MULTIPLIER = 1812433253 >>> 0; // asm type annotation\n\n// Define a (magic) multiplier: 1664525 => 00000000000110010110011000001101\nvar MAGIC_MULTIPLIER_1 = 1664525 >>> 0; // asm type annotation\n\n// Define a (magic) multiplier: 1566083941 => 01011101010110001000101101100101\nvar MAGIC_MULTIPLIER_2 = 1566083941 >>> 0; // asm type annotation\n\n// Define a tempering coefficient: 2636928640 => 0x9d2c5680 => 10011101001011000101011010000000\nvar TEMPERING_COEFFICIENT_1 = 0x9d2c5680 >>> 0; // asm type annotation\n\n// Define a tempering coefficient: 4022730752 => 0xefc60000 => 11101111110001100000000000000000\nvar TEMPERING_COEFFICIENT_2 = 0xefc60000 >>> 0; // asm type annotation\n\n// Define a constant vector `a` (see refs): 2567483615 => 0x9908b0df => 10011001000010001011000011011111\nvar MATRIX_A = 0x9908b0df >>> 0; // asm type annotation\n\n// MAG01[x] = x * MATRIX_A; for x = {0,1}\nvar MAG01 = [ 0x0 >>> 0, MATRIX_A >>> 0 ]; // asm type annotation\n\n// Define a normalization constant when generating double-precision floating-point numbers: 2^53 => 9007199254740992\nvar FLOAT64_NORMALIZATION_CONSTANT = 1.0 / ( FLOAT64_MAX_SAFE_INTEGER+1.0 ); // eslint-disable-line id-length\n\n// 2^26: 67108864\nvar TWO_26 = 67108864 >>> 0; // asm type annotation\n\n// 2^32: 2147483648 => 0x80000000 => 10000000000000000000000000000000\nvar TWO_32 = 0x80000000 >>> 0; // asm type annotation\n\n// 1 (as a 32-bit unsigned integer): 1 => 0x1 => 00000000000000000000000000000001\nvar ONE = 0x1 >>> 0; // asm type annotation\n\n// Define the maximum normalized pseudorandom double-precision floating-point number: ( (((2^32-1)>>>5)*2^26)+( (2^32-1)>>>6) ) / 2^53\nvar MAX_NORMALIZED = FLOAT64_MAX_SAFE_INTEGER * FLOAT64_NORMALIZATION_CONSTANT;\n\n// Define the state array schema version:\nvar STATE_ARRAY_VERSION = 1; // NOTE: anytime the state array schema changes, this value should be incremented!!!\n\n// Define the number of sections in the state array:\nvar NUM_STATE_SECTIONS = 3; // state, other, seed\n\n// Define the index offset of the \"state\" section in the state array:\nvar STATE_SECTION_OFFSET = 2; // | version | num_sections | state_length | ...state | other_length | state_index | seed_length | ...seed |\n\n// Define the index offset of the \"other\" section in the state array:\nvar OTHER_SECTION_OFFSET = N + 3; // | version | num_sections | state_length | ...state | other_length | state_index | seed_length | ...seed |\n\n// Define the index offset of the seed section in the state array:\nvar SEED_SECTION_OFFSET = N + 5; // | version | num_sections | state_length | ...state | other_length | state_index | seed_length | ...seed |\n\n// Define the length of the \"fixed\" length portion of the state array:\nvar STATE_FIXED_LENGTH = N + 6; // 1 (version) + 1 (num_sections) + 1 (state_length) + N (state) + 1 (other_length) + 1 (state_index) + 1 (seed_length)\n\n\n// FUNCTIONS //\n\n/**\n* Verifies state array integrity.\n*\n* @private\n* @param {Uint32Array} state - state array\n* @param {boolean} FLG - flag indicating whether the state array was provided as an option (true) or an argument (false)\n* @returns {(Error|null)} an error or `null`\n*/\nfunction verifyState( state, FLG ) {\n\tvar s1;\n\tif ( FLG ) {\n\t\ts1 = 'option';\n\t} else {\n\t\ts1 = 'argument';\n\t}\n\t// The state array must have a minimum length...\n\tif ( state.length < STATE_FIXED_LENGTH+1 ) {\n\t\treturn new RangeError( format( 'invalid %s. `state` array has insufficient length.', s1 ) );\n\t}\n\t// The first element of the state array must equal the supported state array schema version...\n\tif ( state[ 0 ] !== STATE_ARRAY_VERSION ) {\n\t\treturn new RangeError( format( 'invalid %s. `state` array has an incompatible schema version. Expected: `%s`. Actual: `%s.`', s1, STATE_ARRAY_VERSION, state[ 0 ] ) );\n\t}\n\t// The second element of the state array must contain the number of sections...\n\tif ( state[ 1 ] !== NUM_STATE_SECTIONS ) {\n\t\treturn new RangeError( format( 'invalid %s. `state` array has an incompatible number of sections. Expected: `%s`. Actual: `%s`.', s1, NUM_STATE_SECTIONS, state[ 1 ] ) );\n\t}\n\t// The length of the \"state\" section must equal `N`...\n\tif ( state[ STATE_SECTION_OFFSET ] !== N ) {\n\t\treturn new RangeError( format( 'invalid %s. `state` array has an incompatible state length. Expected: `%u`. Actual: `%u`.', s1, N, state[ STATE_SECTION_OFFSET ] ) );\n\t}\n\t// The length of the \"other\" section must equal `1`...\n\tif ( state[ OTHER_SECTION_OFFSET ] !== 1 ) {\n\t\treturn new RangeError( format( 'invalid %s. `state` array has an incompatible section length. Expected: `%u`. Actual: `%u`.', s1, 1, state[ OTHER_SECTION_OFFSET ] ) );\n\t}\n\t// The length of the \"seed\" section much match the empirical length...\n\tif ( state[ SEED_SECTION_OFFSET ] !== state.length-STATE_FIXED_LENGTH ) {\n\t\treturn new RangeError( format( 'invalid %s. `state` array length is incompatible with seed section length. Expected: `%u`. Actual: `%u`.', s1, state.length-STATE_FIXED_LENGTH, state[ SEED_SECTION_OFFSET ] ) );\n\t}\n\treturn null;\n}\n\n/**\n* Returns an initial PRNG state.\n*\n* @private\n* @param {Uint32Array} state - state array\n* @param {PositiveInteger} N - state size\n* @param {uinteger32} s - seed\n* @returns {Uint32Array} state array\n*/\nfunction createState( state, N, s ) {\n\tvar i;\n\n\t// Set the first element of the state array to the provided seed:\n\tstate[ 0 ] = s >>> 0; // equivalent to `s & 0xffffffffUL` in original C implementation\n\n\t// Initialize the remaining state array elements:\n\tfor ( i = 1; i < N; i++ ) {\n\t\t/*\n\t\t* In the original C implementation (see `init_genrand()`),\n\t\t*\n\t\t* ```c\n\t\t* mt[i] = (KNUTH_MULTIPLIER * (mt[i-1] ^ (mt[i-1] >> 30)) + i)\n\t\t* ```\n\t\t*\n\t\t* In order to replicate this in JavaScript, we must emulate C-like multiplication of unsigned 32-bit integers.\n\t\t*/\n\t\ts = state[ i-1 ]>>>0; // asm type annotation\n\t\ts = ( s^(s>>>30) )>>>0; // asm type annotation\n\t\tstate[ i ] = ( umul( s, KNUTH_MULTIPLIER ) + i )>>>0; // asm type annotation\n\t}\n\treturn state;\n}\n\n/**\n* Initializes a PRNG state array according to a seed array.\n*\n* @private\n* @param {Uint32Array} state - state array\n* @param {NonNegativeInteger} N - state array length\n* @param {Collection} seed - seed array\n* @param {NonNegativeInteger} M - seed array length\n* @returns {Uint32Array} state array\n*/\nfunction initState( state, N, seed, M ) {\n\tvar s;\n\tvar i;\n\tvar j;\n\tvar k;\n\n\ti = 1;\n\tj = 0;\n\tfor ( k = max( N, M ); k > 0; k-- ) {\n\t\t/*\n\t\t* In the original C implementation (see `init_by_array()`),\n\t\t*\n\t\t* ```c\n\t\t* mt[i] = (mt[i]^((mt[i-1]^(mt[i-1]>>30))*1664525UL)) + seed[j] + j;\n\t\t* ```\n\t\t*\n\t\t* In order to replicate this in JavaScript, we must emulate C-like multiplication of unsigned 32-bit integers.\n\t\t*/\n\t\ts = state[ i-1 ]>>>0; // asm type annotation\n\t\ts = ( s^(s>>>30) )>>>0; // asm type annotation\n\t\ts = ( umul( s, MAGIC_MULTIPLIER_1 ) )>>>0; // asm type annotation\n\t\tstate[ i ] = ( ((state[i]>>>0)^s) + seed[j] + j )>>>0; /* non-linear */ // asm type annotation\n\n\t\ti += 1;\n\t\tj += 1;\n\t\tif ( i >= N ) {\n\t\t\tstate[ 0 ] = state[ N-1 ];\n\t\t\ti = 1;\n\t\t}\n\t\tif ( j >= M ) {\n\t\t\tj = 0;\n\t\t}\n\t}\n\tfor ( k = N-1; k > 0; k-- ) {\n\t\t/*\n\t\t* In the original C implementation (see `init_by_array()`),\n\t\t*\n\t\t* ```c\n\t\t* mt[i] = (mt[i]^((mt[i-1]^(mt[i-1]>>30))*1566083941UL)) - i;\n\t\t* ```\n\t\t*\n\t\t* In order to replicate this in JavaScript, we must emulate C-like multiplication of unsigned 32-bit integers.\n\t\t*/\n\t\ts = state[ i-1 ]>>>0; // asm type annotation\n\t\ts = ( s^(s>>>30) )>>>0; // asm type annotation\n\t\ts = ( umul( s, MAGIC_MULTIPLIER_2 ) )>>>0; // asm type annotation\n\t\tstate[ i ] = ( ((state[i]>>>0)^s) - i )>>>0; /* non-linear */ // asm type annotation\n\n\t\ti += 1;\n\t\tif ( i >= N ) {\n\t\t\tstate[ 0 ] = state[ N-1 ];\n\t\t\ti = 1;\n\t\t}\n\t}\n\t// Ensure a non-zero initial state array:\n\tstate[ 0 ] = TWO_32; // MSB (most significant bit) is 1\n\n\treturn state;\n}\n\n/**\n* Updates a PRNG's internal state by generating the next `N` words.\n*\n* @private\n* @param {Uint32Array} state - state array\n* @returns {Uint32Array} state array\n*/\nfunction twist( state ) {\n\tvar w;\n\tvar i;\n\tvar j;\n\tvar k;\n\n\tk = N - M;\n\tfor ( i = 0; i < k; i++ ) {\n\t\tw = ( state[i]&UPPER_MASK ) | ( state[i+1]&LOWER_MASK );\n\t\tstate[ i ] = state[ i+M ] ^ ( w>>>1 ) ^ MAG01[ w&ONE ];\n\t}\n\tj = N - 1;\n\tfor ( ; i < j; i++ ) {\n\t\tw = ( state[i]&UPPER_MASK ) | ( state[i+1]&LOWER_MASK );\n\t\tstate[ i ] = state[ i-k ] ^ ( w>>>1 ) ^ MAG01[ w&ONE ];\n\t}\n\tw = ( state[j]&UPPER_MASK ) | ( state[0]&LOWER_MASK );\n\tstate[ j ] = state[ M-1 ] ^ ( w>>>1 ) ^ MAG01[ w&ONE ];\n\treturn state;\n}\n\n\n// MAIN //\n\n/**\n* Returns a 32-bit Mersenne Twister pseudorandom number generator.\n*\n* ## Notes\n*\n* -   In contrast to the original C implementation, array seeds of length `1` are considered integer seeds. This ensures that the seed `[ 1234 ]` generates the same output as the seed `1234`. In the original C implementation, the two seeds would yield different output, which is **not** obvious from a user perspective.\n*\n* @param {Options} [options] - options\n* @param {PRNGSeedMT19937} [options.seed] - pseudorandom number generator seed\n* @param {PRNGStateMT19937} [options.state] - pseudorandom number generator state\n* @param {boolean} [options.copy=true] - boolean indicating whether to copy a provided pseudorandom number generator state\n* @throws {TypeError} options argument must be an object\n* @throws {TypeError} a seed must be either a positive integer less than or equal to the maximum unsigned 32-bit integer or an array-like object containing integers less than or equal to the maximum unsigned 32-bit integer\n* @throws {RangeError} a numeric seed must be a positive integer less than or equal to the maximum unsigned 32-bit integer\n* @throws {TypeError} state must be a `Uint32Array`\n* @throws {Error} must provide a valid state\n* @throws {TypeError} `copy` option must be a boolean\n* @returns {PRNG} Mersenne Twister PRNG\n*\n* @example\n* var mt19937 = factory();\n*\n* var v = mt19937();\n* // returns <number>\n*\n* @example\n* // Return a seeded Mersenne Twister PRNG:\n* var mt19937 = factory({\n*     'seed': 1234\n* });\n*\n* var v = mt19937();\n* // returns 822569775\n*/\nfunction factory( options ) {\n\tvar STATE;\n\tvar state;\n\tvar opts;\n\tvar seed;\n\tvar slen;\n\tvar err;\n\n\topts = {};\n\tif ( arguments.length ) {\n\t\tif ( !isObject( options ) ) {\n\t\t\tthrow new TypeError( format( 'invalid argument. Options argument must be an object. Value: `%s`.', options ) );\n\t\t}\n\t\tif ( hasOwnProp( options, 'copy' ) ) {\n\t\t\topts.copy = options.copy;\n\t\t\tif ( !isBoolean( options.copy ) ) {\n\t\t\t\tthrow new TypeError( format( 'invalid option. `%s` option must be a boolean. Option: `%s`.', 'copy', options.copy ) );\n\t\t\t}\n\t\t}\n\t\tif ( hasOwnProp( options, 'state' ) ) {\n\t\t\tstate = options.state;\n\t\t\topts.state = true;\n\t\t\tif ( !isUint32Array( state ) ) {\n\t\t\t\tthrow new TypeError( format( 'invalid option. `%s` option must be a Uint32Array. Option: `%s`.', 'state', state ) );\n\t\t\t}\n\t\t\terr = verifyState( state, true );\n\t\t\tif ( err ) {\n\t\t\t\tthrow err;\n\t\t\t}\n\t\t\tif ( opts.copy === false ) {\n\t\t\t\tSTATE = state;\n\t\t\t} else {\n\t\t\t\tSTATE = new Uint32Array( state.length );\n\t\t\t\tgcopy( state.length, state, 1, STATE, 1 );\n\t\t\t}\n\t\t\t// Create a state \"view\":\n\t\t\tstate = new Uint32Array( STATE.buffer, STATE.byteOffset+((STATE_SECTION_OFFSET+1)*STATE.BYTES_PER_ELEMENT), N );\n\n\t\t\t// Create a seed \"view\":\n\t\t\tseed = new Uint32Array( STATE.buffer, STATE.byteOffset+((SEED_SECTION_OFFSET+1)*STATE.BYTES_PER_ELEMENT), state[ SEED_SECTION_OFFSET ] );\n\t\t}\n\t\t// If provided a PRNG state, we ignore the `seed` option...\n\t\tif ( seed === void 0 ) {\n\t\t\tif ( hasOwnProp( options, 'seed' ) ) {\n\t\t\t\tseed = options.seed;\n\t\t\t\topts.seed = true;\n\t\t\t\tif ( isPositiveInteger( seed ) ) {\n\t\t\t\t\tif ( seed > MAX_SEED ) {\n\t\t\t\t\t\tthrow new RangeError( format( 'invalid option. `%s` option must be a positive integer less than or equal to the maximum unsigned 32-bit integer. Option: `%u`.', 'seed', seed ) );\n\t\t\t\t\t}\n\t\t\t\t\tseed >>>= 0; // asm type annotation\n\t\t\t\t} else if ( isCollection( seed ) === false || seed.length < 1 ) {\n\t\t\t\t\tthrow new TypeError( format( 'invalid option. `%s` option must be either a positive integer less than or equal to the maximum unsigned 32-bit integer or an array-like object containing integer values less than or equal to the maximum unsigned 32-bit integer. Option: `%s`.', 'seed', seed ) );\n\t\t\t\t} else if ( seed.length === 1 ) {\n\t\t\t\t\tseed = seed[ 0 ];\n\t\t\t\t\tif ( !isPositiveInteger( seed ) ) {\n\t\t\t\t\t\tthrow new TypeError( format( 'invalid option. `%s` option must be either a positive integer less than or equal to the maximum unsigned 32-bit integer or an array-like object containing integer values less than or equal to the maximum unsigned 32-bit integer. Option: `%s`.', 'seed', seed ) );\n\t\t\t\t\t}\n\t\t\t\t\tif ( seed > MAX_SEED ) {\n\t\t\t\t\t\tthrow new RangeError( format( 'invalid option. `%s` option must be either a positive integer less than or equal to the maximum unsigned 32-bit integer or an array-like object containing integer values less than or equal to the maximum unsigned 32-bit integer. Option: `%u`.', 'seed', seed ) );\n\t\t\t\t\t}\n\t\t\t\t\tseed >>>= 0; // asm type annotation\n\t\t\t\t} else {\n\t\t\t\t\tslen = seed.length;\n\t\t\t\t\tSTATE = new Uint32Array( STATE_FIXED_LENGTH+slen );\n\n\t\t\t\t\t// Initialize sections:\n\t\t\t\t\tSTATE[ 0 ] = STATE_ARRAY_VERSION;\n\t\t\t\t\tSTATE[ 1 ] = NUM_STATE_SECTIONS;\n\t\t\t\t\tSTATE[ STATE_SECTION_OFFSET ] = N;\n\t\t\t\t\tSTATE[ OTHER_SECTION_OFFSET ] = 1;\n\t\t\t\t\tSTATE[ OTHER_SECTION_OFFSET+1 ] = N; // state index\n\t\t\t\t\tSTATE[ SEED_SECTION_OFFSET ] = slen;\n\n\t\t\t\t\t// Copy the provided seed array to prevent external mutation, as mutation would lead to an inability to reproduce PRNG values according to the PRNG's stated seed:\n\t\t\t\t\tgcopy.ndarray( slen, seed, 1, 0, STATE, 1, SEED_SECTION_OFFSET+1 );\n\n\t\t\t\t\t// Create a state \"view\":\n\t\t\t\t\tstate = new Uint32Array( STATE.buffer, STATE.byteOffset+((STATE_SECTION_OFFSET+1)*STATE.BYTES_PER_ELEMENT), N );\n\n\t\t\t\t\t// Create a seed \"view\":\n\t\t\t\t\tseed = new Uint32Array( STATE.buffer, STATE.byteOffset+((SEED_SECTION_OFFSET+1)*STATE.BYTES_PER_ELEMENT), slen );\n\n\t\t\t\t\t// Initialize the internal PRNG state:\n\t\t\t\t\tstate = createState( state, N, SEED_ARRAY_INIT_STATE );\n\t\t\t\t\tstate = initState( state, N, seed, slen );\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tseed = randuint32() >>> 0; // asm type annotation\n\t\t\t}\n\t\t}\n\t} else {\n\t\tseed = randuint32() >>> 0; // asm type annotation\n\t}\n\tif ( state === void 0 ) {\n\t\tSTATE = new Uint32Array( STATE_FIXED_LENGTH+1 );\n\n\t\t// Initialize sections:\n\t\tSTATE[ 0 ] = STATE_ARRAY_VERSION;\n\t\tSTATE[ 1 ] = NUM_STATE_SECTIONS;\n\t\tSTATE[ STATE_SECTION_OFFSET ] = N;\n\t\tSTATE[ OTHER_SECTION_OFFSET ] = 1;\n\t\tSTATE[ OTHER_SECTION_OFFSET+1 ] = N; // state index\n\t\tSTATE[ SEED_SECTION_OFFSET ] = 1;\n\t\tSTATE[ SEED_SECTION_OFFSET+1 ] = seed;\n\n\t\t// Create a state \"view\":\n\t\tstate = new Uint32Array( STATE.buffer, STATE.byteOffset+((STATE_SECTION_OFFSET+1)*STATE.BYTES_PER_ELEMENT), N );\n\n\t\t// Create a seed \"view\":\n\t\tseed = new Uint32Array( STATE.buffer, STATE.byteOffset+((SEED_SECTION_OFFSET+1)*STATE.BYTES_PER_ELEMENT), 1 );\n\n\t\t// Initialize the internal PRNG state:\n\t\tstate = createState( state, N, seed );\n\t}\n\t// Note: property order matters in order to maintain consistency of PRNG \"shape\" (hidden classes).\n\tsetReadOnly( mt19937, 'NAME', 'mt19937' );\n\tsetReadOnlyAccessor( mt19937, 'seed', getSeed );\n\tsetReadOnlyAccessor( mt19937, 'seedLength', getSeedLength );\n\tsetReadWriteAccessor( mt19937, 'state', getState, setState );\n\tsetReadOnlyAccessor( mt19937, 'stateLength', getStateLength );\n\tsetReadOnlyAccessor( mt19937, 'byteLength', getStateSize );\n\tsetReadOnly( mt19937, 'toJSON', toJSON );\n\tsetReadOnly( mt19937, 'MIN', 0 );\n\tsetReadOnly( mt19937, 'MAX', UINT32_MAX );\n\tsetReadOnly( mt19937, 'normalized', normalized );\n\n\tsetReadOnly( normalized, 'NAME', mt19937.NAME );\n\tsetReadOnlyAccessor( normalized, 'seed', getSeed );\n\tsetReadOnlyAccessor( normalized, 'seedLength', getSeedLength );\n\tsetReadWriteAccessor( normalized, 'state', getState, setState );\n\tsetReadOnlyAccessor( normalized, 'stateLength', getStateLength );\n\tsetReadOnlyAccessor( normalized, 'byteLength', getStateSize );\n\tsetReadOnly( normalized, 'toJSON', toJSON );\n\tsetReadOnly( normalized, 'MIN', 0.0 );\n\tsetReadOnly( normalized, 'MAX', MAX_NORMALIZED );\n\n\treturn mt19937;\n\n\t/**\n\t* Returns the PRNG seed.\n\t*\n\t* @private\n\t* @returns {PRNGSeedMT19937} seed\n\t*/\n\tfunction getSeed() {\n\t\tvar len = STATE[ SEED_SECTION_OFFSET ];\n\t\treturn gcopy( len, seed, 1, new Uint32Array( len ), 1 );\n\t}\n\n\t/**\n\t* Returns the PRNG seed length.\n\t*\n\t* @private\n\t* @returns {PositiveInteger} seed length\n\t*/\n\tfunction getSeedLength() {\n\t\treturn STATE[ SEED_SECTION_OFFSET ];\n\t}\n\n\t/**\n\t* Returns the PRNG state length.\n\t*\n\t* @private\n\t* @returns {PositiveInteger} state length\n\t*/\n\tfunction getStateLength() {\n\t\treturn STATE.length;\n\t}\n\n\t/**\n\t* Returns the PRNG state size (in bytes).\n\t*\n\t* @private\n\t* @returns {PositiveInteger} state size (in bytes)\n\t*/\n\tfunction getStateSize() {\n\t\treturn STATE.byteLength;\n\t}\n\n\t/**\n\t* Returns the current PRNG state.\n\t*\n\t* ## Notes\n\t*\n\t* -   The PRNG state array is comprised of a preamble followed by `3` sections:\n\t*\n\t*     0.  preamble (version + number of sections)\n\t*     1.  internal PRNG state\n\t*     2.  auxiliary state information\n\t*     3.  PRNG seed\n\t*\n\t* -   The first element of the PRNG state array preamble is the state array schema version.\n\t*\n\t* -   The second element of the PRNG state array preamble is the number of state array sections (i.e., `3`).\n\t*\n\t* -   The first element of each section following the preamble specifies the section length. The remaining section elements comprise the section contents.\n\t*\n\t* @private\n\t* @returns {PRNGStateMT19937} current state\n\t*/\n\tfunction getState() {\n\t\tvar len = STATE.length;\n\t\treturn gcopy( len, STATE, 1, new Uint32Array( len ), 1 );\n\t}\n\n\t/**\n\t* Sets the PRNG state.\n\t*\n\t* ## Notes\n\t*\n\t* -   If PRNG state is \"shared\" (meaning a state array was provided during PRNG creation and **not** copied) and one sets the generator state to a state array having a different length, the PRNG does **not** update the existing shared state and, instead, points to the newly provided state array. In order to synchronize PRNG output according to the new shared state array, the state array for **each** relevant PRNG must be **explicitly** set.\n\t* -   If PRNG state is \"shared\" and one sets the generator state to a state array of the same length, the PRNG state is updated (along with the state of all other PRNGs sharing the PRNG's state array).\n\t*\n\t* @private\n\t* @param {PRNGStateMT19937} s - generator state\n\t* @throws {TypeError} must provide a `Uint32Array`\n\t* @throws {Error} must provide a valid state\n\t*/\n\tfunction setState( s ) {\n\t\tvar err;\n\t\tif ( !isUint32Array( s ) ) {\n\t\t\tthrow new TypeError( format( 'invalid argument. Must provide a Uint32Array. Value: `%s`.', s ) );\n\t\t}\n\t\terr = verifyState( s, false );\n\t\tif ( err ) {\n\t\t\tthrow err;\n\t\t}\n\t\tif ( opts.copy === false ) {\n\t\t\tif ( opts.state && s.length === STATE.length ) {\n\t\t\t\tgcopy( s.length, s, 1, STATE, 1 ); // update current shared state\n\t\t\t} else {\n\t\t\t\tSTATE = s; // point to new shared state\n\t\t\t\topts.state = true; // setting this flag allows updating a shared state even if a state array was not provided at PRNG creation\n\t\t\t}\n\t\t} else {\n\t\t\t// Check if we can reuse allocated memory...\n\t\t\tif ( s.length !== STATE.length ) {\n\t\t\t\tSTATE = new Uint32Array( s.length ); // reallocate\n\t\t\t}\n\t\t\tgcopy( s.length, s, 1, STATE, 1 );\n\t\t}\n\t\t// Create a new state \"view\":\n\t\tstate = new Uint32Array( STATE.buffer, STATE.byteOffset+((STATE_SECTION_OFFSET+1)*STATE.BYTES_PER_ELEMENT), N );\n\n\t\t// Create a new seed \"view\":\n\t\tseed = new Uint32Array( STATE.buffer, STATE.byteOffset+((SEED_SECTION_OFFSET+1)*STATE.BYTES_PER_ELEMENT), STATE[ SEED_SECTION_OFFSET ] );\n\t}\n\n\t/**\n\t* Serializes the pseudorandom number generator as a JSON object.\n\t*\n\t* ## Notes\n\t*\n\t* -   `JSON.stringify()` implicitly calls this method when stringifying a PRNG.\n\t*\n\t* @private\n\t* @returns {Object} JSON representation\n\t*/\n\tfunction toJSON() {\n\t\tvar out = {};\n\t\tout.type = 'PRNG';\n\t\tout.name = mt19937.NAME;\n\t\tout.state = typedarray2json( STATE );\n\t\tout.params = [];\n\t\treturn out;\n\t}\n\n\t/**\n\t* Generates a pseudorandom integer on the interval \\\\( [0, 2^{32}) \\\\).\n\t*\n\t* @private\n\t* @returns {uinteger32} pseudorandom integer\n\t*\n\t* @example\n\t* var r = mt19937();\n\t* // returns <number>\n\t*/\n\tfunction mt19937() {\n\t\tvar r;\n\t\tvar i;\n\n\t\t// Retrieve the current state index:\n\t\ti = STATE[ OTHER_SECTION_OFFSET+1 ];\n\n\t\t// Determine whether we need to update the PRNG state:\n\t\tif ( i >= N ) {\n\t\t\tstate = twist( state );\n\t\t\ti = 0;\n\t\t}\n\t\t// Get the next word of \"raw\"/untempered state:\n\t\tr = state[ i ];\n\n\t\t// Update the state index:\n\t\tSTATE[ OTHER_SECTION_OFFSET+1 ] = i + 1;\n\n\t\t// Tempering transform to compensate for the reduced dimensionality of equidistribution:\n\t\tr ^= r >>> 11;\n\t\tr ^= ( r << 7 ) & TEMPERING_COEFFICIENT_1;\n\t\tr ^= ( r << 15 ) & TEMPERING_COEFFICIENT_2;\n\t\tr ^= r >>> 18;\n\n\t\treturn r >>> 0;\n\t}\n\n\t/**\n\t* Generates a pseudorandom number on the interval \\\\( [0, 1) \\\\).\n\t*\n\t* ## Notes\n\t*\n\t* -   The original C implementation credits Isaku Wada for this algorithm (2002/01/09).\n\t*\n\t* @private\n\t* @returns {number} pseudorandom number\n\t*\n\t* @example\n\t* var r = normalized();\n\t* // returns <number>\n\t*/\n\tfunction normalized() {\n\t\tvar x = mt19937() >>> 5;\n\t\tvar y = mt19937() >>> 6;\n\t\treturn ( (x*TWO_26)+y ) * FLOAT64_NORMALIZATION_CONSTANT;\n\t}\n}\n\n\n// EXPORTS //\n\nmodule.exports = factory;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nvar factory = require( './factory.js' );\nvar randuint32 = require( './rand_uint32.js' );\n\n\n// MAIN //\n\n/**\n* Generates a pseudorandom integer on the interval \\\\( [0, 2^{32}) \\\\).\n*\n* ## Method\n*\n* -   When generating normalized double-precision floating-point numbers, we first generate two pseudorandom integers \\\\( x \\\\) and \\\\( y \\\\) on the interval \\\\( [0, 2^{32}) \\\\) for a combined \\\\( 64 \\\\) random bits.\n*\n* -   We would like \\\\( 53 \\\\) random bits to generate a 53-bit precision integer and, thus, want to discard \\\\( 11 \\\\) of the generated bits.\n*\n* -   We do so by discarding \\\\( 5 \\\\) bits from \\\\( x \\\\) and \\\\( 6 \\\\) bits from \\\\( y \\\\).\n*\n* -   Accordingly, \\\\( x \\\\) contains \\\\( 27 \\\\) random bits, which are subsequently shifted left \\\\( 26 \\\\) bits (multiplied by \\\\( 2^{26} \\\\), and \\\\( y \\\\) contains \\\\( 26 \\\\) random bits to fill in the lower \\\\( 26 \\\\) bits. When summed, they combine to comprise \\\\( 53 \\\\) random bits of a double-precision floating-point integer.\n*\n* -   As an example, suppose, for the sake of argument, the 32-bit PRNG generates the maximum unsigned 32-bit integer \\\\( 2^{32}-1 \\\\) twice in a row. Then,\n*\n*     ```javascript\n*     x = 4294967295 >>> 5; // 00000111111111111111111111111111\n*     y = 4294967295 >>> 6; // 00000011111111111111111111111111\n*     ```\n*\n*     Multiplying \\\\( x \\\\) by \\\\( 2^{26} \\\\) returns \\\\( 9007199187632128 \\\\), which, in binary, is\n*\n*     ```binarystring\n*     0 10000110011 11111111111111111111 11111100000000000000000000000000\n*     ```\n*\n*     Adding \\\\( y \\\\) yields \\\\( 9007199254740991 \\\\) (the maximum \"safe\" double-precision floating-point integer value), which, in binary, is\n*\n*     ```binarystring\n*     0 10000110011 11111111111111111111 11111111111111111111111111111111\n*     ```\n*\n* -   Similarly, suppose the 32-bit PRNG generates the following values\n*\n*     ```javascript\n*     x = 1 >>> 5;  // 0 => 00000000000000000000000000000000\n*     y = 64 >>> 6; // 1 => 00000000000000000000000000000001\n*     ```\n*\n*     Multiplying \\\\( x \\\\) by \\\\( 2^{26} \\\\) returns \\\\( 0 \\\\), which, in binary, is\n*\n*     ```binarystring\n*     0 00000000000 00000000000000000000 00000000000000000000000000000000\n*     ```\n*\n*     Adding \\\\( y \\\\) yields \\\\( 1 \\\\), which, in binary, is\n*\n*     ```binarystring\n*     0 01111111111 00000000000000000000 00000000000000000000000000000000\n*     ```\n*\n* -   As different combinations of \\\\( x \\\\) and \\\\( y \\\\) are generated, different combinations of double-precision floating-point exponent and significand bits will be toggled, thus generating pseudorandom double-precision floating-point numbers.\n*\n* ## References\n*\n* -   Matsumoto, Makoto, and Takuji Nishimura. 1998. \"Mersenne Twister: A 623-dimensionally Equidistributed Uniform Pseudo-random Number Generator.\" _ACM Transactions on Modeling and Computer Simulation_ 8 (1). New York, NY, USA: ACM: 330. doi:[10.1145/272991.272995][@matsumoto:1998a].\n* -   Harase, Shin. 2017. \"Conversion of Mersenne Twister to double-precision floating-point numbers.\" _ArXiv_ abs/1708.06018 (September). <https://arxiv.org/abs/1708.06018>.\n*\n* [@matsumoto:1998a]: https://doi.org/10.1145/272991.272995\n*\n* @function mt19937\n* @type {PRNG}\n* @returns {PositiveInteger} pseudorandom integer\n*\n* @example\n* var v = mt19937();\n* // returns <number>\n*/\nvar mt19937 = factory({\n\t'seed': randuint32()\n});\n\n\n// EXPORTS //\n\nmodule.exports = mt19937;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n/**\n* A 32-bit Mersenne Twister pseudorandom number generator.\n*\n* @module @stdlib/random-base-mt19937\n*\n* @example\n* var mt19937 = require( '@stdlib/random-base-mt19937' );\n*\n* var v = mt19937();\n* // returns <number>\n*\n* @example\n* var factory = require( '@stdlib/random-base-mt19937' ).factory;\n*\n* var mt19937 = factory({\n*     'seed': 1234\n* });\n*\n* var v = mt19937();\n* // returns 822569775\n*/\n\n// MODULES //\n\nvar setReadOnly = require( '@stdlib/utils-define-nonenumerable-read-only-property' );\nvar main = require( './main.js' );\nvar factory = require( './factory.js' );\n\n\n// MAIN //\n\nsetReadOnly( main, 'factory', factory );\n\n\n// EXPORTS //\n\nmodule.exports = main;\n","/*\n * If not stated otherwise in this file or this component's LICENSE file the\n * following copyright and licenses apply:\n *\n * Copyright 2023 Comcast Cable Communications Management, LLC.\n *\n * Licensed under the Apache License, Version 2.0 (the License);\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * Simple utility class for capturing a set of sample groups and\n * calculating statistics on them.\n */\nexport class StatTracker {\n  private data: Record<string, number[]> = {};\n\n  /**\n   * Clear all sample groups\n   */\n  reset() {\n    this.data = {};\n  }\n\n  /**\n   * Add a value to a sample group\n   *\n   * @param sampleGroup\n   * @param value\n   */\n  add(sampleGroup: string, value: number) {\n    if (!this.data[sampleGroup]) {\n      this.data[sampleGroup] = [];\n    }\n    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    this.data[sampleGroup]!.push(value);\n  }\n\n  /**\n   * Get the percentile value for a sample group\n   *\n   * @param sampleGroup\n   * @param percentile\n   * @returns\n   */\n  getPercentile(sampleGroup: string, percentile: number) {\n    const values = this.data[sampleGroup];\n    if (!values) {\n      return 0;\n    }\n    values.sort((a, b) => a - b);\n    const index = Math.floor((percentile / 100) * values.length);\n    return values[index]!;\n  }\n\n  /**\n   * Get the standard deviation for a sample group\n   *\n   * @param sampleGroup\n   * @returns\n   */\n  getStdDev(sampleGroup: string) {\n    const values = this.data[sampleGroup];\n    if (!values) {\n      return 0;\n    }\n    const mean = values.reduce((a, b) => a + b, 0) / values.length;\n    const variance =\n      values.map((value) => Math.pow(value - mean, 2)).reduce((a, b) => a + b) /\n      values.length;\n    return Math.sqrt(variance);\n  }\n\n  /**\n   * Get the average value for a sample group\n   *\n   * @param sampleGroup\n   * @returns\n   */\n  getAverage(sampleGroup: string) {\n    const values = this.data[sampleGroup];\n    if (!values) {\n      return 0;\n    }\n    return values.reduce((a, b) => a + b, 0) / values.length;\n  }\n\n  /**\n   * Get the sample count for a sample group\n   *\n   * @param sampleGroup\n   * @returns\n   */\n  getCount(sampleGroup: string) {\n    const values = this.data[sampleGroup];\n    if (!values) {\n      return 0;\n    }\n    return values.length;\n  }\n\n  /**\n   * Get the names of all the sample groups\n   *\n   * @returns\n   */\n  getSampleGroups() {\n    return Object.keys(this.data);\n  }\n}\n","/*\n * If not stated otherwise in this file or this component's LICENSE file the\n * following copyright and licenses apply:\n *\n * Copyright 2023 Comcast Cable Communications Management, LLC.\n *\n * Licensed under the Apache License, Version 2.0 (the License);\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  WebTrFontFace,\n  type Stage,\n  SdfTrFontFace,\n  type FontMetrics,\n} from '@lightningjs/renderer';\n\nexport function installFonts(stage: Stage) {\n  stage.fontManager.addFontFace(\n    new WebTrFontFace({\n      fontFamily: 'NotoSans',\n      descriptors: {},\n      fontUrl: './fonts/NotoSans-Regular.ttf',\n      metrics: {\n        ascender: 1069,\n        descender: -293,\n        lineGap: 0,\n        unitsPerEm: 1000,\n      },\n    }),\n  );\n\n  stage.fontManager.addFontFace(\n    new WebTrFontFace({\n      fontFamily: 'Ubuntu',\n      descriptors: {},\n      fontUrl: './fonts/Ubuntu-Regular.ttf',\n      metrics: {\n        ascender: 776,\n        descender: -185,\n        lineGap: 56,\n        unitsPerEm: 1000,\n      },\n    }),\n  );\n\n  stage.fontManager.addFontFace(\n    new WebTrFontFace({\n      fontFamily: 'Ubuntu-No-Metrics',\n      descriptors: {},\n      fontUrl: './fonts/Ubuntu-Regular.ttf',\n    }),\n  );\n\n  const ubuntuModifiedMetrics: FontMetrics = {\n    ascender: 850,\n    descender: -250,\n    lineGap: 60,\n    unitsPerEm: 1000,\n  };\n\n  stage.fontManager.addFontFace(\n    new WebTrFontFace({\n      fontFamily: 'Ubuntu-Modified-Metrics',\n      descriptors: {},\n      fontUrl: './fonts/Ubuntu-Regular.ttf',\n      metrics: ubuntuModifiedMetrics,\n    }),\n  );\n\n  if (stage.renderer.mode === 'webgl') {\n    stage.fontManager.addFontFace(\n      new SdfTrFontFace('ssdf', {\n        fontFamily: 'NotoSans',\n        descriptors: {},\n        atlasUrl: './fonts/NotoSans-Regular.ssdf.png',\n        atlasDataUrl: './fonts/NotoSans-Regular.ssdf.json',\n        stage,\n        metrics: {\n          ascender: 1000,\n          descender: -200,\n          lineGap: 0,\n          unitsPerEm: 1000,\n        },\n      }),\n    );\n\n    stage.fontManager.addFontFace(\n      new SdfTrFontFace('msdf', {\n        fontFamily: 'Ubuntu',\n        descriptors: {},\n        atlasUrl: './fonts/Ubuntu-Regular.msdf.png',\n        atlasDataUrl: './fonts/Ubuntu-Regular.msdf.json',\n        stage,\n        // Instead of suppling `metrics` this font will rely on the ones\n        // encoded in the json file under `lightningMetrics`.\n      }),\n    );\n\n    stage.fontManager.addFontFace(\n      new SdfTrFontFace('msdf', {\n        fontFamily: 'Ubuntu-Modified-Metrics',\n        descriptors: {},\n        atlasUrl: './fonts/Ubuntu-Regular.msdf.png',\n        atlasDataUrl: './fonts/Ubuntu-Regular.msdf.json',\n        stage,\n        metrics: ubuntuModifiedMetrics,\n      }),\n    );\n\n    stage.fontManager.addFontFace(\n      new SdfTrFontFace('ssdf', {\n        fontFamily: 'Ubuntu-ssdf',\n        descriptors: {},\n        atlasUrl: './fonts/Ubuntu-Regular.ssdf.png',\n        atlasDataUrl: './fonts/Ubuntu-Regular.ssdf.json',\n        stage,\n        metrics: {\n          ascender: 776,\n          descender: -185,\n          lineGap: 56,\n          unitsPerEm: 1000,\n        },\n      }),\n    );\n  }\n}\n","/*\n * If not stated otherwise in this file or this component's LICENSE file the\n * following copyright and licenses apply:\n *\n * Copyright 2023 Comcast Cable Communications Management, LLC.\n *\n * Licensed under the Apache License, Version 2.0 (the License);\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport type { INode, INodeProps, RendererMain } from '@lightningjs/renderer';\n\nexport class Component {\n  readonly node: INode;\n\n  constructor(readonly renderer: RendererMain, nodeProps: Partial<INodeProps>) {\n    this.node = renderer.createNode({\n      ...nodeProps,\n    });\n  }\n\n  get x() {\n    return this.node.x;\n  }\n\n  set x(x: number) {\n    this.node.x = x;\n  }\n\n  get y() {\n    return this.node.y;\n  }\n\n  set y(y: number) {\n    this.node.y = y;\n  }\n\n  get width() {\n    return this.node.width;\n  }\n\n  set width(width: number) {\n    this.node.width = width;\n  }\n\n  get height() {\n    return this.node.height;\n  }\n\n  set height(height: number) {\n    this.node.height = height;\n  }\n}\n","/*\n * If not stated otherwise in this file or this component's LICENSE file the\n * following copyright and licenses apply:\n *\n * Copyright 2023 Comcast Cable Communications Management, LLC.\n *\n * Licensed under the Apache License, Version 2.0 (the License);\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport type {\n  INode,\n  INodeProps,\n  ITextNode,\n  RendererMain,\n} from '@lightningjs/renderer';\nimport { Component } from './Component.js';\n\nconst MARGIN = 20;\nconst BAR_WIDTH = 20;\nconst BAR_HEIGHT = 300;\nconst INFO_TEXT_SIZE = 20;\nconst INFO_TEXT_LINEHEIGHT = INFO_TEXT_SIZE * 1.2;\n\nfunction bytesToMb(bytes: number) {\n  return (bytes / 1024 / 1024).toFixed(2);\n}\n\nexport interface MemMonitorProps extends Partial<INodeProps> {\n  interval?: number;\n}\n\nexport class MemMonitor extends Component {\n  // private memTextNode: ITextNode;\n  private bar: INode;\n  private renderableMemBar: INode;\n  private memUsedBar: INode;\n  private criticalText: ITextNode;\n  private criticalTick: INode;\n  private targetText: ITextNode;\n  private targetTick: INode;\n  private criticalInfoText: ITextNode;\n  private targetInfoText: ITextNode;\n  private memUsedText: ITextNode;\n  private renderableMemUsedText: ITextNode;\n  private cacheInfoText: ITextNode;\n  private intervalHandle: NodeJS.Timeout | null = null;\n  private _interval = 0;\n\n  constructor(renderer: RendererMain, props: MemMonitorProps) {\n    super(renderer, props);\n\n    this.interval = props.interval || 500;\n    this.node.color = 0xffffffaa;\n    this.node.width = 400;\n    this.node.height = BAR_HEIGHT + MARGIN * 2;\n\n    this.bar = renderer.createNode({\n      x: this.node.width - BAR_WIDTH - MARGIN,\n      y: MARGIN,\n      width: BAR_WIDTH,\n      height: BAR_HEIGHT,\n      parent: this.node,\n      color: 0x00000000,\n    });\n\n    this.memUsedBar = renderer.createNode({\n      x: 0,\n      y: 0,\n      width: BAR_WIDTH,\n      height: 0,\n      parent: this.bar,\n      color: 0x0000ffff,\n    });\n\n    this.renderableMemBar = renderer.createNode({\n      x: 0,\n      y: 0,\n      width: BAR_WIDTH,\n      height: 0,\n      parent: this.bar,\n      color: 0xff00ffff,\n    });\n\n    // Bar Frame\n    renderer.createNode({\n      width: BAR_WIDTH,\n      height: BAR_HEIGHT,\n      rtt: true,\n      shader: renderer.createShader('DynamicShader', {\n        effects: [\n          {\n            name: 'e1',\n            type: 'border',\n            props: {\n              color: 0x000000cc,\n              width: 4,\n            },\n          },\n        ],\n      }),\n      parent: this.bar,\n    });\n\n    this.criticalText = renderer.createTextNode({\n      x: -15,\n      y: 0,\n      text: 'Critical',\n      fontFamily: 'Ubuntu',\n      parent: this.bar,\n      fontSize: 20,\n      color: 0xff0000ff,\n      mountX: 1,\n      mountY: 0.5,\n    });\n\n    this.criticalTick = renderer.createNode({\n      x: BAR_WIDTH / 2,\n      y: 0,\n      width: BAR_WIDTH * 2,\n      height: 2,\n      parent: this.bar,\n      color: 0xff0000ff,\n      mount: 0.5,\n    });\n\n    this.targetText = renderer.createTextNode({\n      x: -15,\n      y: 0,\n      text: 'Target',\n      fontFamily: 'Ubuntu',\n      parent: this.bar,\n      fontSize: 20,\n      color: 0x000000ff,\n      mountX: 1,\n      mountY: 0.5,\n    });\n\n    this.targetTick = renderer.createNode({\n      x: BAR_WIDTH / 2,\n      y: 0,\n      width: BAR_WIDTH * 2,\n      height: 2,\n      parent: this.bar,\n      color: 0x000000ff,\n      mount: 0.5,\n    });\n\n    const numLines = 9;\n    const infoTextY =\n      this.node.height - MARGIN - INFO_TEXT_LINEHEIGHT * numLines;\n\n    this.criticalInfoText = renderer.createTextNode({\n      x: MARGIN,\n      y: infoTextY,\n      text: '',\n      fontFamily: 'Ubuntu',\n      parent: this.node,\n      fontSize: INFO_TEXT_SIZE,\n      lineHeight: INFO_TEXT_LINEHEIGHT,\n      color: 0xff0000ff,\n    });\n\n    this.targetInfoText = renderer.createTextNode({\n      x: MARGIN,\n      y: infoTextY + INFO_TEXT_LINEHEIGHT,\n      text: '',\n      fontFamily: 'Ubuntu',\n      parent: this.node,\n      fontSize: INFO_TEXT_SIZE,\n      lineHeight: INFO_TEXT_LINEHEIGHT,\n      color: 0x000000ff,\n    });\n\n    this.memUsedText = renderer.createTextNode({\n      x: MARGIN,\n      y: infoTextY + INFO_TEXT_LINEHEIGHT * 2,\n      text: '',\n      fontFamily: 'Ubuntu',\n      parent: this.node,\n      fontSize: INFO_TEXT_SIZE,\n      lineHeight: INFO_TEXT_LINEHEIGHT,\n      color: 0x0000ffff,\n    });\n\n    this.renderableMemUsedText = renderer.createTextNode({\n      x: MARGIN,\n      y: infoTextY + INFO_TEXT_LINEHEIGHT * 5,\n      text: '',\n      fontFamily: 'Ubuntu',\n      parent: this.node,\n      fontSize: INFO_TEXT_SIZE,\n      lineHeight: INFO_TEXT_LINEHEIGHT,\n      color: 0xff00ffff,\n    });\n\n    this.cacheInfoText = renderer.createTextNode({\n      x: MARGIN,\n      y: infoTextY + INFO_TEXT_LINEHEIGHT * 8,\n      text: '',\n      fontFamily: 'Ubuntu',\n      parent: this.node,\n      fontSize: INFO_TEXT_SIZE,\n      lineHeight: INFO_TEXT_LINEHEIGHT,\n      color: 0x000000ff,\n    });\n\n    const payload = this.renderer.stage.txMemManager.getMemoryInfo();\n    const { criticalThreshold, targetThreshold } = payload;\n    const targetFraction = targetThreshold / criticalThreshold;\n    this.targetTick.y = BAR_HEIGHT - BAR_HEIGHT * targetFraction;\n    this.targetText.y = this.targetTick.y;\n    this.targetInfoText.text = `Target: ${bytesToMb(targetThreshold)} mb (${(\n      targetFraction * 100\n    ).toFixed(1)}%)`;\n    this.criticalInfoText.text = `Critical: ${bytesToMb(criticalThreshold)} mb`;\n\n    this.update();\n  }\n\n  update() {\n    const payload = this.renderer.stage.txMemManager.getMemoryInfo();\n    const { criticalThreshold, memUsed, renderableMemUsed } = payload;\n    const renderableMemoryFraction = renderableMemUsed / criticalThreshold;\n    const memUsedFraction = memUsed / criticalThreshold;\n    this.memUsedBar.height = BAR_HEIGHT * memUsedFraction;\n    this.renderableMemBar.height = BAR_HEIGHT * renderableMemoryFraction;\n    this.renderableMemBar.y = BAR_HEIGHT - this.renderableMemBar.height;\n    this.memUsedBar.y = BAR_HEIGHT - this.memUsedBar.height;\n    this.memUsedText.text = `\nTextures Loaded\n- Size: ${bytesToMb(memUsed)} mb (${(memUsedFraction * 100).toFixed(1)}%)\n- Count: ${payload.loadedTextures}\n`.trim();\n    this.renderableMemUsedText.text = `\nRenderable Loaded\n- ${bytesToMb(renderableMemUsed)} mb (${(\n      renderableMemoryFraction * 100\n    ).toFixed(1)}%)\n- Count: ${payload.renderableTexturesLoaded}\n`.trim();\n    this.cacheInfoText.text = `Cache Size: ${this.renderer.stage.txManager.keyCache.size}`;\n  }\n\n  get interval() {\n    return this._interval;\n  }\n\n  set interval(interval) {\n    this._interval = interval;\n    if (this.intervalHandle) {\n      clearInterval(this.intervalHandle);\n    }\n    this.intervalHandle = setInterval(() => {\n      this.update();\n    }, this._interval);\n  }\n}\n","/*\n * If not stated otherwise in this file or this component's LICENSE file the\n * following copyright and licenses apply:\n *\n * Copyright 2023 Comcast Cable Communications Management, LLC.\n *\n * Licensed under the Apache License, Version 2.0 (the License);\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  RendererMain,\n  type NodeLoadedPayload,\n  type RendererMainSettings,\n  type FpsUpdatePayload,\n} from '@lightningjs/renderer';\nimport {\n  WebGlCoreRenderer,\n  SdfTextRenderer,\n} from '@lightningjs/renderer/webgl';\nimport {\n  CanvasCoreRenderer,\n  CanvasTextRenderer,\n} from '@lightningjs/renderer/canvas';\n\nimport { Inspector } from '@lightningjs/renderer/inspector';\nimport { assertTruthy } from '@lightningjs/renderer/utils';\nimport * as mt19937 from '@stdlib/random-base-mt19937';\nimport type {\n  ExampleSettings,\n  SnapshotOptions,\n} from './common/ExampleSettings.js';\nimport { StatTracker } from './common/StatTracker.js';\nimport { installFonts } from './common/installFonts.js';\nimport { MemMonitor } from './common/MemMonitor.js';\n\ninterface TestModule {\n  default: (settings: ExampleSettings) => Promise<void>;\n  customSettings?: (\n    urlParams: URLSearchParams,\n  ) => Partial<RendererMainSettings>;\n  automation?: (settings: ExampleSettings) => Promise<void>;\n}\n\nconst getTestPath = (testName: string) => `./tests/${testName}.ts`;\nconst testRegex = /\\/tests\\/(.*)\\.ts$/;\nconst getTestName = (path: string) => {\n  const match = path.match(testRegex);\n  if (!match) {\n    throw new Error(`Invalid test path: ${path}`);\n  }\n  // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n  return match[1]!;\n};\n\nconst testModules = import.meta.glob('./tests/*.ts') as Record<\n  string,\n  () => Promise<TestModule>\n>;\n\nconst appWidth = 1920;\nconst appHeight = 1080;\nconst defaultResolution = 720;\nconst defaultPhysicalPixelRatio = 1;\n\n(async () => {\n  // See README.md for details on the supported URL params\n  const urlParams = new URLSearchParams(window.location.search);\n  const automation = urlParams.get('automation') === 'true';\n  /**\n   * In automation mode this is a wildcard string of tests to run.\n   * In manual mode this is the name of the test to run.\n   */\n  const test = urlParams.get('test') || (automation ? '*' : 'test');\n  const showOverlay = urlParams.get('overlay') !== 'false';\n  const showMemMonitor = urlParams.get('monitor') === 'true';\n  const logFps = urlParams.get('fps') === 'true';\n  const enableContextSpy = urlParams.get('contextSpy') === 'true';\n  const perfMultiplier = Number(urlParams.get('multiplier')) || 1;\n  const resolution = Number(urlParams.get('resolution')) || 720;\n  const enableInspector = urlParams.get('inspector') === 'true';\n  const numImageWorkers = urlParams.get('numImageWorkers') ?? 2;\n  const physicalPixelRatio =\n    Number(urlParams.get('ppr')) || defaultPhysicalPixelRatio;\n  const logicalPixelRatio = resolution / appHeight;\n\n  let renderMode = urlParams.get('renderMode');\n  if (renderMode !== 'webgl' && renderMode !== 'canvas') {\n    renderMode = 'webgl';\n  }\n\n  if (!automation) {\n    await runTest(\n      test,\n      renderMode,\n      urlParams,\n      showOverlay,\n      showMemMonitor,\n      logicalPixelRatio,\n      physicalPixelRatio,\n      logFps,\n      enableContextSpy,\n      perfMultiplier,\n      enableInspector,\n      numImageWorkers,\n    );\n    return;\n  }\n  assertTruthy(automation);\n  await runAutomation(renderMode, test, logFps);\n})().catch((err) => {\n  console.error(err);\n});\n\nasync function runTest(\n  test: string,\n  renderMode: string,\n  urlParams: URLSearchParams,\n  showOverlay: boolean,\n  showMemMonitor: boolean,\n  logicalPixelRatio: number,\n  physicalPixelRatio: number,\n  logFps: boolean,\n  enableContextSpy: boolean,\n  perfMultiplier: number,\n  enableInspector: boolean,\n  numImageWorkers: number,\n) {\n  const testModule = testModules[getTestPath(test)];\n  if (!testModule) {\n    throw new Error(`Test \"${test}\" not found`);\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any, @typescript-eslint/no-unsafe-assignment\n  const module = await testModule();\n  // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment, @typescript-eslint/no-unsafe-member-access, @typescript-eslint/no-unsafe-call\n  const customSettings: Partial<RendererMainSettings> =\n    typeof module.customSettings === 'function'\n      ? module.customSettings(urlParams)\n      : {};\n\n  const { renderer, appElement } = await initRenderer(\n    renderMode,\n    logFps,\n    enableContextSpy,\n    logicalPixelRatio,\n    physicalPixelRatio,\n    enableInspector,\n    numImageWorkers,\n    customSettings,\n  );\n\n  let testRoot = renderer.root;\n\n  if (showOverlay) {\n    const overlayText = renderer.createTextNode({\n      color: 0xff0000ff,\n      text: `Test: ${test}`,\n      zIndex: 99999,\n      parent: renderer.root,\n      fontSize: 50,\n    });\n    overlayText.once(\n      'loaded',\n      (target: any, { dimensions }: NodeLoadedPayload) => {\n        overlayText.x = renderer.settings.appWidth - dimensions.width - 20;\n        overlayText.y = renderer.settings.appHeight - dimensions.height - 20;\n      },\n    );\n  }\n\n  let memMonitor: MemMonitor | null = null;\n  if (showMemMonitor) {\n    memMonitor = new MemMonitor(renderer, {\n      mount: 1,\n      x: renderer.settings.appWidth - 20,\n      y: renderer.settings.appHeight - 100,\n      parent: renderer.root,\n      zIndex: 99999,\n    });\n  }\n\n  if (showOverlay || showMemMonitor) {\n    // If we're showing the overlay text or mem monitor, create a new root node\n    // for the test content so it doesn't interfere with the overlay.\n    testRoot = renderer.createNode({\n      parent: renderer.root,\n      x: renderer.root.x,\n      y: renderer.root.y,\n      width: renderer.settings.appWidth,\n      height: renderer.settings.appHeight - 100,\n      color: 0x00000000,\n    });\n  }\n\n  const exampleSettings: ExampleSettings = {\n    testName: test,\n    renderer,\n    appElement,\n    testRoot,\n    automation: false,\n    perfMultiplier: perfMultiplier,\n    snapshot: async () => {\n      // No-op\n    },\n    memMonitor,\n  };\n\n  // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access, @typescript-eslint/no-unsafe-call\n  await module.default(exampleSettings);\n}\n\nasync function initRenderer(\n  renderMode: string,\n  logFps: boolean,\n  enableContextSpy: boolean,\n  logicalPixelRatio: number,\n  physicalPixelRatio: number,\n  enableInspector: boolean,\n  numImageWorkers: number,\n  customSettings?: Partial<RendererMainSettings>,\n) {\n  let inspector: typeof Inspector | undefined;\n  if (enableInspector) inspector = Inspector;\n  const renderer = new RendererMain(\n    {\n      appWidth,\n      appHeight,\n      boundsMargin: [100, 100, 100, 100],\n      deviceLogicalPixelRatio: logicalPixelRatio,\n      devicePhysicalPixelRatio: physicalPixelRatio,\n      clearColor: 0x00000000,\n      fpsUpdateInterval: logFps ? 1000 : 0,\n      enableContextSpy,\n      numImageWorkers,\n      inspector,\n      renderEngine:\n        renderMode === 'webgl' ? WebGlCoreRenderer : CanvasCoreRenderer,\n      fontEngines: [SdfTextRenderer, CanvasTextRenderer],\n      ...customSettings,\n    },\n    'app',\n  );\n  installFonts(renderer.stage);\n\n  /**\n   * Sample data captured\n   */\n  const samples: StatTracker = new StatTracker();\n  /**\n   * Number of samples to capture before calculating FPS stats\n   */\n  const fpsSampleCount = 100;\n  /**\n   * Number of samples to skip before starting to capture FPS samples.\n   */\n  const fpsSampleSkipCount = 10;\n  /**\n   * FPS sample index\n   */\n  let fpsSampleIndex = 0;\n  let fpsSamplesLeft = fpsSampleCount;\n  renderer.on(\n    'fpsUpdate',\n    (target: RendererMain, fpsData: FpsUpdatePayload) => {\n      const captureSample = fpsSampleIndex >= fpsSampleSkipCount;\n      if (captureSample) {\n        samples.add('fps', fpsData.fps);\n\n        if (fpsData.contextSpyData) {\n          let totalCalls = 0;\n          for (const key in fpsData.contextSpyData) {\n            const numCalls = fpsData.contextSpyData[key]!;\n            totalCalls += numCalls;\n            samples.add(key, numCalls);\n          }\n          samples.add('totalCalls', totalCalls);\n        }\n\n        fpsSamplesLeft--;\n        if (fpsSamplesLeft === 0) {\n          const averageFps = samples.getAverage('fps');\n          const p01Fps = samples.getPercentile('fps', 1);\n          const p05Fps = samples.getPercentile('fps', 5);\n          const p25Fps = samples.getPercentile('fps', 25);\n          const medianFps = samples.getPercentile('fps', 50);\n          const stdDevFps = samples.getStdDev('fps');\n          console.log(`---------------------------------`);\n          console.log(`Average FPS: ${averageFps}`);\n          console.log(`Median FPS: ${medianFps}`);\n          console.log(`P01 FPS: ${p01Fps}`);\n          console.log(`P05 FPS: ${p05Fps}`);\n          console.log(`P25 FPS: ${p25Fps}`);\n          console.log(`Std Dev FPS: ${stdDevFps}`);\n          console.log(`Num samples: ${samples.getCount('fps')}`);\n          console.log(`---------------------------------`);\n\n          // Print out median data for all context spy data\n          if (fpsData.contextSpyData) {\n            const contextKeys = samples\n              .getSampleGroups()\n              .filter((key) => key !== 'fps' && key !== 'totalCalls');\n            // Print out median data for all context spy data\n            for (const key of contextKeys) {\n              const median = samples.getPercentile(key, 50);\n              console.log(\n                `median(${key}) / median(fps): ${Math.round(\n                  median / medianFps,\n                )}`,\n              );\n            }\n            const medianTotalCalls = samples.getPercentile('totalCalls', 50);\n            console.log(\n              `median(totalCalls) / median(fps): ${Math.round(\n                medianTotalCalls / medianFps,\n              )}`,\n            );\n            console.log(`---------------------------------`);\n          }\n          samples.reset();\n          fpsSamplesLeft = fpsSampleCount;\n        }\n      }\n      console.log(`FPS: ${fpsData.fps} (samples left: ${fpsSamplesLeft})`);\n      fpsSampleIndex++;\n    },\n  );\n\n  const appElement = document.querySelector('#app');\n\n  assertTruthy(appElement instanceof HTMLDivElement);\n\n  return { renderer, appElement };\n}\n\nfunction wildcardMatch(string: string, wildcardString: string) {\n  const escapeRegex = (s: string) => s.replace(/[-/\\\\^$*+?.()|[\\]{}]/g, '\\\\$&');\n  return new RegExp(\n    `^${wildcardString.split('*').map(escapeRegex).join('.*')}$`,\n  ).test(string);\n}\n\nasync function runAutomation(\n  renderMode: string,\n  filter: string | null,\n  logFps: boolean,\n) {\n  const logicalPixelRatio = defaultResolution / appHeight;\n  const { renderer, appElement } = await initRenderer(\n    renderMode,\n    logFps,\n    false,\n    logicalPixelRatio,\n    defaultPhysicalPixelRatio,\n    false, // enableInspector\n  );\n\n  // Iterate through all test modules\n  for (const testPath in testModules) {\n    const testModule = testModules[testPath];\n    const testName = getTestName(testPath);\n    // Skip tests that don't match the filter (if provided)\n    if (filter && !wildcardMatch(testName, filter)) {\n      continue;\n    }\n    assertTruthy(testModule);\n    // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\n    const { automation, customSettings } = await testModule();\n    console.log(`Attempting to run automation for ${testName}...`);\n    if (automation) {\n      console.log(`Running automation for ${testName}...`);\n      // Override Math.random() as stable random number generator\n      // - Each test gets the same sequence of random numbers\n      // - This only is in effect when tests are run in automation mode\n      const rand = mt19937.factory({ seed: 1234 });\n      Math.random = function () {\n        return rand() / rand.MAX;\n      };\n      if (customSettings) {\n        console.error('customSettings not supported for automation');\n      } else {\n        assertTruthy(renderer.root);\n        const testRoot = renderer.createNode({\n          parent: renderer.root,\n          x: renderer.root.x,\n          y: renderer.root.y,\n          width: renderer.root.width,\n          height: renderer.root.height,\n          color: 0x00000000,\n        });\n        const exampleSettings: ExampleSettings = {\n          testName,\n          renderer,\n          testRoot,\n          appElement,\n          automation: true,\n          perfMultiplier: 1,\n          snapshot: async (options) => {\n            const snapshot = (window as any).snapshot as\n              | ((testName: string, options?: SnapshotOptions) => Promise<void>)\n              | undefined;\n\n            const clipRect = options?.clip || {\n              x: testRoot.x,\n              y: testRoot.y,\n              width: testRoot.width,\n              height: testRoot.height,\n            };\n\n            const adjustedOptions = {\n              ...options,\n              clip: {\n                x: Math.round(clipRect.x * logicalPixelRatio),\n                y: Math.round(clipRect.y * logicalPixelRatio),\n                width: Math.round(clipRect.width * logicalPixelRatio),\n                height: Math.round(clipRect.height * logicalPixelRatio),\n              },\n            };\n\n            // Allow some time for all images to load and the RaF to unpause\n            // and render if needed.\n            await delay(200);\n            if (snapshot) {\n              console.log(`Calling snapshot(${testName})`);\n              await snapshot(testName, adjustedOptions);\n            } else {\n              console.error(\n                'snapshot() not defined (not running in playwright?)',\n              );\n            }\n          },\n          memMonitor: null,\n        };\n        await automation(exampleSettings);\n        testRoot.parent = null;\n        testRoot.destroy();\n      }\n    }\n  }\n  const doneTests = (window as any).doneTests as\n    | (() => Promise<void>)\n    | undefined;\n  if (doneTests) {\n    console.error('Calling doneTests()');\n    await doneTests();\n  } else {\n    console.error('doneTests() not defined (not running in playwright?)');\n  }\n}\n\nfunction delay(ms: number) {\n  return new Promise((resolve) => setTimeout(resolve, ms));\n}\n"],"file":"assets/index-Bnw7StKz.js"}
{"version":3,"file":"test-C2C13V_k.js","sources":["../../common/Character.ts","../../tests/test.ts"],"sourcesContent":["/*\n * If not stated otherwise in this file or this component's LICENSE file the\n * following copyright and licenses apply:\n *\n * Copyright 2023 Comcast Cable Communications Management, LLC.\n *\n * Licensed under the Apache License, Version 2.0 (the License);\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport type {\n  INode,\n  INodeProps,\n  RendererMain,\n  TextureMap,\n} from '@lightningjs/renderer';\nimport { assertTruthy } from '@lightningjs/renderer/utils';\n\nexport class Character {\n  node: INode;\n  curIntervalAnimation: ReturnType<typeof setTimeout> | null = null;\n  direction!: 'left' | 'right'; // Set in setState\n  state!: 'idle' | 'walk' | 'run' | 'jump'; // Set in setState\n\n  constructor(\n    private props: Partial<INodeProps>,\n    private renderer: RendererMain,\n    private rightFrames: InstanceType<TextureMap['SubTexture']>[],\n  ) {\n    this.node = renderer.createNode({\n      x: props.x,\n      y: props.y,\n      width: 200 / 2,\n      height: 300 / 2,\n      texture: rightFrames[0],\n      parent: renderer.root,\n      zIndex: props.zIndex,\n    });\n    assertTruthy(this.node);\n    this.setState('right', 'idle');\n  }\n\n  setState(\n    direction: 'left' | 'right',\n    state: 'idle' | 'walk' | 'run' | 'jump',\n  ) {\n    if (this.direction === direction && this.state === state) {\n      return;\n    }\n    this.direction = direction;\n    this.state = state;\n    switch (state) {\n      case 'idle':\n        this.animateCharacter(direction, 2, 3, 100);\n        break;\n      case 'walk':\n        this.animateCharacter(direction, 0, 7, 100);\n        break;\n      case 'run':\n        this.animateCharacter(direction, 0, 7, 100);\n        break;\n      case 'jump':\n        this.animateCharacter(direction, 0, 7, 100);\n        break;\n    }\n  }\n\n  private animateCharacter(\n    direction: 'left' | 'right',\n    iStart: number,\n    iEnd: number,\n    intervalMs: number,\n  ) {\n    let curI = iStart;\n    const flipX = direction === 'left' ? true : false;\n    if (iEnd + 1 > this.rightFrames.length || iStart < 0) {\n      throw new Error('Animation out of bounds');\n    }\n    if (this.curIntervalAnimation) {\n      clearInterval(this.curIntervalAnimation);\n    }\n    const nextFrame = () => {\n      // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n      this.node.texture = this.rightFrames[curI]!;\n      this.node.textureOptions.flipX = flipX;\n      curI++;\n      if (curI > iEnd) {\n        curI = iStart;\n      }\n    };\n    nextFrame();\n    this.curIntervalAnimation = setInterval(nextFrame, intervalMs);\n  }\n}\n","/*\n * If not stated otherwise in this file or this component's LICENSE file the\n * following copyright and licenses apply:\n *\n * Copyright 2023 Comcast Cable Communications Management, LLC.\n *\n * Licensed under the Apache License, Version 2.0 (the License);\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { type INode, type IAnimationController } from '@lightningjs/renderer';\nimport rocko from '../assets/rocko.png';\nimport elevator from '../assets/elevator.png';\nimport spritemap from '../assets/spritemap.png';\nimport { Character } from '../common/Character.js';\nimport type { ExampleSettings } from '../common/ExampleSettings.js';\n\nexport default async function ({ renderer, testRoot }: ExampleSettings) {\n  const redRect = renderer.createNode({\n    x: 0,\n    y: 0,\n    width: 100,\n    height: 100,\n    color: 0xff0000ff,\n    shader: renderer.createShader('RoundedRectangle', {\n      radius: 50,\n    }),\n    parent: testRoot,\n  });\n\n  const holder = renderer.createNode({\n    x: 150,\n    y: 900,\n    width: 100,\n    height: 100,\n    color: 0xff0000ff,\n    parent: testRoot,\n    zIndex: 0,\n    zIndexLocked: 0,\n    alpha: 0.5,\n  });\n\n  const child = renderer.createNode({\n    x: 111,\n    y: 0,\n    width: 111,\n    height: 111,\n    color: 0xff0000ff,\n    parent: holder,\n    zIndex: 12,\n    alpha: 0.5,\n  });\n\n  const greenRect = renderer.createNode({\n    x: 100,\n    y: 0,\n    width: 100,\n    height: 100,\n    color: 0x00ff00ff,\n    parent: testRoot,\n  });\n\n  const shaft = renderer.createNode({\n    x: 395,\n    y: 0,\n    width: 210,\n    height: renderer.settings.appHeight,\n    color: 0xffffffff,\n    texture: renderer.createTexture('NoiseTexture', {\n      width: 210,\n      height: renderer.settings.appHeight,\n    }),\n    parent: testRoot,\n  });\n\n  /*\n   * Begin: Relative Positioning Platform\n   */\n\n  const relativePositioningPlatform = renderer.createNode({\n    x: 605,\n    y: 230,\n    width: 1315,\n    height: 50,\n    color: 0xaabb66ff,\n    texture: renderer.createTexture('NoiseTexture', {\n      width: 1315,\n      height: 50,\n    }),\n    parent: testRoot,\n  });\n\n  const relativePositioningChild = renderer.createNode({\n    x: 10,\n    y: 10,\n    width: 1315 - 20,\n    height: 30,\n    color: 0xaaedffaa,\n    parent: relativePositioningPlatform,\n    texture: renderer.createTexture('NoiseTexture', {\n      width: 1315 - 20,\n      height: 30,\n    }),\n  });\n\n  const relativePositioningGrandchild = renderer.createNode({\n    x: 10,\n    y: 10,\n    width: 1315 - 20 - 20,\n    height: 10,\n    color: 0xff00ffff,\n    parent: relativePositioningChild,\n    texture: renderer.createTexture('NoiseTexture', {\n      width: 1315 - 20 - 20,\n      height: 50,\n    }),\n  });\n\n  /*\n   * End: Relative Positioning Platform\n   */\n\n  const rockoRect = renderer.createNode({\n    x: -181,\n    y: renderer.settings.appHeight - 218,\n    width: 181,\n    height: 218,\n    src: rocko,\n    color: 0xffffffff,\n    parent: testRoot,\n    zIndex: 1,\n  });\n\n  const elevatorRect = renderer.createNode({\n    x: 400,\n    y: 0,\n    width: 200,\n    height: 268,\n    src: elevator,\n    color: 0x0000ffff,\n    parent: testRoot,\n    zIndex: 2,\n    alpha: 0.9,\n  });\n\n  const elevatorNumber = renderer.createTextNode({\n    x: 0,\n    y: 0,\n    width: 200,\n    height: 268,\n    color: 0xffffffff,\n    alpha: 1.0,\n    text: 'Dn',\n    contain: 'both',\n    fontFamily: 'Ubuntu',\n    fontSize: 100,\n    textAlign: 'center',\n    parent: elevatorRect,\n    zIndex: 3,\n  });\n\n  setInterval(() => {\n    shaft.texture = renderer.createTexture('NoiseTexture', {\n      width: 210,\n      height: renderer.settings.appHeight,\n      cacheId: Math.floor(Math.random() * 100000),\n    });\n    shaft.textureOptions.preload = true;\n  }, 1000);\n\n  // setTimeout required for ThreadX right now because the emit() that sends\n  // the animation to the renderer worker doesn't work until the Node is fully\n  // shared to the worker.\n  let rockoAnimation: IAnimationController | null = null;\n  // eslint-disable-next-line @typescript-eslint/no-misused-promises\n  setTimeout(async () => {\n    // eslint-disable-next-line no-constant-condition\n    while (true) {\n      // force behind elevator\n      rockoRect.zIndex = 1;\n\n      rockoAnimation = rockoRect.animate({}, { duration: 1000 }).start();\n      await rockoAnimation.waitUntilStopped();\n\n      rockoAnimation = rockoRect\n        .animate(\n          {\n            x: 400,\n          },\n          {\n            duration: 1000,\n          },\n        )\n        .start();\n      await rockoAnimation.waitUntilStopped();\n\n      rockoAnimation = rockoRect\n        .animate(\n          {\n            y: elevatorRect.height - rockoRect.height,\n          },\n          {\n            duration: 1000,\n          },\n        )\n        .start();\n      await rockoAnimation.waitUntilStopped();\n\n      // force before elevator\n      rockoRect.zIndex = 3;\n\n      rockoAnimation = rockoRect\n        .animate(\n          {\n            x: renderer.settings.appWidth,\n            // y: 100,\n          },\n          {\n            duration: 2616,\n          },\n        )\n        .start();\n      await rockoAnimation.waitUntilStopped();\n\n      console.log('resetting rocko');\n      rockoRect.x = -rockoRect.width;\n      rockoRect.y = renderer.settings.appHeight - 218;\n      rockoRect.flush();\n    }\n  }, 1000);\n\n  let elevatorAnimation: IAnimationController | null = null;\n\n  // eslint-disable-next-line @typescript-eslint/no-misused-promises\n  setTimeout(async () => {\n    // eslint-disable-next-line no-constant-condition\n    while (true) {\n      elevatorNumber.text = 'Dn';\n      elevatorRect.color = 0x0000ffff;\n      elevatorAnimation = elevatorRect\n        .animate(\n          {\n            y: 1080 - elevatorRect.height,\n          },\n          {\n            duration: 1000,\n          },\n        )\n        .start();\n      await elevatorAnimation.waitUntilStopped();\n\n      elevatorAnimation = elevatorRect\n        .animate(\n          {\n            // y: 1080 - elevatorRect.height,\n          },\n          {\n            duration: 1000,\n          },\n        )\n        .start();\n      await elevatorAnimation.waitUntilStopped();\n\n      elevatorNumber.text = 'Up';\n\n      elevatorRect.color = 0x00ff00ff;\n      elevatorAnimation = elevatorRect\n        .animate(\n          {\n            y: 0,\n          },\n          {\n            duration: 1000,\n          },\n        )\n        .start();\n      await elevatorAnimation.waitUntilStopped();\n\n      elevatorRect.color = 0x00ff00ff;\n      elevatorAnimation = elevatorRect\n        .animate(\n          {\n            // y: 0,\n          },\n          {\n            duration: 2616,\n          },\n        )\n        .start();\n      await elevatorAnimation.waitUntilStopped();\n    }\n  }, 1000);\n\n  let blueRect: INode | null = null;\n\n  const interval = setInterval(() => {\n    redRect.color++;\n  }, 100);\n\n  setInterval(() => {\n    if (blueRect) {\n      blueRect.destroy();\n      blueRect = null;\n    } else {\n      blueRect = renderer.createNode({\n        x: 200,\n        y: 0,\n        width: 100,\n        height: 100,\n        color: 0x0000ffff,\n        parent: testRoot,\n      });\n    }\n  }, 500);\n\n  setInterval(() => {\n    if (greenRect.parent) {\n      greenRect.parent = null;\n    } else {\n      greenRect.parent = testRoot;\n    }\n  }, 1000);\n\n  /*\n   * Begin: Sprite Map Demo\n   */\n\n  const spriteMapTexture = renderer.createTexture('ImageTexture', {\n    src: spritemap,\n  });\n\n  const frames = Array.from(Array(8).keys()).map((i) => {\n    const x = (i % 8) * 100;\n    const y = Math.floor(i / 8) * 150;\n    return renderer.createTexture('SubTexture', {\n      texture: spriteMapTexture,\n      x,\n      y,\n      width: 100,\n      height: 150,\n    });\n  });\n\n  // add bunch of characters\n  for (let i = 0; i < 5; i++) {\n    new Character(\n      { x: 800 + i * 200, y: 125, zIndex: i % 2 === 0 ? 3 : 1 },\n      renderer,\n      frames,\n    );\n  }\n\n  const character = new Character(\n    { x: 1800, y: 125, zIndex: 6 },\n    renderer,\n    frames,\n  );\n\n  // When user presses left or right arrow, move the character\n  // When user presses spacebar, jump\n  window.addEventListener('keydown', (e) => {\n    if (e.code === 'ArrowLeft') {\n      character.setState('left', 'walk');\n      character.node\n        .animate(\n          {\n            x: character.node.x - 30,\n          },\n          { duration: 200 },\n        )\n        .start();\n    } else if (e.code === 'ArrowRight') {\n      character.setState('right', 'walk');\n      character.node\n        .animate(\n          {\n            x: character.node.x + 30,\n          },\n          { duration: 200 },\n        )\n        .start();\n    } else if (e.code === 'Space') {\n      character.setState(character.direction, 'jump');\n    }\n  });\n\n  window.addEventListener('keyup', (e) => {\n    if (e.code === 'ArrowLeft') {\n      character.setState('left', 'idle');\n    } else if (e.code === 'ArrowRight') {\n      character.setState('right', 'idle');\n    }\n  });\n\n  /*\n   * End: Sprite Map Demo\n   */\n\n  /// Text Demo\n  const textNode = renderer.createTextNode({\n    x: shaft.x + shaft.width,\n    y: relativePositioningPlatform.y + relativePositioningPlatform.height,\n    width: 300,\n    height: 200,\n    color: 0xffffffff,\n    alpha: 1.0,\n    text: 'Text Test: 0',\n    fontFamily: 'Ubuntu',\n    contain: 'width',\n    textAlign: 'center',\n    fontSize: 100,\n    scale: 1,\n    parent: testRoot,\n  });\n\n  const noChangeText = renderer.createTextNode({\n    x: renderer.settings.appWidth,\n    y: renderer.settings.appHeight,\n    mount: 1,\n    width: 300,\n    height: 1,\n    color: 0xffffffff,\n    alpha: 1.0,\n    text: 'Rocko Test',\n    fontFamily: 'NotoSans',\n    contain: 'width',\n    textAlign: 'center',\n    fontSize: 100,\n    parent: testRoot,\n  });\n\n  let count = 1;\n  setInterval(() => {\n    textNode.text = `Text Test: ${count++}`;\n  }, 1000);\n\n  console.log('ready!');\n}\n"],"names":["rocko","elevator"],"mappings":"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"}
{"version":3,"file":"texture-autosize-jHpXh2OK.js","sources":["../../tests/texture-autosize.ts"],"sourcesContent":["import type { ExampleSettings } from '../common/ExampleSettings.js';\nimport robotImg from '../assets/robot/robot.png';\nimport { waitForLoadedDimensions } from '../common/utils.js';\n\nexport async function automation(settings: ExampleSettings) {\n  await test(settings);\n  await settings.snapshot();\n}\n\n/**\n * Tests that text nodes with different contain settings and text renderers\n * are displayed correctly.\n *\n * Press the right arrow key to cycle through the different settings when\n * running in the browser.\n *\n * @param settings\n * @returns\n */\nexport default async function test(settings: ExampleSettings) {\n  const { renderer, testRoot } = settings;\n\n  // Set a smaller snapshot area\n  testRoot.width = 200;\n  testRoot.height = 250;\n  testRoot.color = 0xffffffff;\n\n  const image = renderer.createNode({\n    mount: 0.5,\n    x: testRoot.width / 2,\n    y: testRoot.height / 4,\n    autosize: true,\n    src: robotImg,\n    parent: testRoot,\n  });\n\n  const dimensions = await waitForLoadedDimensions(image);\n\n  const dimensionsMatch =\n    dimensions.width === image.width && dimensions.height === image.height;\n\n  renderer.createTextNode({\n    mountX: 0.5,\n    mountY: 1,\n    x: testRoot.width / 2,\n    y: testRoot.height,\n    textAlign: 'center',\n    text: dimensionsMatch ? 'Autosize\\nSuccess' : 'Autosize\\nFailure',\n    color: dimensionsMatch ? 0x00ff00ff : 0xff0000ff,\n    fontSize: 50,\n    fontFamily: 'Ubuntu',\n    parent: testRoot,\n  });\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAIA,SAAsB,WAAW,UAA2B;AAAA,SAAA,QAAA,MAAA,MAAA,aAAA;AAC1D,UAAM,KAAK,QAAQ;AACnB,UAAM,SAAS;EAAS,CAC1B;AAAA;AAYA,SAA8B,KAAK,UAA2B;AAAA,SAAA,QAAA,MAAA,MAAA,aAAA;AACtD,UAAA,EAAE,UAAU,SAAa,IAAA;AAG/B,aAAS,QAAQ;AACjB,aAAS,SAAS;AAClB,aAAS,QAAQ;AAEX,UAAA,QAAQ,SAAS,WAAW;AAAA,MAChC,OAAO;AAAA,MACP,GAAG,SAAS,QAAQ;AAAA,MACpB,GAAG,SAAS,SAAS;AAAA,MACrB,UAAU;AAAA,MACV,KAAK;AAAA,MACL,QAAQ;AAAA,IAAA,CACT;AAEK,UAAA,aAAa,MAAM,wBAAwB,KAAK;AAEtD,UAAM,kBACJ,WAAW,UAAU,MAAM,SAAS,WAAW,WAAW,MAAM;AAElE,aAAS,eAAe;AAAA,MACtB,QAAQ;AAAA,MACR,QAAQ;AAAA,MACR,GAAG,SAAS,QAAQ;AAAA,MACpB,GAAG,SAAS;AAAA,MACZ,WAAW;AAAA,MACX,MAAM,kBAAkB,sBAAsB;AAAA,MAC9C,OAAO,kBAAkB,WAAa;AAAA,MACtC,UAAU;AAAA,MACV,YAAY;AAAA,MACZ,QAAQ;AAAA,IAAA,CACT;AAAA,EAAA,CACH;AAAA;"}
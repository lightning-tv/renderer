{"version":3,"file":"rtt-B2QdAFgM.js","sources":["../../tests/rtt.ts"],"sourcesContent":["import type { ExampleSettings } from '../common/ExampleSettings.js';\nimport test from './alpha-blending.js';\ninterface AnimationExampleSettings {\n  duration: number;\n  easing: string;\n  delay: number;\n  loop: boolean;\n  stopMethod: 'reverse' | 'reset' | false;\n}\n\nconst animationSettings: Partial<AnimationExampleSettings> = {\n  duration: 14000,\n  delay: 400,\n  loop: true,\n  stopMethod: 'reverse',\n  easing: 'ease-in-out-back',\n};\n\nconst randomColor = () => {\n  const randomInt = Math.floor(Math.random() * Math.pow(2, 32));\n  const hexString = randomInt.toString(16).padStart(8, '0');\n  return parseInt(hexString, 16);\n};\n\nconst degToRad = (deg: number) => {\n  return (Math.PI / 180) * deg;\n};\n\nexport default async function ({ renderer, testRoot }: ExampleSettings) {\n  const node = renderer.createNode({\n    x: 0,\n    y: 0,\n    width: 1920,\n    height: 1080,\n    color: 0x000000ff,\n    parent: testRoot,\n  });\n\n  const rootRenderToTextureNode = renderer.createNode({\n    x: 0,\n    y: 0,\n    width: 1920,\n    height: 1080,\n    parent: node,\n    rtt: true,\n    zIndex: 5,\n    colorTop: 0xc0ffeeff,\n    colorBottom: 0xbada55ff,\n  });\n\n  new Array(105).fill(0).forEach((_, i) => {\n    const a = renderer.createNode({\n      parent: rootRenderToTextureNode,\n      x: (i % 15) * 120 + 120,\n      y: Math.floor(i / 15) * 120 + 150,\n      width: 120,\n      height: 120,\n      scale: 1,\n      // src: '../assets/rocko.png',\n      src: `https://picsum.photos/id/${i + 30}/120/120`,\n    });\n  });\n\n  new Array(20).fill(0).forEach((_, i) => {\n    const a = renderer.createNode({\n      x: (i % 1) * 1920,\n      y: Math.floor(i / 1) * 800,\n      width: 1920,\n      height: 1080,\n      parent: testRoot,\n      alpha: 1,\n      color: 0xffffffff,\n      // Copy source texture from rootRenderToTextureNode\n      texture: rootRenderToTextureNode.texture,\n    });\n\n    const animation = a.animate(\n      {\n        y: Math.floor(i / 1) * 800 - 15000,\n      },\n      animationSettings,\n    );\n    animation.start();\n  });\n\n  setTimeout(() => {\n    rootRenderToTextureNode.alpha = 0;\n  }, 2000);\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;AAUA,MAAM,oBAAuD;AAAA,EAC3D,UAAU;AAAA,EACV,OAAO;AAAA,EACP,MAAM;AAAA,EACN,YAAY;AAAA,EACZ,QAAQ;AACV;AAYA,SAAA,IAA+B,IAAyC;AAAzC,SAAA,QAAA,MAAA,WAAA,WAAA,EAAE,UAAU,YAA6B;AAChE,UAAA,OAAO,SAAS,WAAW;AAAA,MAC/B,GAAG;AAAA,MACH,GAAG;AAAA,MACH,OAAO;AAAA,MACP,QAAQ;AAAA,MACR,OAAO;AAAA,MACP,QAAQ;AAAA,IAAA,CACT;AAEK,UAAA,0BAA0B,SAAS,WAAW;AAAA,MAClD,GAAG;AAAA,MACH,GAAG;AAAA,MACH,OAAO;AAAA,MACP,QAAQ;AAAA,MACR,QAAQ;AAAA,MACR,KAAK;AAAA,MACL,QAAQ;AAAA,MACR,UAAU;AAAA,MACV,aAAa;AAAA,IAAA,CACd;AAEG,QAAA,MAAM,GAAG,EAAE,KAAK,CAAC,EAAE,QAAQ,CAAC,GAAG,MAAM;AAC7B,eAAS,WAAW;AAAA,QAC5B,QAAQ;AAAA,QACR,GAAI,IAAI,KAAM,MAAM;AAAA,QACpB,GAAG,KAAK,MAAM,IAAI,EAAE,IAAI,MAAM;AAAA,QAC9B,OAAO;AAAA,QACP,QAAQ;AAAA,QACR,OAAO;AAAA;AAAA,QAEP,KAAK,4BAA4B,WAAI,IAAE;AAAA,MAAA,CACxC;AAAA,IAAA,CACF;AAEG,QAAA,MAAM,EAAE,EAAE,KAAK,CAAC,EAAE,QAAQ,CAAC,GAAG,MAAM;AAChC,YAAA,IAAI,SAAS,WAAW;AAAA,QAC5B,GAAI,IAAI,IAAK;AAAA,QACb,GAAG,KAAK,MAAM,IAAI,CAAC,IAAI;AAAA,QACvB,OAAO;AAAA,QACP,QAAQ;AAAA,QACR,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,OAAO;AAAA;AAAA,QAEP,SAAS,wBAAwB;AAAA,MAAA,CAClC;AAED,YAAM,YAAY,EAAE;AAAA,QAClB;AAAA,UACE,GAAG,KAAK,MAAM,IAAI,CAAC,IAAI,MAAM;AAAA,QAC/B;AAAA,QACA;AAAA,MAAA;AAEF,gBAAU,MAAM;AAAA,IAAA,CACjB;AAED,eAAW,MAAM;AACf,8BAAwB,QAAQ;AAAA,OAC/B,GAAI;AAAA,EAAA,CACT;AAAA;"}
{"version":3,"file":"zIndex-legacy-Hu4P8qpq.js","sources":["../../tests/zIndex.ts"],"sourcesContent":["/*\n * If not stated otherwise in this file or this component's LICENSE file the\n * following copyright and licenses apply:\n *\n * Copyright 2023 Comcast Cable Communications Management, LLC.\n *\n * Licensed under the Apache License, Version 2.0 (the License);\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport type { ExampleSettings } from '../common/ExampleSettings.js';\n\nexport const Colors = {\n  Black: 0x000000ff,\n  Red: 0xff0000ff,\n  Green: 0x00ff00ff,\n  Blue: 0x0000ffff,\n  Magenta: 0xff00ffff,\n  Gray: 0x7f7f7fff,\n  White: 0xffffffff,\n};\n\nexport async function automation(settings: ExampleSettings) {\n  // Snapshot single page\n  await test(settings);\n  await settings.snapshot();\n}\n\nexport default async function test({ renderer, testRoot }: ExampleSettings) {\n  const leftStackText = renderer.createTextNode({\n    x: 100,\n    y: 100,\n    width: 400,\n    height: 268,\n    color: 0xffffffff,\n    alpha: 1.0,\n    text: 'These should neatly stack on top of each other.',\n    contain: 'both',\n    fontFamily: 'Ubuntu',\n    fontSize: 30,\n    textAlign: 'center',\n    parent: testRoot,\n    zIndex: 3,\n  });\n\n  const generatedRectangles: any = [];\n\n  Array(10)\n    .fill(null)\n    .forEach((_, i) => {\n      const color = Object.keys(Colors)[i % Object.keys(Colors).length];\n\n      generatedRectangles.push(\n        renderer.createNode({\n          x: 200 + i * 20,\n          y: 200 + i * 20,\n          width: 200,\n          height: 200,\n          // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n          //@ts-ignore\n          color: Colors[color],\n          shader: renderer.createShader('RoundedRectangle', {\n            radius: 2,\n          }),\n          zIndex: 10 + (i + 1),\n          parent: testRoot,\n        }),\n      );\n    });\n\n  const parentRect = renderer.createNode({\n    x: 800,\n    y: 200,\n    width: 600,\n    height: 600,\n    color: Colors.Gray,\n    // shader: renderer.createShader('RoundedRectangle', {\n    //   radius: 40,\n    // }),\n    zIndex: 2,\n    parent: testRoot,\n    zIndexLocked: 1,\n  });\n\n  const childRectWhite = renderer.createNode({\n    x: 100,\n    y: 100,\n    width: 200,\n    height: 200,\n    color: Colors.White,\n    // shader: renderer.createShader('RoundedRectangle', {\n    //   radius: 40,\n    // }),\n    zIndex: 4,\n    parent: parentRect,\n  });\n\n  const childRectRed = renderer.createNode({\n    x: 120,\n    y: 120,\n    width: 200,\n    height: 200,\n    color: Colors.Red,\n    // shader: renderer.createShader('RoundedRectangle', {\n    //   radius: 40,\n    // }),\n    zIndex: 5,\n    parent: parentRect,\n  });\n\n  const rightStackText = renderer.createTextNode({\n    x: 700,\n    y: 100,\n    width: 700,\n    height: 268,\n    color: 0xffffffff,\n    alpha: 1.0,\n    text: 'Green box should overlap even though it has a lower zIndex because the parent is locked',\n    contain: 'both',\n    fontFamily: 'Ubuntu',\n    fontSize: 30,\n    textAlign: 'center',\n    parent: testRoot,\n    zIndex: 3,\n  });\n\n  const blockingRect = renderer.createNode({\n    x: 750,\n    y: 300,\n    width: 400,\n    height: 100,\n    color: Colors.Green,\n    // shader: renderer.createShader('RoundedRectangle', {\n    //   radius: 40,\n    // }),\n    zIndex: 2,\n    parent: testRoot,\n  });\n\n  window.addEventListener('keydown', (e) => {\n    if (e.code === 'ArrowLeft') {\n      // reverse the order of the rectangles\n      // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access, @typescript-eslint/no-unsafe-call, @typescript-eslint/no-explicit-any\n      generatedRectangles.forEach((rect: any) => {\n        // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n        rect.zIndex = 100 - rect.zIndex;\n      });\n    }\n  });\n\n  /*\n   * Error stuff\n   */\n\n  renderer.createNode({\n    x: 0,\n    y: 0,\n    width: 10,\n    height: 10,\n    color: 0x00ffffff,\n    shader: renderer.createShader('RoundedRectangle', {\n      radius: 2,\n    }),\n    // eslint-disable-next-line  @typescript-eslint/no-loss-of-precision\n    zIndex: 148901482921849101841290481,\n    // eslint-disable-next-line  @typescript-eslint/no-loss-of-precision\n    zIndexLocked: 148901482921849101841290481,\n    parent: testRoot,\n  });\n\n  renderer.createNode({\n    x: 0,\n    y: 900,\n    width: 10,\n    height: 10,\n    color: 0x00ffffff,\n    shader: renderer.createShader('RoundedRectangle', {\n      radius: 2,\n    }),\n    // eslint-disable-next-line  @typescript-eslint/no-loss-of-precision\n    zIndex: -148901482921849101841290481,\n    // eslint-disable-next-line  @typescript-eslint/no-loss-of-precision\n    zIndexLocked: -148901482921849101841290481,\n    parent: testRoot,\n  });\n\n  renderer.createNode({\n    x: 1000,\n    y: 900,\n    width: 10,\n    height: 10,\n    color: 0x00ffffff,\n    shader: renderer.createShader('RoundedRectangle', {\n      radius: 2,\n    }),\n    // @ts-expect-error Invalid prop test\n    zIndex: 'boop',\n    // @ts-expect-error Invalid prop test\n    zIndexLocked: 'boop',\n    parent: testRoot,\n  });\n\n  renderer.createNode({\n    x: 1000,\n    y: 0,\n    width: 10,\n    height: 10,\n    color: 0x00ffffff,\n    shader: renderer.createShader('RoundedRectangle', {\n      radius: 2,\n    }),\n    // @ts-expect-error Invalid prop test\n    zIndex: true,\n    // @ts-expect-error Invalid prop test\n    zIndexLocked: true,\n    parent: testRoot,\n  });\n\n  renderer.createNode({\n    x: 1000,\n    y: 0,\n    width: 10,\n    height: 10,\n    color: 0x00ffffff,\n    shader: renderer.createShader('RoundedRectangle', {\n      radius: 2,\n    }),\n    // @ts-expect-error Invalid prop test\n    zIndex: null,\n    // @ts-expect-error Invalid prop test\n    zIndexLocked: null,\n    parent: testRoot,\n  });\n\n  renderer.createNode({\n    x: 200,\n    y: 0,\n    width: 10,\n    height: 10,\n    color: 0x00ffffff,\n    shader: renderer.createShader('RoundedRectangle', {\n      radius: 2,\n    }),\n    zIndex: undefined,\n    zIndexLocked: undefined,\n    parent: testRoot,\n  });\n\n  renderer.createNode({\n    x: 200,\n    y: 900,\n    width: 10,\n    height: 10,\n    color: 0x00ffffff,\n    shader: renderer.createShader('RoundedRectangle', {\n      radius: 2,\n    }),\n    // @ts-expect-error Invalid prop test\n    // eslint-disable-next-line  @typescript-eslint/no-empty-function\n    zIndex: () => {},\n    // @ts-expect-error Invalid prop test\n    // eslint-disable-next-line  @typescript-eslint/no-empty-function\n    zIndexLocked: () => {},\n    parent: testRoot,\n  });\n\n  renderer.createNode({\n    x: 500,\n    y: 900,\n    width: 10,\n    height: 10,\n    color: 0x00ffffff,\n    shader: renderer.createShader('RoundedRectangle', {\n      radius: 2,\n    }),\n    // @ts-expect-error Invalid prop test\n    zIndex: {},\n    // @ts-expect-error Invalid prop test\n    zIndexLocked: {},\n    parent: testRoot,\n  });\n}\n"],"names":["Colors","exports","Black","Red","Green","Blue","Magenta","Gray","White","automation","settings","__async","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","test","snapshot","stop","_0","arguments","_ref","renderer","testRoot","_callee2","generatedRectangles","parentRect","_callee2$","_context2","createTextNode","x","y","width","height","color","alpha","text","contain","fontFamily","fontSize","textAlign","parent","zIndex","Array","fill","forEach","_","i","Object","keys","length","push","createNode","shader","createShader","radius","zIndexLocked","window","addEventListener","e","code","rect"],"mappings":"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"}
{"version":3,"file":"texture-autosize-rPJ4qjhq.js","sources":["../../tests/texture-autosize.ts"],"sourcesContent":["import type { ExampleSettings } from '../common/ExampleSettings.js';\nimport robotImg from '../assets/robot/robot.png';\nimport { waitForLoadedDimensions } from '../common/utils.js';\n\nexport async function automation(settings: ExampleSettings) {\n  await test(settings);\n  await settings.snapshot();\n}\n\n/**\n * Tests that text nodes with different contain settings and text renderers\n * are displayed correctly.\n *\n * Press the right arrow key to cycle through the different settings when\n * running in the browser.\n *\n * @param settings\n * @returns\n */\nexport default async function test(settings: ExampleSettings) {\n  const { renderer, testRoot } = settings;\n\n  // Set a smaller snapshot area\n  testRoot.width = 200;\n  testRoot.height = 250;\n  testRoot.color = 0xffffffff;\n\n  const image = renderer.createNode({\n    mount: 0.5,\n    x: testRoot.width / 2,\n    y: testRoot.height / 4,\n    autosize: true,\n    src: robotImg,\n    parent: testRoot,\n  });\n\n  const dimensions = await waitForLoadedDimensions(image);\n\n  const dimensionsMatch =\n    dimensions.width === image.width && dimensions.height === image.height;\n\n  renderer.createTextNode({\n    mountX: 0.5,\n    mountY: 1,\n    x: testRoot.width / 2,\n    y: testRoot.height,\n    textAlign: 'center',\n    text: dimensionsMatch ? 'Autosize\\nSuccess' : 'Autosize\\nFailure',\n    color: dimensionsMatch ? 0x00ff00ff : 0xff0000ff,\n    fontSize: 50,\n    fontFamily: 'Ubuntu',\n    parent: testRoot,\n  });\n}\n"],"names":[],"mappings":";;AAIA,eAAsB,WAAW,UAA2B;AAC1D,QAAM,KAAK,QAAQ;AACnB,QAAM,SAAS;AACjB;AAYA,eAA8B,KAAK,UAA2B;AACtD,QAAA,EAAE,UAAU,SAAa,IAAA;AAG/B,WAAS,QAAQ;AACjB,WAAS,SAAS;AAClB,WAAS,QAAQ;AAEX,QAAA,QAAQ,SAAS,WAAW;AAAA,IAChC,OAAO;AAAA,IACP,GAAG,SAAS,QAAQ;AAAA,IACpB,GAAG,SAAS,SAAS;AAAA,IACrB,UAAU;AAAA,IACV,KAAK;AAAA,IACL,QAAQ;AAAA,EAAA,CACT;AAEK,QAAA,aAAa,MAAM,wBAAwB,KAAK;AAEtD,QAAM,kBACJ,WAAW,UAAU,MAAM,SAAS,WAAW,WAAW,MAAM;AAElE,WAAS,eAAe;AAAA,IACtB,QAAQ;AAAA,IACR,QAAQ;AAAA,IACR,GAAG,SAAS,QAAQ;AAAA,IACpB,GAAG,SAAS;AAAA,IACZ,WAAW;AAAA,IACX,MAAM,kBAAkB,sBAAsB;AAAA,IAC9C,OAAO,kBAAkB,WAAa;AAAA,IACtC,UAAU;AAAA,IACV,YAAY;AAAA,IACZ,QAAQ;AAAA,EAAA,CACT;AACH;"}
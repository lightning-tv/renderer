{"version":3,"file":"viewport-events-canvas-C8UfsP8w.js","sources":["../../tests/viewport-events-canvas.ts"],"sourcesContent":["/*\n * If not stated otherwise in this file or this component's LICENSE file the\n * following copyright and licenses apply:\n *\n * Copyright 2024 Comcast Cable Communications Management, LLC.\n *\n * Licensed under the Apache License, Version 2.0 (the License);\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport type { ExampleSettings } from '../common/ExampleSettings.js';\n\nexport default async function ({ renderer, testRoot }: ExampleSettings) {\n  const instructionText = renderer.createTextNode({\n    text: 'Press space to start animation, arrow keys to move, enter to reset',\n    fontSize: 30,\n    x: 10,\n    y: 960,\n    fontFamily: 'Ubuntu-ssdf',\n    parent: testRoot,\n  });\n\n  const redStatus = renderer.createTextNode({\n    text: 'Red Status: ',\n    fontSize: 30,\n    x: 10,\n    y: 50,\n    fontFamily: 'Ubuntu-ssdf',\n    parent: testRoot,\n  });\n\n  const blueStatus = renderer.createTextNode({\n    text: 'Blue Status: ',\n    fontSize: 30,\n    x: 10,\n    y: 10,\n    fontFamily: 'Ubuntu-ssdf',\n    parent: testRoot,\n  });\n\n  const boundaryRect = renderer.createNode({\n    x: 1920 / 2 - (1920 * 0.75) / 2,\n    y: 1080 / 2 - (1080 * 0.75) / 2,\n    width: 1440,\n    height: 810,\n    color: 0x000000ff,\n    clipping: true,\n    parent: testRoot,\n  });\n\n  const redText = renderer.createTextNode({\n    x: 500,\n    y: 305,\n    alpha: 1,\n    width: 200,\n    height: 200,\n    color: 0xff0000ff,\n    pivot: 0,\n    text: 'red',\n    fontSize: 80,\n    fontFamily: 'sans-serif',\n    parent: boundaryRect,\n  });\n\n  redText.on('outOfBounds', () => {\n    console.log('red text out of bounds');\n    redStatus.text = 'Red Status: text out of bounds';\n    redStatus.color = 0xff0000ff;\n  });\n\n  redText.on('inViewport', () => {\n    console.log('red text in view port');\n    redStatus.text = 'Red Status: text in view port';\n    redStatus.color = 0x00ff00ff;\n  });\n\n  redText.on('inBounds', () => {\n    console.log('red text inside render bounds');\n    redStatus.text = 'Red Status: text in bounds';\n    redStatus.color = 0xffff00ff;\n  });\n\n  const blueText = renderer.createTextNode({\n    x: 1920 / 2 - 200,\n    y: 100,\n    alpha: 1,\n    width: 200,\n    height: 200,\n    color: 0x0000ffff,\n    pivot: 0,\n    text: 'blue',\n    fontSize: 80,\n    fontFamily: 'sans-serif',\n    parent: testRoot,\n  });\n\n  blueText.on('outOfBounds', () => {\n    console.log('blue text ouf ot bounds');\n    blueStatus.text = 'Blue Status: blue text out of bounds';\n    blueStatus.color = 0xff0000ff;\n  });\n\n  blueText.on('inViewport', () => {\n    console.log('blue text in view port');\n    blueStatus.text = 'Blue Status: blue text in view port';\n    blueStatus.color = 0x00ff00ff;\n  });\n\n  blueText.on('inBounds', () => {\n    console.log('blue text inside render bounds');\n    blueStatus.text = 'Blue Status: blue text in bounds';\n    blueStatus.color = 0xffff00ff;\n  });\n\n  let runAnimation = false;\n  const animate = async () => {\n    redText\n      .animate(\n        {\n          x: -500,\n        },\n        {\n          duration: 4000,\n        },\n      )\n      .start();\n\n    await blueText\n      .animate(\n        {\n          x: -1200,\n        },\n        {\n          duration: 4000,\n        },\n      )\n      .start()\n      .waitUntilStopped();\n\n    redText.x = 1920 + 400;\n    blueText.x = 1920 + 400;\n\n    redText\n      .animate(\n        {\n          x: 520,\n        },\n        {\n          duration: 4000,\n        },\n      )\n      .start();\n\n    await blueText\n      .animate(\n        {\n          x: 1920 / 2 - 200,\n        },\n        {\n          duration: 4000,\n        },\n      )\n      .start()\n      .waitUntilStopped();\n\n    if (runAnimation) {\n      // eslint-disable-next-line @typescript-eslint/no-misused-promises\n      setTimeout(animate, 2000);\n    }\n  };\n\n  const moveModifier = 10;\n  window.onkeydown = (e) => {\n    if (e.key === ' ') {\n      runAnimation = !runAnimation;\n\n      if (runAnimation) {\n        // eslint-disable-next-line @typescript-eslint/no-floating-promises\n        animate();\n      }\n    }\n\n    if (e.key === 'ArrowRight') {\n      redText.x += moveModifier;\n      blueText.x += moveModifier;\n    }\n\n    if (e.key === 'ArrowLeft') {\n      redText.x -= moveModifier;\n      blueText.x -= moveModifier;\n    }\n\n    if (e.key === 'Enter') {\n      runAnimation = false;\n      redText.x = 520;\n      blueText.x = 1920 / 2 - 200;\n    }\n  };\n}\n"],"names":[],"mappings":"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"}
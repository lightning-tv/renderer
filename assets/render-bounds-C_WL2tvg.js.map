{"version":3,"file":"render-bounds-C_WL2tvg.js","sources":["../../tests/render-bounds.ts"],"sourcesContent":["import type { IAnimationController } from '@lightningjs/renderer';\nimport type { ExampleSettings } from '../common/ExampleSettings.js';\n\nexport default async function ({ renderer, testRoot }: ExampleSettings) {\n  const degToRad = (deg: number) => {\n    return (Math.PI / 180) * deg;\n  };\n\n  const greenRect = renderer.createNode({\n    x: 0,\n    y: 540,\n    width: 960,\n    height: 540,\n    color: 0x00ff00ff,\n    clipping: true,\n    parent: testRoot,\n  });\n\n  const redRect = renderer.createNode({\n    // skipRender: true,\n    x: 0,\n    y: 0,\n    alpha: 1,\n    width: 200,\n    height: 200,\n    color: 0xff0000ff,\n    pivot: 0,\n    parent: testRoot,\n  });\n\n  redRect.on('outOfViewport', () => {\n    console.log('red rect outside view port');\n  });\n\n  redRect.on('inViewport', () => {\n    console.log('red rect in view port');\n  });\n\n  let redRectAnimation: IAnimationController | null = null;\n  // eslint-disable-next-line @typescript-eslint/no-misused-promises\n  setTimeout(async () => {\n    // eslint-disable-next-line no-constant-condition\n    while (true) {\n      redRectAnimation = redRect\n        .animate(\n          {\n            x: 0,\n          },\n          {\n            delay: 2000,\n            duration: 2000,\n          },\n        )\n        .start();\n      await redRectAnimation.waitUntilStopped();\n\n      redRectAnimation = redRect\n        .animate(\n          {\n            x: -205,\n          },\n          {\n            duration: 2000,\n          },\n        )\n        .start();\n      await redRectAnimation.waitUntilStopped();\n    }\n  }, 1000);\n\n  const blueRect = renderer.createNode({\n    x: 1921,\n    y: 540,\n    width: 540,\n    height: 540,\n    color: 0x0000ffff,\n    mountX: 0.5,\n    mountY: 0.5,\n    rotation: degToRad(45 + 180),\n    parent: greenRect,\n  });\n\n  blueRect.on('outOfBounds', () => {\n    console.log('blue rect outside render bounds');\n  });\n\n  blueRect.on('inBounds', () => {\n    console.log('blue rect in render bounds');\n  });\n\n  let blueRectAnimation: IAnimationController | null = null;\n  // eslint-disable-next-line @typescript-eslint/no-misused-promises\n  setTimeout(async () => {\n    // eslint-disable-next-line no-constant-condition\n    while (true) {\n      blueRectAnimation = blueRect\n        .animate(\n          {\n            rotation: degToRad(360),\n            x: 1000,\n          },\n          {\n            delay: 1000,\n            duration: 2000,\n          },\n        )\n        .start();\n      await blueRectAnimation.waitUntilStopped();\n\n      blueRectAnimation = blueRect\n        .animate(\n          {\n            rotation: degToRad(45),\n            x: 2400,\n          },\n          {\n            duration: 2000,\n          },\n        )\n        .start();\n      await blueRectAnimation.waitUntilStopped();\n    }\n  }, 1000);\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;AAGA,SAAA,aAA+B,IAAyC;AAAzC,SAAA,QAAA,MAAA,WAAA,WAAA,EAAE,UAAU,YAA6B;AAChE,UAAA,WAAW,CAAC,QAAgB;AACxB,aAAA,KAAK,KAAK,MAAO;AAAA,IAAA;AAGrB,UAAA,YAAY,SAAS,WAAW;AAAA,MACpC,GAAG;AAAA,MACH,GAAG;AAAA,MACH,OAAO;AAAA,MACP,QAAQ;AAAA,MACR,OAAO;AAAA,MACP,UAAU;AAAA,MACV,QAAQ;AAAA,IAAA,CACT;AAEK,UAAA,UAAU,SAAS,WAAW;AAAA;AAAA,MAElC,GAAG;AAAA,MACH,GAAG;AAAA,MACH,OAAO;AAAA,MACP,OAAO;AAAA,MACP,QAAQ;AAAA,MACR,OAAO;AAAA,MACP,OAAO;AAAA,MACP,QAAQ;AAAA,IAAA,CACT;AAEO,YAAA,GAAG,iBAAiB,MAAM;AAChC,cAAQ,IAAI,4BAA4B;AAAA,IAAA,CACzC;AAEO,YAAA,GAAG,cAAc,MAAM;AAC7B,cAAQ,IAAI,uBAAuB;AAAA,IAAA,CACpC;AAED,QAAI,mBAAgD;AAEpD,eAAW,MAAY,QAAA,MAAA,MAAA,aAAA;AAErB,aAAO,MAAM;AACX,2BAAmB,QAChB;AAAA,UACC;AAAA,YACE,GAAG;AAAA,UACL;AAAA,UACA;AAAA,YACE,OAAO;AAAA,YACP,UAAU;AAAA,UACZ;AAAA,UAED,MAAM;AACT,cAAM,iBAAiB;AAEvB,2BAAmB,QAChB;AAAA,UACC;AAAA,YACE,GAAG;AAAA,UACL;AAAA,UACA;AAAA,YACE,UAAU;AAAA,UACZ;AAAA,UAED,MAAM;AACT,cAAM,iBAAiB;MACzB;AAAA,IAAA,IACC,GAAI;AAED,UAAA,WAAW,SAAS,WAAW;AAAA,MACnC,GAAG;AAAA,MACH,GAAG;AAAA,MACH,OAAO;AAAA,MACP,QAAQ;AAAA,MACR,OAAO;AAAA,MACP,QAAQ;AAAA,MACR,QAAQ;AAAA,MACR,UAAU,SAAS,KAAK,GAAG;AAAA,MAC3B,QAAQ;AAAA,IAAA,CACT;AAEQ,aAAA,GAAG,eAAe,MAAM;AAC/B,cAAQ,IAAI,iCAAiC;AAAA,IAAA,CAC9C;AAEQ,aAAA,GAAG,YAAY,MAAM;AAC5B,cAAQ,IAAI,4BAA4B;AAAA,IAAA,CACzC;AAED,QAAI,oBAAiD;AAErD,eAAW,MAAY,QAAA,MAAA,MAAA,aAAA;AAErB,aAAO,MAAM;AACX,4BAAoB,SACjB;AAAA,UACC;AAAA,YACE,UAAU,SAAS,GAAG;AAAA,YACtB,GAAG;AAAA,UACL;AAAA,UACA;AAAA,YACE,OAAO;AAAA,YACP,UAAU;AAAA,UACZ;AAAA,UAED,MAAM;AACT,cAAM,kBAAkB;AAExB,4BAAoB,SACjB;AAAA,UACC;AAAA,YACE,UAAU,SAAS,EAAE;AAAA,YACrB,GAAG;AAAA,UACL;AAAA,UACA;AAAA,YACE,UAAU;AAAA,UACZ;AAAA,UAED,MAAM;AACT,cAAM,kBAAkB;MAC1B;AAAA,IAAA,IACC,GAAI;AAAA,EAAA,CACT;AAAA;"}
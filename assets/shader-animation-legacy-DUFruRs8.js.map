{"version":3,"file":"shader-animation-legacy-DUFruRs8.js","sources":["../../tests/shader-animation.ts"],"sourcesContent":["/*\n * If not stated otherwise in this file or this component's LICENSE file the\n * following copyright and licenses apply:\n *\n * Copyright 2023 Comcast Cable Communications Management, LLC.\n *\n * Licensed under the Apache License, Version 2.0 (the License);\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport type { ExampleSettings } from '../common/ExampleSettings.js';\n\nexport async function automation(settings: ExampleSettings) {\n  // Snapshot single page\n  await test(settings);\n  // await settings.snapshot();\n}\n\nexport default async function test({\n  renderer,\n  testRoot,\n  snapshot,\n}: ExampleSettings) {\n  const degToRad = (deg: number) => {\n    return (Math.PI / 180) * deg;\n  };\n\n  const nodeSize = {\n    width: 300,\n    height: 300,\n  };\n\n  const t1 = renderer.createNode({\n    ...nodeSize,\n    x: 90,\n    y: 90,\n    color: 0xff0000ff,\n    shader: renderer.createShader('RoundedRectangle', {\n      radius: 100,\n    }),\n    parent: testRoot,\n  });\n\n  const t1Radius = renderer.createTextNode({\n    mountX: 1,\n    x: testRoot.width - 90,\n    y: 90,\n    fontSize: 40,\n    fontFamily: 'Ubuntu',\n    text: 'radius: 100',\n    parent: testRoot,\n    color: 0xffffffff,\n  });\n\n  const t2 = renderer.createNode({\n    ...nodeSize,\n    x: 90,\n    y: 540,\n    color: 0x00ff00ff,\n    shader: renderer.createDynamicShader([\n      renderer.createEffect(\n        'radius',\n        {\n          radius: 0,\n        },\n        'r1',\n      ),\n      renderer.createEffect(\n        'border',\n        {\n          color: 0xff00ffff,\n          width: 10,\n        },\n        'e1',\n      ),\n    ]),\n    parent: testRoot,\n  });\n\n  const t2Radius = renderer.createTextNode({\n    mountX: 1,\n    x: testRoot.width - 90,\n    y: 540,\n    fontSize: 40,\n    fontFamily: 'Ubuntu',\n    text: 'radius: 0',\n    parent: testRoot,\n    color: 0xffffffff,\n  });\n\n  const t2Border = renderer.createTextNode({\n    mountX: 1,\n    x: testRoot.width - 90,\n    y: 590,\n    fontSize: 40,\n    fontFamily: 'Ubuntu',\n    text: 'border: 10',\n    parent: testRoot,\n    color: 0xffffffff,\n  });\n\n  await snapshot({ name: 'startup' });\n\n  const shaderAnimation = t1.animate(\n    {\n      x: 1140,\n      shaderProps: {\n        radius: 150,\n      },\n    },\n    {\n      duration: 500,\n    },\n  );\n  shaderAnimation.start();\n  await shaderAnimation.waitUntilStopped();\n  t1Radius.text = 'radius: ' + t1.shader.props.radius!.toString();\n\n  await snapshot({ name: 'animation1' });\n\n  const shaderAnimation2 = t2.animate(\n    {\n      x: 1140,\n      shaderProps: {\n        r1: {\n          radius: 150,\n        },\n        e1: {\n          width: 50,\n        },\n      },\n    },\n    {\n      duration: 500,\n    },\n  );\n\n  shaderAnimation2.start();\n  await shaderAnimation2.waitUntilStopped();\n  t2Radius.text = 'radius: ' + t2.shader.props.r1.radius!.toString();\n  t2Border.text = 'border: ' + t2.shader.props.e1.width!.toString();\n\n  await snapshot({ name: 'animation2' });\n  console.log('ready!');\n}\n"],"names":["automation","settings","__async","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","test","stop","_0","arguments","_ref","renderer","testRoot","snapshot","_callee2","nodeSize","t1","t1Radius","t2","t2Radius","t2Border","shaderAnimation","shaderAnimation2","_callee2$","_context2","width","height","createNode","__spreadProps","__spreadValues","x","y","color","shader","createShader","radius","parent","createTextNode","mountX","fontSize","fontFamily","text","createDynamicShader","createEffect","name","animate","shaderProps","duration","start","waitUntilStopped","props","toString","r1","e1","console","log"],"mappings":"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"}